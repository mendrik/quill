{"version":3,"file":"quill.js","sourceRoot":"C:/Projects/quill/frontend/typescript/","sources":["typescript/types.ts","typescript/common/utils.ts","typescript/common/headers.ts","typescript/common/polyfill.ts","typescript/components/translate.ts","typescript/components/progress.ts","typescript/components/html-fragment.ts","typescript/components/ajax-widget.ts","typescript/components/ajax-form.ts","typescript/components/selectable-tree-label.ts","typescript/components/custom-node.ts","typescript/routes/notfound.ts","typescript/modules/navigation.ts","typescript/routes/project.ts","typescript/routes/login.ts","typescript/routes/password-change.ts","typescript/modules/tree-actions.ts","typescript/modules/content.ts","typescript/quill-app.ts","typescript/start.ts"],"names":[],"mappings":"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","sourcesContent":["module quill {\n\n    type ErrorType = 'validation'\n\n    export enum Keys {\n        ENTER = 13\n    }\n\n    export interface Error {\n        type: ErrorType,\n        title: string,\n        message: string\n    }\n\n    export interface Errors {\n        errors: Error[]\n    }\n\n    export interface User {\n        id: number,\n        name: string,\n        email: string,\n        firstname: string,\n        lastname: string,\n        lastProject: string\n    }\n\n    export interface Project {\n        id: number,\n        name: string,\n        structure: Node[],\n        schema: Node[]\n    }\n\n    export interface Node {\n        id: number,\n        name: string,\n        type: NodeType,\n        root: NodeRoot,\n        order: number\n        children: Node[]\n    }\n\n    export interface NewNode {\n        name: string,\n        sort: number\n    }\n\n    export interface ApiError {\n        code: number,\n        message: string\n    }\n\n    export interface IdParam {\n        id: string\n    }\n\n    export type NodeRoot = 'structure' | 'schema'\n\n    export type NodeType = 'string' | 'number' | 'enum' | 'boolean' | 'node' | 'list'\n\n}\n","module quill {\n\n    import TreeNodeIcon = feather.ui.tree.TreeNodeIcon\n\n    const urlParams = {}\n\n    const popstate = () => {\n        const pl = /\\+/g,  // Regex for replacing addition symbol with a space\n            search = /([^&=]+)=?([^&]*)/g,\n            decode = function (s) {\n                return decodeURIComponent(s.replace(pl, ' '))\n            },\n            query = window.location.search.substring(1)\n        let match\n        while (match = search.exec(query)) {\n            urlParams[decode(match[1])] = decode(match[2])\n        }\n    }\n\n    window.addEventListener('popstate', popstate)\n    popstate()\n\n    export const getQueryStringParam = (key: string) => urlParams[key]\n\n    export const iconFor = (type: NodeType): TreeNodeIcon => {\n        switch (type) {\n            case 'string':\n                return TreeNodeIcon.text\n            case 'number':\n                return TreeNodeIcon.number\n            case 'enum':\n                return TreeNodeIcon.enum\n            case 'list':\n                return TreeNodeIcon.array\n            case 'node':\n                return TreeNodeIcon.object\n            case 'boolean':\n                return TreeNodeIcon.boolean\n        }\n    }\n\n    export interface HasChildren<T> {\n        children: HasChildren<T>[]\n    }\n\n    export const flattenTree = <T>(node: HasChildren<T>) =>\n        [node].concat(...node.children.map(flattenTree))\n\n}\n","module quill {\n\n    import TypedMap      = feather.types.TypedMap\n    import StringFactory = feather.types.StringFactory\n\n    const AUTH_HEADER = 'X-Auth-Token'\n\n    export const headers: TypedMap<string|StringFactory> = {\n        'X-Api-Key': 'AbCdEfGhIjK1',\n        'Content-Type': 'application/json',\n        'Accept-Language': 'en',\n        [AUTH_HEADER]: localStorage.getItem(AUTH_HEADER)\n    }\n\n    export const setToken = (token: Token) => {\n        localStorage.setItem(AUTH_HEADER, token.token)\n        headers[AUTH_HEADER] = token.token\n    }\n\n    export const removeToken = () => {\n        localStorage.removeItem(AUTH_HEADER)\n        headers[AUTH_HEADER] = undefined\n    }\n\n}\n","if (window['Element'] && !Element.prototype.closest) {\n    Element.prototype.closest = (s) => {\n        const matches = (this.document || this.ownerDocument).querySelectorAll(s)\n        let i,\n            el = this\n        do {\n            i = matches.length;\n            while (--i >= 0 && matches.item(i) !== el) {\n                //\n            }\n        } while ((i < 0) && (el = el.parentElement))\n        return el\n    }\n}\n","module quill {\n\n    import Widget    = feather.core.Widget\n    import Construct = feather.annotations.Construct\n    import Bind      = feather.observe.Bind\n    import Template  = feather.annotations.Template\n\n    @Construct({selector: '[key]', attributes: ['key']})\n    export class Translate extends Widget {\n\n        @Bind() key: string\n\n        constructor(key: string) {\n            super()\n            this.key = key\n        }\n\n        init(element: HTMLElement) {\n            element.classList.remove('key')\n            this.render()\n        }\n\n        @Template()\n        markup() {\n            return `{{key:translate}}`\n        }\n    }\n}\n","module quill {\n\n    import Widget    = feather.core.Widget\n    import Construct = feather.annotations.Construct\n    import Bind      = feather.observe.Bind\n    import Template  = feather.annotations.Template\n\n    @Construct({selector: 'progress-bar'})\n    export class Progress extends Widget {\n\n        static instance: Progress;\n\n        @Bind() fetching = false\n\n        constructor() {\n            super()\n            Progress.instance = this\n        }\n\n        init() {\n            this.render()\n        }\n\n        @Template()\n        markup() {\n            return `<div class=\"progress-runner {{fetching:runningClass}}\"></div>`\n        }\n\n        static start() {\n            Progress.instance.fetching = true\n        }\n\n        static stop() {\n            Progress.instance.fetching = false\n        }\n\n        runningClass = (running: boolean) => running ? 'running' : undefined\n    }\n}\n","module quill.components {\n\n    import Widget    = feather.core.Widget\n    import Construct = feather.annotations.Construct\n    import Template  = feather.annotations.Template\n    import Bind      = feather.observe.Bind\n\n    @Construct({selector: 'html-fragment', attributes: ['html-key']})\n    export class HtmlFragment extends Widget {\n\n        @Bind({html: true}) key: string\n\n        constructor(key: string) {\n            super()\n            this.key = key\n        }\n\n        init(element: HTMLElement) {\n            element.classList.remove('html-key')\n            this.render()\n        }\n\n        @Template()\n        text() {\n            return '{{key:translate}}'\n        }\n\n    }\n}\n","module quill.components {\n\n    import GestureWidget = feather.ui.events.GestureWidget\n    import Theme         = feather.ui.toast.Theme\n    import ToastManager  = feather.ui.toast.ToastManager\n    import Toast         = feather.ui.toast.Toast\n    import Subscribe     = feather.hub.Subscribe\n\n    export class AjaxWidget extends GestureWidget {\n\n        @Subscribe('xhr-failure-500')\n        requestFailed(err: Errors) {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.error.server', err.errors[0].message, Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-403')\n        requestForbidden() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.errors.forbidden.title', 'ui.errors.forbidden.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-401')\n        requestUnauthorized() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.errors.unauthorized.title', 'ui.errors.unauthorized.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-405')\n        requestMethodNotAllowed() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.errors.notallowed.title', 'ui.errors.notallowed.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-timeout')\n        timeout() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.error.timeout.title', 'ui.error.timeout.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-error')\n        genericError() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.error.generic.title', 'ui.error.generic.message', Theme.Error))\n        }\n    }\n}\n","module quill.components {\n\n    import Theme        = feather.ui.toast.Theme\n    import ToastManager = feather.ui.toast.ToastManager\n    import Toast        = feather.ui.toast.Toast\n    import Subscribe    = feather.hub.Subscribe\n\n    export class AjaxForm extends AjaxWidget {\n\n        @Subscribe('xhr-failure-400')\n        validationFailed(err: Errors) {\n            Progress.stop()\n            const messages = err.errors.map(e => {\n                if (e.type === 'validation') {\n                    this.triggerDown('field-error', e.title)\n                }\n                return e.message\n            })\n            if (err.errors.length) {\n                const errorType = err.errors[0].title.split('.').shift()\n                ToastManager.showToast(new Toast(`ui.${errorType}.failed`, messages, Theme.Warning))\n            }\n        }\n    }\n}\n","module quill.components {\n\n    import GestureWidget   = feather.ui.events.GestureWidget\n    import Construct       = feather.annotations.Construct\n    import Subscribe       = feather.hub.Subscribe\n    import On              = feather.event.On\n    import Bind            = feather.observe.Bind\n    import Template        = feather.annotations.Template\n    import removeFromArray = feather.arrays.removeFromArray\n    import TreeNode        = feather.ui.tree.TreeNode\n\n    @Construct({selector: 'selectable-tree-label', attributes: ['label', 'selected', 'type']})\n    export class SelectableTreeLabel extends GestureWidget {\n\n        static labels: SelectableTreeLabel[] = []\n\n        @Bind() selected: boolean\n        @Bind() label: string\n        type: string\n\n        constructor(label: string, selected: boolean, type: string) {\n            super();\n            this.label = label\n            this.selected = selected\n            this.type = type\n            SelectableTreeLabel.labels.push(this)\n        }\n\n        init() {\n            this.render()\n        }\n\n        @On({event: 'tap'})\n        click() {\n            this.selected = true;\n            this.triggerUp('root-type-selected', this.type)\n            SelectableTreeLabel.labels.forEach(l => {\n                if (l !== this) {\n                    l.selected = false\n                }\n            })\n        }\n\n        @Subscribe('defocus-other-nodes')\n        nodeSelected(node: TreeNode<any>) {\n            if (node) {\n                this.selected = false\n            }\n        }\n\n        @Template()\n        markup() {\n            return (\n            `<p class=\"menu-label clickable\" {{selected}}>\n                <span class=\"icon is-small\">\n                    <i class=\"fa fa-angle-double-right\"></i>\n                </span>\n                {{label}}\n            </p>`)\n        }\n\n        cleanUp() {\n            super.cleanUp()\n            removeFromArray(SelectableTreeLabel.labels, [this])\n        }\n    }\n}\n","module quill {\r\n\r\n    import TreeNode = feather.ui.tree.TreeNode\r\n    import On       = feather.event.On\r\n    import Scope    = feather.event.Scope\r\n    import isDef = feather.functions.isDef;\r\n\r\n    export enum DropPostion {\r\n        inside = 'inside',\r\n        above = 'above',\r\n        below = 'below'\r\n    }\r\n\r\n    export interface NodeDrop {\r\n        from: string\r\n        to: string,\r\n        position: DropPostion,\r\n        open\r\n    }\r\n\r\n    const NODE_DATA_TYPE = 'quill/node-id'\r\n\r\n    export class CustomTreeNode extends TreeNode<Node> implements HasChildren<TreeNode<Node>> {\r\n        parent: CustomTreeNode\r\n\r\n        id = () => `${this.value.id}`\r\n\r\n        init(el: Element) {\r\n            el.setAttribute('draggable', 'true')\r\n            el.setAttribute('tabindex', '-1')\r\n        }\r\n\r\n        @On({event: 'dragstart', scope: Scope.Direct})\r\n        dragstart(ev: DragEvent) {\r\n            ev.dataTransfer.setData(NODE_DATA_TYPE, this.id())\r\n        }\r\n\r\n        @On({event: 'dragover', scope: Scope.Direct, preventDefault: true})\r\n        dragover(ev: DragEvent) {\r\n            const relY = ev.clientY - this.element.getBoundingClientRect().top\r\n            if (relY < 6) {\r\n                this.element.setAttribute('data-dragover', DropPostion.above)\r\n            } else if (relY > 18) {\r\n                this.element.setAttribute('data-dragover', DropPostion.below)\r\n            } else {\r\n                this.element.setAttribute('data-dragover', DropPostion.inside)\r\n            }\r\n        }\r\n\r\n        @On({event: 'dragleave', scope: Scope.Direct})\r\n        dragleave() {\r\n            setTimeout(() => // prevent flicker between :before <-> :after toggle\r\n                this.element.removeAttribute('data-dragover'), 30)\r\n        }\r\n\r\n        @On({event: 'drop', scope: Scope.Direct})\r\n        drop(ev: DragEvent) {\r\n            const id = ev.dataTransfer.getData(NODE_DATA_TYPE)\r\n            this.dragleave()\r\n            if (id) {\r\n                this.triggerUp('node-drop', {\r\n                    from: id,\r\n                    to: this.id(),\r\n                    position: this.element.getAttribute('data-dragover'),\r\n                    open: this.children.length > 0 && this.open\r\n                } as NodeDrop)\r\n            }\r\n        }\r\n\r\n        static toTreeNode = (n: Node) => {\r\n            const tn = new CustomTreeNode(n.name, n, quill.iconFor(n.type))\r\n            tn.children.push(...n.children.map(n => {\r\n                const child = CustomTreeNode.toTreeNode(n)\r\n                child.parent = tn\r\n                return child\r\n            }))\r\n            return tn\r\n        }\r\n\r\n        add(node: CustomTreeNode, index?: number) {\r\n            if (isDef(index)) {\r\n                this.children.splice(index, 0, node)\r\n            } else {\r\n                this.children.push(node)\r\n            }\r\n            node.parent = this\r\n        }\r\n    }\r\n}\r\n","module quill {\n\n    import Template      = feather.annotations.Template\n    import On            = feather.event.On\n    import GestureWidget = feather.ui.events.GestureWidget\n\n    export class NotFoundPage extends GestureWidget {\n\n        @On({event: 'tap', selector: '.back-action', preventDefault: true})\n        backButtonClicked() {\n            this.route('/')\n        }\n\n        @Template('default')\n        loginPage() {\n            return `\n            <scroll-pane class=\"grow\">\n                <div class=\"small-info-page\">\n                  <h1 key=\"ui.page.notfound.title\"/>\n                  <p key=\"ui.page.notfound.body\"/>\n                  <div class=\"form-components\">\n                    <div class=\"block has-text-right\">\n                        <a class=\"button is-primary back-action\" key=\"ui.page.notfound.button\"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            `\n        }\n    }\n}\n","module quill {\n\n    import Construct                    = feather.annotations.Construct\n    import Template                     = feather.annotations.Template\n    import On                           = feather.event.On\n    import GestureWidget                = feather.ui.events.GestureWidget\n    import Subscribe                    = feather.hub.Subscribe\n    import addMultipleEventListeners    = feather.ui.events.addMultipleEventListeners\n    import removeMultipleEventListeners = feather.ui.events.removeMultipleEventListeners\n    import tapEvents                    = feather.ui.events.tapEvents\n    import Rest                         = feather.xhr.Rest\n\n    @Construct({selector: 'navigation', singleton: true})\n    export class Navigation extends GestureWidget {\n\n        constructor() {\n            super()\n            this.closeHandler = this.closeHandler.bind(this)\n        }\n\n        init() {\n            this.render()\n        }\n\n        @On({event: 'tap', selector: '.navbar-toggle'})\n        toggle(ev, el) {\n            this.toggleActiveState()\n            if (el.classList.contains('is-active')) {\n                addMultipleEventListeners(tapEvents, document, this.closeHandler)\n            } else {\n                removeMultipleEventListeners(tapEvents, document, this.closeHandler)\n            }\n        }\n\n        closeHandler(ev) {\n            const el = this.element\n            if (!el.contains(ev.target as Element)) {\n                this.toggleActiveState()\n                removeMultipleEventListeners(tapEvents, document, this.closeHandler)\n            }\n        }\n\n        toggleActiveState() {\n            const el = this.element.querySelector('.navbar-toggle')\n            el.classList.toggle('is-active')\n            const menu = this.element.querySelector('.navbar-menu')\n            menu.classList.toggle('is-active')\n        }\n\n        @On({event: 'tap', selector: 'a.logout'})\n        logoutClicked() {\n            this.doLogout()\n        }\n\n        @Rest({url: '/signout', headers: quill.headers})\n        doLogout() {\n            removeToken()\n            this.route('/login')\n        }\n\n        @Subscribe('xhr-failure-401')\n        logoutFailed() {\n            removeToken()\n            this.route('/login')\n        }\n\n        @Template()\n        markup() {\n            return `\n            <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n              <div class=\"navbar-brand\">\n                <a class=\"navbar-item\" href=\"/\" id=\"logo\">\n                    <img src=\"/assets/images/quill.svg\" alt=\"Quill Logo\">\n                    <span>Quill</span><span>{{project.name}}</span>\n                </a>\n                <div class=\"navbar-burger navbar-toggle\">\n                  <span></span>\n                  <span></span>\n                  <span></span>\n                </div>\n              </div>\n              <div class=\"navbar-menu\">\n                <div class=\"navbar-end\">\n                    <a class=\"navbar-item logout\">Logout <span class=\"username\">{{user.firstname}}</span></a>\n                    <a class=\"navbar-item\">Documentation</a>\n                    <div  class=\"navbar-item\">\n                        <p class=\"control has-icons-right\" id=\"search\">\n                          <input class=\"input\" type=\"text\" placeholder=\"Search...\">\n                          <Icon name=\"search\" align-right=\"right\"></Icon>\n                        </p>\n                    </div>\n                </div>\n              </div>\n            </nav>\n            `\n        }\n    }\n}\n","module quill {\r\n\r\n    import Template        = feather.annotations.Template\r\n    import Bind            = feather.observe.Bind\r\n    import Subscribe       = feather.hub.Subscribe\r\n    import Rest            = feather.xhr.Rest\r\n    import Method          = feather.xhr.Method\r\n    import isDef           = feather.functions.isDef\r\n    import removeFromArray = feather.arrays.removeFromArray\r\n    import AjaxWidget      = quill.components.AjaxWidget\r\n\r\n    interface RenameNode {\r\n        name: string\r\n    }\r\n\r\n    const dummyProject: Project = {\r\n        id: 0,\r\n        name: '',\r\n        structure: [],\r\n        schema: []\r\n    }\r\n\r\n    export class ProjectPage extends AjaxWidget {\r\n\r\n        @Bind() nodes: Array<CustomTreeNode> = []\r\n        @Bind() schemaNodes: Array<CustomTreeNode> = []\r\n        @Bind({bequeath: true}) project: Project = dummyProject\r\n\r\n        projectId: string\r\n        currentTreeNode: CustomTreeNode\r\n        currentRootType: NodeRoot = 'structure'\r\n\r\n        newNode: NewNode = {\r\n            name: 'New node',\r\n            sort: 0\r\n        }\r\n\r\n        renameNode: RenameNode\r\n        moveNode: NodeDrop\r\n\r\n        id = () => this.projectId\r\n\r\n        constructor(projectId: string) {\r\n            super()\r\n            this.projectId = projectId\r\n        }\r\n\r\n        init() {\r\n            Progress.start()\r\n            this.fetchProject()\r\n        }\r\n\r\n        @Rest({url: '/projects/{{projectId}}', headers: quill.headers})\r\n        fetchProject(project?: Project) {\r\n            this.project = project\r\n            this.nodes.splice(0, this.nodes.length,\r\n                ...project.structure.map(CustomTreeNode.toTreeNode))\r\n            Progress.stop()\r\n        }\r\n\r\n        @Subscribe('node-defocused')\r\n        nodeDeselected(node: CustomTreeNode) {\r\n            this.currentTreeNode = undefined\r\n        }\r\n\r\n        @Subscribe('node-focused')\r\n        nodeSelected(node: CustomTreeNode) {\r\n            (node.element as HTMLLIElement).focus()\r\n            this.currentTreeNode = node\r\n            this.triggerDown('defocus-other-nodes', node)\r\n        }\r\n\r\n        @Subscribe('root-type-selected')\r\n        rootTypeSelected(type: NodeRoot) {\r\n            this.currentRootType = type\r\n            this.currentTreeNode = undefined\r\n            this.triggerDown('defocus-other-nodes')\r\n        }\r\n\r\n        @Subscribe('node-action')\r\n        nodeAction(action: string) {\r\n            switch (action) {\r\n                case 'node-add': {\r\n                    Progress.start()\r\n                    if (isDef(this.currentTreeNode)) {\r\n                        this.createChildNode()\r\n                    } else {\r\n                        this.createNode()\r\n                    }\r\n                    break\r\n                }\r\n                case 'node-edit': {\r\n                    this.currentTreeNode.focusAndEdit()\r\n                    break\r\n                }\r\n                case 'node-delete': {\r\n                    this.deleteNode()\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        @Rest({url: '/node/{{currentTreeNode.id}}', method: Method.POST, body: 'newNode', headers: quill.headers})\r\n        createChildNode(node?: Node) {\r\n            Progress.stop()\r\n            const newNode = CustomTreeNode.toTreeNode(node)\r\n            this.currentTreeNode.add(newNode)\r\n            this.currentTreeNode.open = true\r\n            this.currentTreeNode.selected = false\r\n            newNode.focusAndEdit()\r\n        }\r\n\r\n        @Rest({url: '/projects/{{projectId}}/{{currentRootType}}', method: Method.POST, body: 'newNode', headers: quill.headers})\r\n        createNode(node?: Node) {\r\n            Progress.stop()\r\n            const newNode = CustomTreeNode.toTreeNode(node)\r\n            this.nodes.push(newNode)\r\n            newNode.focusAndEdit()\r\n        }\r\n\r\n        @Rest({url: '/node/{{currentTreeNode.id}}', method: Method.DELETE, headers: quill.headers})\r\n        deleteNode() {\r\n            const node = this.currentTreeNode\r\n            const nodes = isDef(node.parent) ? node.parent.children : this.nodes\r\n            removeFromArray(nodes, [node])\r\n            this.currentTreeNode = undefined\r\n            this.triggerDown('defocus-other-nodes')\r\n        }\r\n\r\n        @Rest({url: '/node/{{currentTreeNode.id}}', method: Method.PUT, body: 'renameNode', headers: quill.headers})\r\n        renameNodeCall() {\r\n            Progress.stop()\r\n        }\r\n\r\n        @Subscribe('node-edited')\r\n        editNode(node: CustomTreeNode) {\r\n            Progress.start()\r\n            this.renameNode = {name: node.text}\r\n            this.renameNodeCall()\r\n        }\r\n\r\n        @Rest({url: '/node/{{moveNode.from}}/to/{{moveNode.to}}', method: Method.PUT, body: 'moveNode', headers: quill.headers})\r\n        moveNodeCall() {\r\n            Progress.stop()\r\n            const mn       = this.moveNode\r\n            const allNodes = this.allNodes(this.nodes)\r\n            const from     = allNodes.find(n => n.id() === mn.from)\r\n            const to       = allNodes.find(n => n.id() === mn.to)\r\n            const nodes    = isDef(from.parent) ? from.parent.children : this.nodes\r\n            const toNodes  = isDef(to.parent) ? to.parent.children : this.nodes\r\n            removeFromArray(nodes, [from])\r\n            if (mn.position === DropPostion.inside) {\r\n                const position = nodes.indexOf(to)\r\n                to.add(from, position + 1)\r\n            } else {\r\n                const index = toNodes.indexOf(to) + (mn.position === DropPostion.below ? 1 : 0)\r\n                toNodes.splice(index, 0, from)\r\n            }\r\n        }\r\n\r\n        @Subscribe('node-drop')\r\n        dragNode(drop: NodeDrop) {\r\n            Progress.start()\r\n            this.moveNode = {...drop}\r\n            this.moveNodeCall()\r\n        }\r\n\r\n        @Template()\r\n        projectPage() {\r\n            return `\r\n            <panel class=\"fullscreen v-flex\">\r\n                <navigation class=\"no-grow\"></navigation>\r\n                <horizontal-split class=\"grow\" id=\"app-split\">\r\n                  <sidebar class=\"v-flex\">\r\n                    <tree-actions></tree-actions>\r\n                    <scroll-pane class=\"grow\">\r\n                      <aside class=\"menu\">\r\n                        <selectable-tree-label label=\"Structure\" selected={true} type=\"structure\"></selectable-tree-label>\r\n                        <ul class=\"tree-view is-marginless\" {{nodes}}></ul>\r\n                        <selectable-tree-label label=\"Schemas\" selected={false} type=\"schema\"></selectable-tree-label>\r\n                        <ul class=\"tree-view is-marginless\" {{schemaNodes}}></ul>\r\n                      </aside>\r\n                    </scroll-pane>\r\n                  </sidebar>\r\n                  <section class=\"v-flex\">\r\n                    <scroll-pane class=\"grow\">\r\n                    </scroll-pane>\r\n                  </section>\r\n                </horizontal-split>\r\n                <footer class=\"no-grow\"/>\r\n            </panel>`\r\n        }\r\n\r\n        private allNodes(nodes: CustomTreeNode[]) {\r\n            return [].concat(...nodes.map(flattenTree))\r\n        }\r\n    }\r\n}\r\n","module quill {\n\n    import Template        = feather.annotations.Template\n    import Bind            = feather.observe.Bind\n    import Subscribe       = feather.hub.Subscribe\n    import On              = feather.event.On\n    import Rest            = feather.xhr.Rest\n    import Method          = feather.xhr.Method\n    import Theme           = feather.ui.toast.Theme\n    import AjaxForm        = quill.components.AjaxForm\n    import Toast           = feather.ui.toast.Toast\n    import ToastManager    = feather.ui.toast.ToastManager\n    import Scope           = feather.event.Scope\n    import TextInputConfig = feather.ui.TextInputConfig\n\n    interface Credentials {\n        identifier?: string,\n        password?: string\n    }\n\n    export interface Token {\n        token: string\n    }\n\n    interface Signup {\n        email?: string,\n        password?: string\n        firstname?: string\n        lastname?: string\n    }\n\n    interface ForgotPassword {\n        identifier?: string\n    }\n\n    export class LoginPage extends AjaxForm {\n\n        credentials: Credentials = {}\n        signup: Signup = {}\n        forgotPassword: ForgotPassword = {}\n\n        @Bind() forgotPasswordInfo = 'forgot-password.info'\n\n        @On({event: 'tap', selector: '.login-action'})\n        loginClicked() {\n            Progress.start()\n            this.doLogin()\n        }\n\n        @On({event: 'keypress', selector: 'input[type=\"password\"]', scope: Scope.Direct})\n        pressedEnter(ev: KeyboardEvent) {\n            if (ev.keyCode === Keys.ENTER) {\n                Progress.start()\n                this.doLogin()\n            }\n        }\n\n        @Rest({url: '/signin', method: Method.POST, body: 'credentials', headers: quill.headers})\n        doLogin(token?: Token) {\n            setToken(token)\n            this.route('/ ')\n            Progress.stop()\n        }\n\n        @Subscribe('xhr-failure-401')\n        unauthorized(err: Errors) {\n            Progress.stop()\n            ToastManager.showToast(new Toast(err.errors[0].title, err.errors[0].message, Theme.Error))\n        }\n\n        @On({event: 'tap', selector: '.signup-action'})\n        signupClicked() {\n            this.triggerDown('field-error-clear')\n            Progress.start()\n            this.doSignup()\n        }\n\n        @Rest({url: '/signup', method: Method.POST, body: 'signup', headers: quill.headers})\n        doSignup(token?: Token) {\n            setToken(token)\n            Progress.stop()\n            this.route('/')\n        }\n\n        @On({event: 'tap', selector: '.forgot-password-action'})\n        forgotPasswordClicked() {\n            Progress.start()\n            this.requestPasswordChange()\n        }\n\n        @Rest({url: '/account', method: Method.PUT, body: 'forgotPassword', headers: quill.headers})\n        requestPasswordChange() {\n            Progress.stop()\n            ToastManager.showToast(\n                new Toast('ui.forgot-password.email-sent.title', 'ui.forgot-password.email-sent.message', Theme.Info)\n            )\n            this.route('/login')\n        }\n\n        identifierConfig: TextInputConfig = {\n            label: 'ui.signin.identifier',\n            name: 'signin.identifier',\n            placeholder: 'john@freemail.com',\n            icon: 'envelope-o',\n            autofocus: true,\n            onChange: (l: string) => this.credentials.identifier = l\n        }\n\n        passwordConfig: TextInputConfig = {\n            label: 'ui.signin.password',\n            name: 'signin.password',\n            icon: 'lock',\n            type: 'password',\n            onChange: (p: string) => this.credentials.password = p\n        }\n\n        firstnameConfig = {\n            label: 'ui.signup.firstname',\n            icon: 'user-o',\n            name: 'signup.firstname',\n            placeholder: 'John',\n            onChange: (p: string) => this.signup.firstname = p\n        }\n\n        lastnameConfig = {\n            label: 'ui.signup.lastname',\n            icon: 'user-o',\n            name: 'signup.lastname',\n            placeholder: 'Smith',\n            onChange: (p: string) => this.signup.lastname = p\n        }\n\n        emailConfig = {\n            label: 'ui.signup.email',\n            name: 'signup.email',\n            icon: 'envelope-o',\n            placeholder: 'john@mail,com',\n            onChange: (p: string) => this.signup.email = p\n        }\n\n        signupPasswordConfig = {\n            label: 'ui.signup.password',\n            name: 'signup.password',\n            icon: 'lock',\n            onChange: (p: string) => this.signup.password = p\n        }\n\n        forgotPasswordConfig = {\n            label: 'ui.forgot-password.email',\n            name: 'forgot-password.identifier',\n            icon: 'envelope-o',\n            onChange: (p: string) => this.forgotPassword.identifier = p\n        }\n\n        @Template('default')\n        loginPage() {\n            return `\n            <scroll-pane class=\"grow\">\n                <div class=\"login\">\n                    <tabs>\n                      <div class=\"form-components\" title=\"ui.login.tabs.login\" icon=\"key\" active>\n                        <Text config=\"{identifierConfig}\"/>\n                        <Text config=\"{passwordConfig}\"/>\n                        <div class=\"block has-text-right\">\n                            <a class=\"button is-primary login-action\" key=\"ui.signin.button\"/>\n                        </div>\n                      </div>\n                      <div class=\"form-components\" title=\"ui.login.tabs.signup\" icon=\"pencil-square-o\">\n                        <Text config=\"{firstnameConfig}\"/>\n                        <Text config=\"{lastnameConfig}\"/>\n                        <Text config=\"{emailConfig}\"/>\n                        <Text config=\"{signupPasswordConfig}\"/>\n                        <div class=\"block has-text-right\">\n                             <a class=\"button is-primary signup-action\" key=\"ui.signup.button\"/>\n                        </div>\n                      </div>\n                      <div class=\"form-components\" title=\"ui.login.tabs.forgot-password\" icon=\"unlock\">\n                        <html-fragment html-key=\"ui.forgot-password.info\"></html-fragment>\n                        <Text config=\"{forgotPasswordConfig}\"/>\n                        <div class=\"block has-text-right\">\n                             <a class=\"button is-primary forgot-password-action\" key=\"ui.forgot-password.button\"/>\n                        </div>\n                      </div>\n                  </tabs>\n                </div>\n            </scroll-pane>\n            `\n        }\n    }\n}\n","module quill {\n\n    import Template     = feather.annotations.Template\n    import Bind         = feather.observe.Bind\n    import Subscribe    = feather.hub.Subscribe\n    import On           = feather.event.On\n    import Rest         = feather.xhr.Rest\n    import Method       = feather.xhr.Method\n    import Theme        = feather.ui.toast.Theme\n    import AjaxForm     = quill.components.AjaxForm\n    import Toast        = feather.ui.toast.Toast\n    import ToastManager = feather.ui.toast.ToastManager\n    import TextInputConfig = feather.ui.TextInputConfig;\n\n    interface NewPassword {\n        id: string,\n        password?: string,\n        passwordRepeat?: string\n    }\n\n    export class PassordChangePage extends AjaxForm {\n\n        newPassword: NewPassword = {\n            id: quill.getQueryStringParam('id')\n        }\n\n        @Bind() changePasswordInfo = 'ui.change-password.info'\n\n        init() {\n            removeToken();\n        }\n\n        @On({event: 'tap', selector: '.change-action'})\n        submitClicked() {\n            Progress.start()\n            this.doPasswordChange()\n        }\n\n        @Rest({url: '/account/password', method: Method.PUT, body: 'newPassword', headers: quill.headers})\n        doPasswordChange() {\n            Progress.stop()\n            this.route('/login')\n            ToastManager.showToast(\n                new Toast('ui.change-password.success.title', 'ui.change-password.success.message', Theme.Error)\n            )\n        }\n\n        @Subscribe('xhr-failure-401')\n        unauthorized(err: Errors, xhr) {\n            Progress.stop()\n            ToastManager.showToast(\n                new Toast('ui.change-password.fail.title', 'ui.change-password.fail.message', Theme.Error)\n            )\n            this.route('/login')\n        }\n\n        @Template('default')\n        loginPage() {\n            return `\n            <scroll-pane class=\"grow\">\n                <div class=\"change-password\">\n                  <p key=\"ui.change-password.info\"/>\n                  <div class=\"form-components\">\n                    <Text config=\"{passwordConfig}\"/>\n                    <Text config=\"{passwordRepeatConfig}\"/>\n                    <div class=\"block has-text-right\">\n                        <a class=\"button is-primary change-action\" key=\"ui.change-password.button\"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            `\n        }\n\n        passwordConfig: TextInputConfig = {\n            label: 'ui.change-password.password',\n            name: 'new-password.password',\n            icon: 'lock',\n            type: 'password',\n            onChange: (p: string) => this.newPassword.password = p\n        }\n\n        passwordRepeatConfig: TextInputConfig = {\n            label: 'ui.change-password.password-repeat',\n            name: 'new-password.passwordRepeat',\n            icon: 'lock',\n            type: 'password',\n            onChange: (p: string) => this.newPassword.passwordRepeat = p\n        }\n\n    }\n}\n","module feather.ui {\n\n    import Construct     = feather.annotations.Construct\n    import Template      = feather.annotations.Template\n    import Bind          = feather.observe.Bind\n    import On            = feather.event.On\n    import Subscribe     = feather.hub.Subscribe\n    import TreeNode      = feather.ui.tree.TreeNode\n    import GestureWidget = feather.ui.events.GestureWidget\n\n\n    @Construct({selector: 'tree-actions'})\n    export class TreeActions extends GestureWidget {\n\n        @Bind() disabled = true\n\n        init() {\n            this.render()\n        }\n\n        @Subscribe('defocus-other-nodes')\n        nodeSelected(node: TreeNode<any>) {\n            this.disabled = typeof node === 'undefined'\n        }\n\n        @On({event: 'tap', selector: 'a[action]:not([disabled])'})\n        buttonClicked(ev, el) {\n            this.triggerUp('node-action', el.getAttribute('action'))\n        }\n\n        @Template()\n        markup() {\n            return `\n            <div class=\"level is-mobile is-marginless\">\n              <div class=\"level-left\">\n                 <a class=\"button is-small\" action=\"node-add\"><Icon name=\"plus\"></Icon></a>\n                 <a class=\"button is-small\" action=\"node-edit\" {{disabled}}><Icon name=\"pencil\"></Icon></a>\n              </div>\n              <div class=\"level-right\">\n                 <a class=\"button is-small\" action=\"node-delete\" {{disabled}}><Icon name=\"trash-o\"/></a>\n              </div>\n            </div>`\n        }\n\n    }\n}\n","module quill {\n\n    import Construct     = feather.annotations.Construct\n    import Template      = feather.annotations.Template\n    import GestureWidget = feather.ui.events.GestureWidget\n\n    @Construct({selector: 'content'})\n    export class Content extends GestureWidget {\n\n        init() {\n            this.render()\n        }\n\n        @Template()\n        markup() {\n            return ``\n        }\n    }\n}\n","module quill {\n\n    import Widget       = feather.core.Widget\n    import Construct    = feather.annotations.Construct\n    import Template     = feather.annotations.Template\n    import Bind         = feather.observe.Bind\n    import Route        = feather.routing.Route\n    import Subscribe    = feather.hub.Subscribe\n    import Rest         = feather.xhr.Rest\n    import ToastManager = feather.ui.toast.ToastManager\n    import Toast        = feather.ui.toast.Toast\n    import Theme        = feather.ui.toast.Theme\n    import TypedMap     = feather.types.TypedMap\n    import setDeepValue = feather.objects.setDeepValue;\n\n    export interface Messages {\n        messages: Message[]\n    }\n\n    export interface Message {\n        key: string,\n        value: string\n    }\n\n    @Construct({selector: 'body.quill-app'})\n    export class QuillApplication extends Widget {\n\n        @Bind() pages: Array<Widget> = []\n        @Bind({bequeath: true}) user: User = null\n\n        translations: TypedMap<any> = {}\n\n        init() {\n            this.fetchTranslations()\n        }\n\n        @Rest({url: '/translations', headers: quill.headers})\n        fetchTranslations(translations?: Messages) {\n            translations.messages\n                .forEach(c =>\n                    setDeepValue(this.translations, c.key, c.value))\n            this.render()\n        }\n\n        @Rest({url: '/account', headers: quill.headers})\n        checkLogin(resp?: User|ApiError) {\n            this.user = resp as User\n            this.route(`/project/${this.user.lastProject}`)\n        }\n\n        @Subscribe('xhr-failure-401')\n        unauthorized() {\n            this.route('/login')\n        }\n\n        genericFetchError(err: string, xhr: XMLHttpRequest) {\n            ToastManager.showToast(new Toast('API request has failed', err, Theme.Error))\n        }\n\n        @Route('/project/:id')\n        projectPage(params: IdParam) {\n            if (!this.user) {\n                this.checkLogin()\n            } else {\n                this.goToPage(new ProjectPage(params.id))\n            }\n        }\n\n        @Route('/login')\n        loginPage() {\n            this.goToPage(new LoginPage())\n        }\n\n        @Route('/404')\n        notFoundPage() {\n            this.goToPage(new NotFoundPage())\n        }\n\n        @Route('/changepassword')\n        changePasswordPage() {\n            this.goToPage(new PassordChangePage())\n        }\n\n        goToPage(page: Widget) {\n            this.pages.splice(0, 1, page)\n        }\n\n        @Route('/')\n        homePage() {\n            this.checkLogin()\n        }\n\n        @Template()\n        applicationHTML() {\n            return `<progress-bar></progress-bar>\n                    <panel class=\"fullscreen v-flex\" {{pages}}></panel>\n                    <localization translations={translations}/>\n            `\n        }\n    }\n}\n","feather.start()\n"]}