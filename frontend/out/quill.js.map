{"version":3,"file":"quill.js","sourceRoot":"C:/Projects/quill/frontend/typescript/","sources":["typescript/types.ts","typescript/common/utils.ts","typescript/common/headers.ts","typescript/common/polyfill.ts","typescript/modals/modal-manager.ts","typescript/modals/project-config.ts","typescript/modals/node-config.ts","typescript/components/translate.ts","typescript/components/progress.ts","typescript/components/scroll-spy.ts","typescript/components/scroll-receiver.ts","typescript/components/html-fragment.ts","typescript/components/ajax-widget.ts","typescript/components/ajax-form.ts","typescript/components/value-node.ts","typescript/components/version-values.ts","typescript/components/value-editor.ts","typescript/components/selectable-tree-label.ts","typescript/components/custom-node.ts","typescript/routes/notfound.ts","typescript/modules/navigation.ts","typescript/routes/project.ts","typescript/routes/login.ts","typescript/routes/password-change.ts","typescript/modules/tree-actions.ts","typescript/modules/content.ts","typescript/quill-app.ts","typescript/start.ts"],"names":[],"mappings":"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","sourcesContent":["module quill {\n\n    type ErrorType = 'validation'\n\n    export enum Keys {\n        ENTER = 13\n    }\n\n    export interface Error {\n        type: ErrorType,\n        title: string,\n        message: string\n    }\n\n    export interface Errors {\n        errors: Error[]\n    }\n\n    export interface User {\n        id: number,\n        name: string,\n        email: string,\n        firstname: string,\n        lastname: string,\n        lastProject: string\n    }\n\n    export interface Project {\n        id: number,\n        name: string,\n        structure: Node[],\n        schema: Node[],\n        versions: Version[]\n    }\n\n    export interface Node {\n        id: number,\n        name: string,\n        type: NodeType,\n        root: NodeRoot,\n        order: number\n        children: Node[]\n    }\n\n    export interface NewNode {\n        name: string,\n        sort: number\n    }\n\n    export interface ApiError {\n        code: number,\n        message: string\n    }\n\n    export interface IdParam {\n        id: string\n    }\n\n    export interface Version {\n        id: string,\n        name: string,\n    }\n\n    export type NodeRoot = 'structure' | 'schema'\n\n    export type NodeType = 'string' | 'number' | 'enum' | 'boolean' | 'node' | 'list'\n\n}\n","module quill {\n\n    import TreeNodeIcon = feather.ui.tree.TreeNodeIcon\n    import findClippedParent = feather.ui.findClippedParent;\n\n    const urlParams = {}\n\n    const popstate = () => {\n        const pl = /\\+/g,  // Regex for replacing addition symbol with a space\n            search = /([^&=]+)=?([^&]*)/g,\n            decode = function (s) {\n                return decodeURIComponent(s.replace(pl, ' '))\n            },\n            query = window.location.search.substring(1)\n        let match\n        while (match = search.exec(query)) {\n            urlParams[decode(match[1])] = decode(match[2])\n        }\n    }\n\n    window.addEventListener('popstate', popstate)\n    popstate()\n\n    export const getQueryStringParam = (key: string) => urlParams[key]\n\n    export const iconFor = (type: NodeType): TreeNodeIcon => {\n        switch (type) {\n            case 'string':\n                return TreeNodeIcon.text\n            case 'number':\n                return TreeNodeIcon.number\n            case 'enum':\n                return TreeNodeIcon.enum\n            case 'list':\n                return TreeNodeIcon.array\n            case 'node':\n                return TreeNodeIcon.object\n            case 'boolean':\n                return TreeNodeIcon.boolean\n        }\n    }\n\n    export interface HasChildren<T> {\n        children: HasChildren<T>[]\n    }\n\n    export const flattenTree = <T>(node: HasChildren<T>) =>\n        [node].concat(...node.children.map(flattenTree))\n\n    export const scrollElementIntoView = (el: HTMLElement) => {\n        const scroll = findClippedParent(el),\n              scrollRect = scroll.getBoundingClientRect(),\n              rect = el.getBoundingClientRect()\n        if (rect.top <= scrollRect.top || rect.bottom >= scrollRect.bottom) {\n                el.scrollIntoView()\n        }\n\n    }\n}\n","module quill {\n\n    import TypedMap      = feather.types.TypedMap\n    import StringFactory = feather.types.StringFactory\n\n    const AUTH_HEADER = 'X-Auth-Token'\n\n    export const headers: TypedMap<string|StringFactory> = {\n        'X-Api-Key': 'AbCdEfGhIjK1',\n        'Content-Type': 'application/json',\n        'Accept-Language': 'en',\n        [AUTH_HEADER]: localStorage.getItem(AUTH_HEADER)\n    }\n\n    export const setToken = (token: Token) => {\n        localStorage.setItem(AUTH_HEADER, token.token)\n        headers[AUTH_HEADER] = token.token\n    }\n\n    export const removeToken = () => {\n        localStorage.removeItem(AUTH_HEADER)\n        headers[AUTH_HEADER] = undefined\n    }\n\n}\n","if (window['Element'] && !Element.prototype.closest) {\n    Element.prototype.closest = (s) => {\n        const matches = (this.document || this.ownerDocument).querySelectorAll(s)\n        let i,\n            el = this\n        do {\n            i = matches.length;\n            while (--i >= 0 && matches.item(i) !== el) {\n                //\n            }\n        } while ((i < 0) && (el = el.parentElement))\n        return el\n    }\n}\n","module quill.modal {\r\n\r\n    import Template      = feather.annotations.Template\r\n    import Construct     = feather.annotations.Construct\r\n    import GestureWidget = feather.ui.events.GestureWidget\r\n    import Subscribe     = feather.hub.Subscribe\r\n    import Widget        = feather.core.Widget\r\n    import Bind          = feather.observe.Bind\r\n    import On            = feather.event.On\r\n\r\n    export abstract class ModalWidget extends Widget {\r\n        abstract getTitle()\r\n        successButton = () => 'ui.modal.ok'\r\n        cancelButton = () => 'ui.modal.cancel'\r\n\r\n        @On({event: 'keydown'})\r\n        escKey(ev: KeyboardEvent) {\r\n            if (/escape/i.test(ev.key)) {\r\n                this.triggerUp('close-modal')\r\n            }\r\n        }\r\n    }\r\n\r\n    @Construct({selector: 'modal-manager', singleton: true})\r\n    export class ModalManager extends GestureWidget {\r\n\r\n        @Bind() modal: Widget[] = []\r\n        @Bind() showing = false\r\n        @Bind() title = 'ui.modal.title'\r\n        @Bind() successButton = 'ui.modal.ok'\r\n        @Bind() cancelButton = 'ui.modal.cancel'\r\n\r\n        lastFocussedElement: HTMLElement\r\n\r\n        init() {\r\n            this.render()\r\n        }\r\n\r\n        @Subscribe('close-modal')\r\n        closeCall() {\r\n            this.close()\r\n        }\r\n\r\n        @Subscribe('show-modal')\r\n        show(modal: ModalWidget) {\r\n            this.lastFocussedElement = document.activeElement as HTMLElement\r\n            this.modal.splice(0, this.modal.length, modal)\r\n            this.title = modal.getTitle()\r\n            this.successButton = modal.successButton()\r\n            this.cancelButton = modal.cancelButton()\r\n            this.showing = true\r\n            modal.element.setAttribute('tabindex', '-1');\r\n            (modal.element as HTMLElement).focus()\r\n        }\r\n\r\n        @On({event: 'mousedown', selector: '.modal-background'})\r\n        close() {\r\n            this.showing = false\r\n            if (this.lastFocussedElement) {\r\n                this.lastFocussedElement.focus()\r\n            }\r\n        }\r\n\r\n        @On({event: 'click', selector: 'button.cancel,button.delete'})\r\n        closeButtons() {\r\n            this.close()\r\n        }\r\n\r\n        @Template()\r\n        markup() {\r\n            return `<div class=\"modal {{showing:toActive}}\">\r\n              <div class=\"modal-background\"/>\r\n              <div class=\"modal-card is-small\">\r\n                <header class=\"modal-card-head\">\r\n                  <p class=\"modal-card-title\">{{title:translate}}</p>\r\n                  <button class=\"delete\" aria-label=\"close\"/>\r\n                </header>\r\n                <section class=\"modal-card-body is-small\" {{modal}}/>\r\n                <footer class=\"modal-card-foot\">\r\n                  <button class=\"button is-inverted ok\">{{successButton:translate}}</button>\r\n                  <button class=\"button is-inverted cancel\">{{cancelButton:translate}}</button>\r\n                </footer>\r\n              </div>\r\n            </div>`\r\n        }\r\n\r\n        toActive = (showing: boolean) => showing ? 'is-active' : undefined\r\n    }\r\n}\r\n","module quill.modal {\n\n    import Template  = feather.annotations.Template\n\n    export class ProjectConfig extends ModalWidget {\n\n        project: Project\n\n        constructor(project: Project) {\n            super()\n            this.project = project\n        }\n\n        getTitle () {\n            return 'ui.modal.project-config.title'\n        }\n\n        @Template()\n        markup() {\n            return `<div class=\"\">Project Config</div>`\n        }\n    }\n}\n","module quill.modal {\n\n    import Template = feather.annotations.Template\n    import TreeNodeIcon = feather.ui.tree.TreeNodeIcon\n\n    export class NodeConfig extends ModalWidget {\n\n        node: CustomTreeNode\n\n        constructor(node: CustomTreeNode) {\n            super()\n            this.node = node\n        }\n\n        getTitle () {\n            return 'ui.modal.node-config.title'\n        }\n\n        @Template()\n        markup() {\n            return `\n            <tabs tabs-class=\"is-boxed\">\n                <div title=\"ui.modal.node-config.tabs.text\"\n                     icon=${TreeNodeIcon.text} active>\n                    <tabs class=\"vertical\">\n                        <div title=\"ui.modal.node-config.text.single-line\" icon=\"font\" active>\n                            ABC\n                        </div>\n                        <div title=\"ui.modal.node-config.text.multi-line\" icon=\"align-justify\">\n                            <div class=\"field\">\n                                <input class=\"is-checkradio\" id=\"multiline-normal\" type=\"radio\" name=\"mutiline-format\" checked=\"checked\">\n                                <label for=\"multiline-normal\">Normal</label>\n                            </div>\n                            <div class=\"field\">\n                                <input class=\"is-checkradio\" id=\"multiline-rtf\" type=\"radio\" name=\"mutiline-format\">\n                                <label for=\" id=\"multiline-rtf\">Richtext</label>\n                            </div>\n                            <div class=\"field\">\n                                <input class=\"is-checkradio\" id=\"multiline-md\" type=\"radio\" name=\"mutiline-format\">\n                                <label for=\" id=\"multiline-md\"\">Markdown</label>\n                            </div>\n                        </div>\n                    </tabs>\n                </div>\n                <div title=\"ui.modal.node-config.tabs.number\"\n                     icon=${TreeNodeIcon.number}></div>\n                <div title=\"ui.modal.node-config.tabs.date\"\n                     icon=${TreeNodeIcon.date}></div>\n                <div title=\"ui.modal.node-config.tabs.boolean\"\n                     icon=${TreeNodeIcon.boolean}></div>\n                <div title=\"ui.modal.node-config.tabs.list\"\n                     icon=${TreeNodeIcon.array}></div>\n                <div title=\"ui.modal.node-config.tabs.file\"\n                     icon=${TreeNodeIcon.file}></div>\n            </tabs>`\n        }\n    }\n}\n","module quill {\n\n    import Widget    = feather.core.Widget\n    import Construct = feather.annotations.Construct\n    import Bind      = feather.observe.Bind\n    import Template  = feather.annotations.Template\n\n    @Construct({selector: '[key]', attributes: ['key']})\n    export class Translate extends Widget {\n\n        @Bind() key: string\n\n        constructor(key: string) {\n            super()\n            this.key = key\n        }\n\n        init(element: HTMLElement) {\n            element.classList.remove('key')\n            this.render()\n        }\n\n        @Template()\n        markup() {\n            return `{{key:translate}}`\n        }\n    }\n}\n","module quill {\n\n    import Widget    = feather.core.Widget\n    import Construct = feather.annotations.Construct\n    import Bind      = feather.observe.Bind\n    import Template  = feather.annotations.Template\n\n    @Construct({selector: 'progress-bar'})\n    export class Progress extends Widget {\n\n        static instance: Progress\n\n        @Bind() fetching = false\n\n        constructor() {\n            super()\n            Progress.instance = this\n        }\n\n        init() {\n            this.render()\n        }\n\n        @Template()\n        markup() {\n            return `<div class=\"progress-runner {{fetching:runningClass}}\"></div>`\n        }\n\n        static start() {\n            Progress.instance.fetching = true\n        }\n\n        static stop() {\n            Progress.instance.fetching = false\n        }\n\n        runningClass = (running: boolean) => running ? 'running' : undefined\n    }\n}\n","module quill {\r\n\r\n    import Construct  = feather.annotations.Construct\r\n    import ScrollPane = feather.ui.ScrollPane\r\n    import On         = feather.event.On\r\n    import Scope      = feather.event.Scope\r\n    import Subscribe  = feather.hub.Subscribe\r\n\r\n    @Construct({selector: 'scroll-spy', attributes: ['sync'], singleton: true})\r\n    export class ScrollSpy extends ScrollPane {\r\n\r\n        receivers: ScrollReceiver[] = []\r\n\r\n        constructor() {\r\n            super()\r\n        }\r\n\r\n        @Subscribe('register-scroll-receiver')\r\n        registerReceiver(sr: ScrollReceiver) {\r\n            this.receivers.push(sr)\r\n            this.onScroll()\r\n        }\r\n\r\n        @On({event: 'scroll', scope: Scope.Direct})\r\n        onScroll() {\r\n            const y = this.element.scrollTop\r\n            this.receivers.forEach(sr => sr.scrollTo(y))\r\n        }\r\n    }\r\n}\r\n","module quill {\r\n\r\n    import Construct  = feather.annotations.Construct\r\n    import ScrollPane = feather.ui.ScrollPane\r\n\r\n    @Construct({selector: 'scroll-receiver'})\r\n    export class ScrollReceiver extends ScrollPane {\r\n\r\n        constructor() {\r\n            super()\r\n        }\r\n\r\n        init(el: Element) {\r\n            this.triggerSingleton('register-scroll-receiver', this)\r\n        }\r\n\r\n        scrollTo(y: number) {\r\n            this.element.scrollTop = y\r\n        }\r\n\r\n    }\r\n}\r\n","module quill.components {\n\n    import Widget    = feather.core.Widget\n    import Construct = feather.annotations.Construct\n    import Template  = feather.annotations.Template\n    import Bind      = feather.observe.Bind\n\n    @Construct({selector: 'html-fragment', attributes: ['html-key']})\n    export class HtmlFragment extends Widget {\n\n        @Bind({html: true}) key: string\n\n        constructor(key: string) {\n            super()\n            this.key = key\n        }\n\n        init(element: HTMLElement) {\n            element.classList.remove('html-key')\n            this.render()\n        }\n\n        @Template()\n        text() {\n            return '{{key:translate}}'\n        }\n\n    }\n}\n","module quill.components {\n\n    import GestureWidget = feather.ui.events.GestureWidget\n    import Theme         = feather.ui.toast.Theme\n    import ToastManager  = feather.ui.toast.ToastManager\n    import Toast         = feather.ui.toast.Toast\n    import Subscribe     = feather.hub.Subscribe\n\n    export class AjaxWidget extends GestureWidget {\n\n        @Subscribe('xhr-failure-500')\n        requestFailed(err: Errors) {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.error.server', err.errors[0].message, Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-403')\n        requestForbidden() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.errors.forbidden.title', 'ui.errors.forbidden.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-401')\n        requestUnauthorized(err: Errors) {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.errors.unauthorized.title', 'ui.errors.unauthorized.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-405')\n        requestMethodNotAllowed() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.errors.notallowed.title', 'ui.errors.notallowed.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-timeout')\n        timeout() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.error.timeout.title', 'ui.error.timeout.message', Theme.Error))\n        }\n\n        @Subscribe('xhr-failure-error')\n        genericError() {\n            Progress.stop()\n            ToastManager.showToast(new Toast('ui.error.generic.title', 'ui.error.generic.message', Theme.Error))\n        }\n    }\n}\n","module quill.components {\n\n    import Theme        = feather.ui.toast.Theme\n    import ToastManager = feather.ui.toast.ToastManager\n    import Toast        = feather.ui.toast.Toast\n    import Subscribe    = feather.hub.Subscribe\n\n    export class AjaxForm extends AjaxWidget {\n\n        @Subscribe('xhr-failure-400')\n        validationFailed(err: Errors) {\n            Progress.stop()\n            const messages = err.errors.map(e => {\n                if (e.type === 'validation') {\n                    this.triggerDown('field-error', e.title)\n                }\n                return e.message\n            })\n            if (err.errors.length) {\n                const errorType = err.errors[0].title.split('.').shift()\n                ToastManager.showToast(new Toast(`ui.${errorType}.failed`, messages, Theme.Warning))\n            }\n        }\n    }\n}\n","module quill {\r\n\r\n    import TreeNode = feather.ui.tree.TreeNode;\r\n    import Template = feather.annotations.Template;\r\n\r\n    export class ValueNode extends TreeNode<Node> implements HasChildren<TreeNode<Node>> {\r\n\r\n        @Template()\r\n        markup() {\r\n            return '<li></li>'\r\n        }\r\n    }\r\n}\r\n\r\n","module quill {\n\n    import Widget    = feather.core.Widget\n    import Template  = feather.annotations.Template\n    import Rest      = feather.xhr.Rest\n    import Bind      = feather.observe.Bind\n\n    export class VersionValues extends Widget {\n\n        @Bind() version: Version\n        nodes: ValueNode[]\n\n        constructor(version: Version) {\n            super()\n            this.version = version\n        }\n\n        init(el: Element) {\n            this.loadVersionValues()\n        }\n\n        @Rest({url: '/values/version/{{version.id}}', headers: quill.headers})\n        loadVersionValues() {\n            // ignore\n        }\n\n        @Template()\n        markup() {\n            return `\n             <li class=\"v-flex\">\n                <div class=\"level version-header no-grow\">\n                    <div class=\"level-left\">\n                        <span class=\"level-item\">\n                            <span class=\"icon is-small\"><Icon name=\"book\"/></span>\n                            <span class=\"version-name\">{{version.name}}</span>\n                        </span>\n                    </div>\n                    <div class=\"level-right\">\n                        <a class=\"button is-small tooltip\"\n                           action=\"version-github\"\n                           tooltip=\"ui.tooltip.version.github\">\n                            <Icon name=\"github\" icon-class=\"is-small\"/>\n                        </a>\n                        <a class=\"button is-small tooltip\"\n                           action=\"version-download\"\n                           tooltip=\"ui.tooltip.version.json-download\">\n                            <Icon name=\"download\" icon-class=\"is-small\"/>\n                        </a>\n                        <a class=\"button is-small tooltip\"\n                           action=\"version-configure\"\n                           tooltip=\"ui.tooltip.version.configure\">\n                            <Icon name=\"cog\" icon-class=\"is-small\"/>\n                        </a>\n                    </div>\n                </div>\n                <scroll-receiver class=\"grow\">\n                    Nu Bass  <br>Nichol Cumbie  <br>Lenna Piercy  <br>See Aispuro  <br>\n                    Sophie Troyer  <br>Bryan Cool  <br>Sylvia Mabe  <br>Hue Keele  <br>\n                    Kaylee Speaks  <br>Milda Costin  <br>Jennie Dietrich  <br>Reanna Leanos  <br>\n                    Ruby Dehn  <br>Asa Estes  <br>Tennie Steverson  <br>Despina Schnur  <br>\n                    Lakeisha Getman  <br>Mara Heng  <br>Carroll Down  <br>Florencio Fazzino  <br>\n                    Hailey Causey  <br>Babara Friscia  <br>Chanell Stgermain  <br>Annette Deangelis  <br>\n                    Sulema Pulley  <br>Kylee Penman  <br>Ariel Pridgen  <br>Mitch Granado  <br>\n                    Vernia Dates  <br>Darnell Pablo  <br>Anneliese Alderman  <br>Brad Dahl  <br>\n                    Valentin Amburgey  <br>Kemberly Pelzer  <br>Ronald Boney  <br>Adah Boateng  <br>\n                    Marcelina Alls  <br>Felicia Guss  <br>Linn Mershon  <br>Chere Scioneaux  <br>\n                    Madalyn Glisson  <br>Kimberely Hagwood  <br>Roxanne Ouimet  <br>Annalisa Armagost  <br>\n                    Doris Troy  <br>Angeline Shelor  <br>Zada Manjarrez  <br>Marvella Ritch  <br>\n                    Larisa Burruel  <br>Margrett Canino  <br><br>\n                </scroll-receiver>\n            </li>`\n        }\n    }\n}\n","module quill {\r\n\r\n    import Widget    = feather.core.Widget\r\n    import Construct = feather.annotations.Construct\r\n    import Template  = feather.annotations.Template\r\n    import Subscribe = feather.hub.Subscribe\r\n    import Bind      = feather.observe.Bind\r\n\r\n    @Construct({selector: 'value-editor'})\r\n    export class ValueEditor extends Widget {\r\n\r\n        @Bind({}) versionValues: VersionValues[] = []\r\n\r\n        init(el: Element) {\r\n            this.render()\r\n        }\r\n\r\n        @Template()\r\n        markup() {\r\n            return `<ul class=\"grow h-flex\" {{versionValues}}></ul>`\r\n        }\r\n\r\n        @Subscribe('project-loaded')\r\n        projectLoaded(project: Project) {\r\n            this.versionValues.splice(0, this.versionValues.length,\r\n                ...project.versions.map(version => new VersionValues(version)))\r\n        }\r\n    }\r\n}\r\n","module quill.components {\r\n\r\n    import GestureWidget   = feather.ui.events.GestureWidget\r\n    import Construct       = feather.annotations.Construct\r\n    import Subscribe       = feather.hub.Subscribe\r\n    import On              = feather.event.On\r\n    import Bind            = feather.observe.Bind\r\n    import Template        = feather.annotations.Template\r\n    import removeFromArray = feather.arrays.removeFromArray\r\n    import TreeNode        = feather.ui.tree.TreeNode\r\n\r\n    @Construct({selector: 'selectable-tree-label', attributes: ['label', 'selected', 'type']})\r\n    export class SelectableTreeLabel extends GestureWidget {\r\n\r\n        static labels: SelectableTreeLabel[] = []\r\n\r\n        @Bind() selected: boolean\r\n        @Bind() label: string\r\n        type: string\r\n\r\n        constructor(label: string, selected: boolean, type: string) {\r\n            super();\r\n            this.label = label\r\n            this.selected = selected\r\n            this.type = type\r\n            SelectableTreeLabel.labels.push(this)\r\n        }\r\n\r\n        init() {\r\n            this.render()\r\n        }\r\n\r\n        @On({event: 'tap'})\r\n        click() {\r\n            this.selected = true;\r\n            this.triggerUp('root-type-selected', this.type)\r\n            SelectableTreeLabel.labels.forEach(l => {\r\n                if (l !== this) {\r\n                    l.selected = false\r\n                }\r\n            })\r\n        }\r\n\r\n        @Subscribe('defocus-other-nodes')\r\n        nodeSelected(node: TreeNode<any>) {\r\n            if (node) {\r\n                this.selected = false\r\n            }\r\n        }\r\n\r\n        @Template()\r\n        markup() {\r\n            return (\r\n            `<p class=\"menu-label clickable\" {{selected}}>\r\n                <span class=\"icon is-small\">\r\n                    <i class=\"fa fa-angle-double-right\"></i>\r\n                </span>\r\n                {{label}}\r\n            </p>`)\r\n        }\r\n\r\n        cleanUp() {\r\n            super.cleanUp()\r\n            removeFromArray(SelectableTreeLabel.labels, [this])\r\n        }\r\n    }\r\n}\r\n","module quill {\r\n\r\n    import TreeNode = feather.ui.tree.TreeNode\r\n    import On       = feather.event.On\r\n    import Scope    = feather.event.Scope\r\n    import isDef    = feather.functions.isDef\r\n\r\n    export enum DropPostion {\r\n        inside = 'inside',\r\n        above = 'above',\r\n        below = 'below'\r\n    }\r\n\r\n    export interface NodeDrop {\r\n        from: number\r\n        to: number,\r\n        position: DropPostion,\r\n        open\r\n    }\r\n\r\n    const NODE_DATA_TYPE = 'quill/node-id'\r\n\r\n    export class CustomTreeNode extends TreeNode<Node> implements HasChildren<TreeNode<Node>> {\r\n        parent: CustomTreeNode\r\n\r\n        id = () => `${this.value.id}`\r\n\r\n        init(el: Element) {\r\n            el.setAttribute('draggable', 'true')\r\n            el.setAttribute('tabindex', '-1')\r\n        }\r\n\r\n        @On({event: 'dragstart', scope: Scope.Direct})\r\n        dragstart(ev: DragEvent) {\r\n            ev.dataTransfer.setData(NODE_DATA_TYPE, this.id())\r\n        }\r\n\r\n        @On({event: 'dragover', scope: Scope.Direct, preventDefault: true})\r\n        dragover(ev: DragEvent) {\r\n            const relY = ev.clientY - this.element.getBoundingClientRect().top\r\n            if (relY < 6) {\r\n                this.element.setAttribute('data-dragover', DropPostion.above)\r\n            } else if (relY > 18) {\r\n                this.element.setAttribute('data-dragover', DropPostion.below)\r\n            } else {\r\n                this.element.setAttribute('data-dragover', DropPostion.inside)\r\n            }\r\n        }\r\n\r\n        @On({event: 'dragleave', scope: Scope.Direct})\r\n        dragleave() {\r\n            setTimeout(() => // prevent flicker between :before <-> :after toggle\r\n                this.element.removeAttribute('data-dragover'), 30)\r\n        }\r\n\r\n        @On({event: 'blur', selector: 'input', scope: Scope.Direct})\r\n        blur(ev: DragEvent) {\r\n            (this.element as HTMLElement).focus()\r\n        }\r\n\r\n        @On({event: 'drop', scope: Scope.Direct})\r\n        drop(ev: DragEvent) {\r\n            const id = ev.dataTransfer.getData(NODE_DATA_TYPE)\r\n            this.dragleave()\r\n            if (id) {\r\n                this.triggerUp('node-drop', {\r\n                    from: parseInt(id, 10),\r\n                    to: parseInt(this.id(), 10),\r\n                    position: this.element.getAttribute('data-dragover'),\r\n                    open: this.children.length > 0 && this.open\r\n                } as NodeDrop)\r\n            }\r\n        }\r\n\r\n        static toTreeNode = (n: Node) => {\r\n            const tn = new CustomTreeNode(n.name, n, quill.iconFor(n.type))\r\n            tn.children.push(...n.children.map(n => {\r\n                const child = CustomTreeNode.toTreeNode(n)\r\n                child.parent = tn\r\n                return child\r\n            }))\r\n            return tn\r\n        }\r\n\r\n        add(node: CustomTreeNode, index?: number) {\r\n            if (isDef(index)) {\r\n                this.children.splice(index, 0, node)\r\n            } else {\r\n                this.children.push(node)\r\n            }\r\n            node.parent = this\r\n        }\r\n\r\n        hasChildren(): boolean {\r\n            return this.children.length > 0\r\n        }\r\n\r\n        allParentsOpen(): boolean {\r\n            let p = this.parent\r\n            while(p) {\r\n                if (!p.open) {\r\n                    return false\r\n                }\r\n                p = p.parent\r\n            }\r\n            return true\r\n        }\r\n    }\r\n}\r\n","module quill {\n\n    import Template      = feather.annotations.Template\n    import On            = feather.event.On\n    import GestureWidget = feather.ui.events.GestureWidget\n\n    export class NotFoundPage extends GestureWidget {\n\n        @On({event: 'tap', selector: '.back-action', preventDefault: true})\n        backButtonClicked() {\n            this.route('/')\n        }\n\n        @Template('default')\n        loginPage() {\n            return `\n            <scroll-pane class=\"grow\">\n                <div class=\"small-info-page\">\n                  <h1 key=\"ui.page.notfound.title\"/>\n                  <p key=\"ui.page.notfound.body\"/>\n                  <div class=\"form-components\">\n                    <div class=\"block has-text-right\">\n                        <a class=\"button is-primary back-action\" key=\"ui.page.notfound.button\"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            `\n        }\n    }\n}\n","module quill {\r\n\r\n    import Construct     = feather.annotations.Construct\r\n    import Template      = feather.annotations.Template\r\n    import On            = feather.event.On\r\n    import GestureWidget = feather.ui.events.GestureWidget\r\n    import Subscribe     = feather.hub.Subscribe\r\n    import Rest          = feather.xhr.Rest\r\n\r\n    @Construct({selector: 'navigation', singleton: true})\r\n    export class Navigation extends GestureWidget {\r\n\r\n        init() {\r\n            this.render()\r\n        }\r\n\r\n        @On({event: 'tap', selector: 'a.logout'})\r\n        logoutClicked() {\r\n            this.doLogout()\r\n        }\r\n\r\n        @Rest({url: '/signout', headers: quill.headers})\r\n        doLogout() {\r\n            removeToken()\r\n            this.route('/login')\r\n        }\r\n\r\n        @Subscribe('xhr-failure-401')\r\n        logoutFailed() {\r\n            removeToken()\r\n            this.route('/login')\r\n        }\r\n\r\n        @On({event: 'click', selector: 'a.settings', preventDefault: true})\r\n        projectSettings() {\r\n            this.triggerUp('open-project-settings')\r\n        }\r\n\r\n        @Template()\r\n        markup() {\r\n            return `\r\n            <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\r\n              <div class=\"navbar-brand\">\r\n                <a class=\"navbar-item\" href=\"/\" id=\"logo\">\r\n                    <img src=\"/assets/images/quill.svg\" alt=\"Quill Logo\">\r\n                    <span>Quill</span>\r\n                    <span>{{project.name}}</span>\r\n                </a>\r\n              </div>\r\n              <div class=\"navbar-end\">\r\n                <a class=\"navbar-item settings\"><Icon name=\"cog\"/>Settings</span></a>\r\n                <a class=\"navbar-item logout\"><Icon name=\"sign-out\"/>Logout <span class=\"username\">{{user.firstname}}</span></a>\r\n                <div  class=\"navbar-item\">\r\n                <p class=\"control has-icons-right\" id=\"search\">\r\n                  <input class=\"input\" type=\"text\" placeholder=\"Search...\">\r\n                  <Icon name=\"search\" align-right=\"right\"/>\r\n                </p>\r\n                </div>\r\n              </div>\r\n            </nav>\r\n            `\r\n        }\r\n    }\r\n}\r\n","module quill {\r\n\r\n    import Template        = feather.annotations.Template\r\n    import Bind            = feather.observe.Bind\r\n    import Subscribe       = feather.hub.Subscribe\r\n    import Rest            = feather.xhr.Rest\r\n    import Method          = feather.xhr.Method\r\n    import On              = feather.event.On\r\n    import matches         = feather.dom.selectorMatches\r\n    import isDef           = feather.functions.isDef\r\n    import removeFromArray = feather.arrays.removeFromArray\r\n    import AjaxWidget      = quill.components.AjaxWidget\r\n    import NodeConfig      = quill.modal.NodeConfig\r\n    import ProjectConfig   = quill.modal.ProjectConfig\r\n\r\n    interface RenameNode {\r\n        name: string\r\n    }\r\n\r\n    const dummyProject: Project = {\r\n        id: 0,\r\n        name: '',\r\n        structure: [],\r\n        schema: [],\r\n        versions: []\r\n    }\r\n\r\n    export class ProjectPage extends AjaxWidget {\r\n\r\n        @Bind() nodes: Array<CustomTreeNode> = []\r\n        @Bind() schemaNodes: Array<CustomTreeNode> = []\r\n        @Bind({bequeath: true}) project: Project = dummyProject\r\n        @Bind() loading = true\r\n\r\n        projectId: string\r\n        currentTreeNode: CustomTreeNode\r\n        currentRootType: NodeRoot = 'structure'\r\n\r\n        newNode: NewNode = {\r\n            name: 'New node',\r\n            sort: 0\r\n        }\r\n\r\n        renameNode: RenameNode\r\n        moveNode: NodeDrop\r\n\r\n        id = () => this.projectId\r\n\r\n        constructor(projectId: string) {\r\n            super()\r\n            this.projectId = projectId\r\n        }\r\n\r\n        init() {\r\n            this.fetchProject()\r\n        }\r\n\r\n        @Rest({url: '/projects/{{projectId}}', headers: quill.headers})\r\n        fetchProject(project?: Project) {\r\n            this.project = project\r\n            this.nodes.splice(0, this.nodes.length,\r\n                ...project.structure.map(CustomTreeNode.toTreeNode))\r\n            this.triggerDown('project-loaded', project)\r\n            this.loading = false\r\n        }\r\n\r\n        @Subscribe('open-project-settings')\r\n        openProjectSettings() {\r\n            this.triggerSingleton('show-modal', new ProjectConfig(this.project))\r\n        }\r\n\r\n        @Subscribe('node-defocused')\r\n        nodeDeselected() {\r\n            this.currentTreeNode = undefined\r\n            this.triggerDown('defocus-other-nodes')\r\n        }\r\n\r\n        @Subscribe('node-focused')\r\n        nodeSelected(node: CustomTreeNode) {\r\n            (node.element as HTMLLIElement).focus()\r\n            this.currentTreeNode = node\r\n            this.currentTreeNode.selected = true\r\n            this.triggerDown('defocus-other-nodes', node)\r\n        }\r\n\r\n        @Subscribe('root-type-selected')\r\n        rootTypeSelected(type: NodeRoot) {\r\n            this.currentRootType = type\r\n            this.currentTreeNode = undefined\r\n            this.triggerDown('defocus-other-nodes')\r\n        }\r\n\r\n        @Subscribe('node-action')\r\n        nodeAction(action: string) {\r\n            switch (action) {\r\n                case 'node-add': {\r\n                    this.addNode()\r\n                    break\r\n                }\r\n                case 'node-edit': {\r\n                    this.currentTreeNode.focusAndEdit()\r\n                    break\r\n                }\r\n                case 'node-configure': {\r\n                    this.configureNode()\r\n                    break\r\n                }\r\n                case 'node-delete': {\r\n                    this.deleteNode()\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        @Rest({url: '/node/{{currentTreeNode.id}}', method: Method.POST, body: 'newNode', headers: quill.headers})\r\n        createChildNode(node?: Node) {\r\n            Progress.stop()\r\n            const newNode = CustomTreeNode.toTreeNode(node)\r\n            this.currentTreeNode.add(newNode)\r\n            this.currentTreeNode.open = true\r\n            this.currentTreeNode.selected = false\r\n            newNode.focusAndEdit()\r\n        }\r\n\r\n        @Rest({url: '/projects/{{projectId}}/{{currentRootType}}', method: Method.POST, body: 'newNode', headers: quill.headers})\r\n        createNode(node?: Node) {\r\n            Progress.stop()\r\n            const newNode = CustomTreeNode.toTreeNode(node)\r\n            this.nodes.push(newNode)\r\n            newNode.focusAndEdit()\r\n        }\r\n\r\n        @Rest({url: '/node/{{currentTreeNode.id}}', method: Method.DELETE, headers: quill.headers})\r\n        deleteNode() {\r\n            const node = this.currentTreeNode\r\n            const nodes = isDef(node.parent) ? node.parent.children : this.nodes\r\n            removeFromArray(nodes, [node])\r\n            this.currentTreeNode = undefined\r\n            this.triggerDown('defocus-other-nodes')\r\n        }\r\n\r\n        @Rest({url: '/node/{{currentTreeNode.id}}/rename', method: Method.PUT, body: 'renameNode', headers: quill.headers})\r\n        renameNodeCall() {\r\n            Progress.stop()\r\n        }\r\n\r\n        @Subscribe('node-edited')\r\n        editNode(node: CustomTreeNode) {\r\n            Progress.start()\r\n            this.renameNode = {name: node.text}\r\n            this.renameNodeCall()\r\n        }\r\n\r\n        @Rest({url: '/node/{{moveNode.from}}/move', method: Method.PUT, body: 'moveNode', headers: quill.headers})\r\n        moveNodeCall() {\r\n            Progress.stop()\r\n            const mn       = this.moveNode\r\n            const allNodes = this.allNodes(this.nodes)\r\n            const from     = allNodes.find(n => n.id() === mn.from)\r\n            const to       = allNodes.find(n => n.id() === mn.to)\r\n            const nodes    = isDef(from.parent) ? from.parent.children : this.nodes\r\n            const toNodes  = isDef(to.parent) ? to.parent.children : this.nodes\r\n            removeFromArray(nodes, [from])\r\n            if (mn.position === DropPostion.inside) {\r\n                const position = nodes.indexOf(to)\r\n                to.add(from, position + 1)\r\n            } else {\r\n                const index = toNodes.indexOf(to) + (mn.position === DropPostion.below ? 1 : 0)\r\n                toNodes.splice(index, 0, from)\r\n            }\r\n        }\r\n\r\n        @Subscribe('node-drop')\r\n        dragNode(drop: NodeDrop) {\r\n            Progress.start()\r\n            this.moveNode = {...drop}\r\n            this.moveNodeCall()\r\n        }\r\n\r\n        private configureNode() {\r\n            this.triggerSingleton('show-modal', new NodeConfig(this.currentTreeNode))\r\n        }\r\n\r\n        private addNode() {\r\n            Progress.start()\r\n            if (isDef(this.currentTreeNode)) {\r\n                this.createChildNode()\r\n            } else {\r\n                this.createNode()\r\n            }\r\n        }\r\n\r\n        @On({event: 'keydown', selector: '.tree-view'})\r\n        keyEvent(ev: KeyboardEvent) {\r\n            if (/[+c]|(left|right|up|down|enter)$/i.test(ev.key) &&\r\n                matches(document.activeElement, 'li.tree-node')) {\r\n                ev.preventDefault()\r\n                if ('+' === ev.key) {\r\n                    this.addNode()\r\n                }\r\n                if ('c' === ev.key) {\r\n                    this.configureNode()\r\n                }\r\n                if (/left$/i.test(ev.key)) {\r\n                    this.currentTreeNode.open = false\r\n                }\r\n                if (/right$/i.test(ev.key)) {\r\n                    this.currentTreeNode.open = true\r\n                }\r\n                if (/(down|up)$/i.test(ev.key)) {\r\n                    const allNodes = this\r\n                        .allNodes(this.nodes)\r\n                        .filter(n => !n.parent || n.allParentsOpen())\r\n                    const dir = /down$/i.test(ev.key) ? 1 : -1\r\n                    const nextNode = allNodes[\r\n                        allNodes.findIndex(v => v === this.currentTreeNode) + dir\r\n                    ]\r\n                    if (nextNode) {\r\n                        this.nodeSelected(nextNode)\r\n                        const el = this.element.querySelector('.tree-node > .selected')\r\n                        scrollElementIntoView(el as HTMLDivElement)\r\n                    }\r\n                }\r\n                if (/enter$/i.test(ev.key)) {\r\n                    this.currentTreeNode.focusAndEdit()\r\n                }\r\n            }\r\n        }\r\n\r\n        @Template()\r\n        projectPage() {\r\n            return `\r\n            <panel class=\"fullscreen v-flex\">\r\n                <navigation class=\"no-grow\"></navigation>\r\n                    <horizontal-split class=\"grow\" id=\"app-split\">\r\n                      <sidebar class=\"v-flex\">\r\n                        <tree-actions></tree-actions>\r\n                        <scroll-spy class=\"grow\" {{loading}}>\r\n                          <aside class=\"menu\">\r\n                            <selectable-tree-label label=\"Structure\" selected={true} type=\"structure\"></selectable-tree-label>\r\n                            <ul class=\"tree-view is-marginless\" {{nodes}}></ul>\r\n                            <selectable-tree-label label=\"Schemas\" selected={false} type=\"schema\"></selectable-tree-label>\r\n                            <ul class=\"tree-view is-marginless\" {{schemaNodes}}></ul>\r\n                          </aside>\r\n                        </scroll-spy>\r\n                      </sidebar>\r\n                      <section class=\"v-flex value-section\">\r\n                         <value-editor class=\"grow v-flex\"/>\r\n                      </section>\r\n                    </horizontal-split>\r\n                </scroll-pane>\r\n                <footer class=\"no-grow app-footer\"/>\r\n            </panel>`\r\n        }\r\n\r\n        private allNodes(nodes: CustomTreeNode[]) {\r\n            return [].concat(...nodes.map(flattenTree))\r\n        }\r\n    }\r\n}\r\n","module quill {\n\n    import Template        = feather.annotations.Template\n    import Bind            = feather.observe.Bind\n    import Subscribe       = feather.hub.Subscribe\n    import On              = feather.event.On\n    import Rest            = feather.xhr.Rest\n    import Method          = feather.xhr.Method\n    import Theme           = feather.ui.toast.Theme\n    import AjaxForm        = quill.components.AjaxForm\n    import Toast           = feather.ui.toast.Toast\n    import ToastManager    = feather.ui.toast.ToastManager\n    import Scope           = feather.event.Scope\n    import TextInputConfig = feather.ui.TextInputConfig\n\n    interface Credentials {\n        identifier?: string,\n        password?: string\n    }\n\n    export interface Token {\n        token: string\n    }\n\n    interface Signup {\n        email?: string,\n        password?: string\n        firstname?: string\n        lastname?: string\n    }\n\n    interface ForgotPassword {\n        identifier?: string\n    }\n\n    export class LoginPage extends AjaxForm {\n\n        credentials: Credentials = {}\n        signup: Signup = {}\n        forgotPassword: ForgotPassword = {}\n\n        @Bind() forgotPasswordInfo = 'forgot-password.info'\n\n        @On({event: 'tap', selector: '.login-action'})\n        loginClicked() {\n            Progress.start()\n            this.doLogin()\n        }\n\n        @On({event: 'keypress', selector: 'input[type=\"password\"]', scope: Scope.Direct})\n        pressedEnter(ev: KeyboardEvent) {\n            if (ev.keyCode === Keys.ENTER) {\n                Progress.start()\n                this.doLogin()\n            }\n        }\n\n        @Rest({url: '/signin', method: Method.POST, body: 'credentials', headers: quill.headers})\n        doLogin(token?: Token) {\n            setToken(token)\n            this.route('/ ')\n            Progress.stop()\n        }\n\n        @Subscribe('xhr-failure-401')\n        requestUnauthorized(err: Errors) {\n            Progress.stop()\n            ToastManager.showToast(new Toast(err.errors[0].title, err.errors[0].message, Theme.Error))\n        }\n\n        @On({event: 'tap', selector: '.signup-action'})\n        signupClicked() {\n            this.triggerDown('field-error-clear')\n            Progress.start()\n            this.doSignup()\n        }\n\n        @Rest({url: '/signup', method: Method.POST, body: 'signup', headers: quill.headers})\n        doSignup(token?: Token) {\n            setToken(token)\n            Progress.stop()\n            this.route('/')\n        }\n\n        @On({event: 'tap', selector: '.forgot-password-action'})\n        forgotPasswordClicked() {\n            Progress.start()\n            this.requestPasswordChange()\n        }\n\n        @Rest({url: '/account', method: Method.PUT, body: 'forgotPassword', headers: quill.headers})\n        requestPasswordChange() {\n            Progress.stop()\n            ToastManager.showToast(\n                new Toast('ui.forgot-password.email-sent.title', 'ui.forgot-password.email-sent.message', Theme.Info)\n            )\n            this.route('/login')\n        }\n\n        identifierConfig: TextInputConfig = {\n            label: 'ui.signin.identifier',\n            name: 'signin.identifier',\n            placeholder: 'john@freemail.com',\n            icon: 'envelope-o',\n            autofocus: true,\n            onChange: (l: string) => this.credentials.identifier = l\n        }\n\n        passwordConfig: TextInputConfig = {\n            label: 'ui.signin.password',\n            name: 'signin.password',\n            icon: 'lock',\n            type: 'password',\n            onChange: (p: string) => this.credentials.password = p\n        }\n\n        firstnameConfig = {\n            label: 'ui.signup.firstname',\n            icon: 'user-o',\n            name: 'signup.firstname',\n            placeholder: 'John',\n            onChange: (p: string) => this.signup.firstname = p\n        }\n\n        lastnameConfig = {\n            label: 'ui.signup.lastname',\n            icon: 'user-o',\n            name: 'signup.lastname',\n            placeholder: 'Smith',\n            onChange: (p: string) => this.signup.lastname = p\n        }\n\n        emailConfig = {\n            label: 'ui.signup.email',\n            name: 'signup.email',\n            icon: 'envelope-o',\n            placeholder: 'john@mail.com',\n            onChange: (p: string) => this.signup.email = p\n        }\n\n        signupPasswordConfig = {\n            label: 'ui.signup.password',\n            name: 'signup.password',\n            icon: 'lock',\n            onChange: (p: string) => this.signup.password = p\n        }\n\n        forgotPasswordConfig = {\n            label: 'ui.forgot-password.email',\n            name: 'forgot-password.identifier',\n            icon: 'envelope-o',\n            onChange: (p: string) => this.forgotPassword.identifier = p\n        }\n\n        @Template('default')\n        loginPage() {\n            return `\n            <scroll-pane class=\"grow\">\n                <div class=\"login\">\n                    <tabs>\n                      <div class=\"form-components\" title=\"ui.login.tabs.login\" icon=\"key\" active>\n                        <Text config=\"{identifierConfig}\"/>\n                        <Text config=\"{passwordConfig}\"/>\n                        <div class=\"block has-text-right\">\n                            <a class=\"button is-primary login-action\" key=\"ui.signin.button\"/>\n                        </div>\n                      </div>\n                      <div class=\"form-components\" title=\"ui.login.tabs.signup\" icon=\"pencil-square-o\">\n                        <Text config=\"{firstnameConfig}\"/>\n                        <Text config=\"{lastnameConfig}\"/>\n                        <Text config=\"{emailConfig}\"/>\n                        <Text config=\"{signupPasswordConfig}\"/>\n                        <div class=\"block has-text-right\">\n                             <a class=\"button is-primary signup-action\" key=\"ui.signup.button\"/>\n                        </div>\n                      </div>\n                      <div class=\"form-components\" title=\"ui.login.tabs.forgot-password\" icon=\"unlock\">\n                        <html-fragment html-key=\"ui.forgot-password.info\"></html-fragment>\n                        <Text config=\"{forgotPasswordConfig}\"/>\n                        <div class=\"block has-text-right\">\n                             <a class=\"button is-primary forgot-password-action\" key=\"ui.forgot-password.button\"/>\n                        </div>\n                      </div>\n                  </tabs>\n                </div>\n            </scroll-pane>\n            `\n        }\n    }\n}\n","module quill {\n\n    import Template     = feather.annotations.Template\n    import Bind         = feather.observe.Bind\n    import Subscribe    = feather.hub.Subscribe\n    import On           = feather.event.On\n    import Rest         = feather.xhr.Rest\n    import Method       = feather.xhr.Method\n    import Theme        = feather.ui.toast.Theme\n    import AjaxForm     = quill.components.AjaxForm\n    import Toast        = feather.ui.toast.Toast\n    import ToastManager = feather.ui.toast.ToastManager\n    import TextInputConfig = feather.ui.TextInputConfig;\n\n    interface NewPassword {\n        id: string,\n        password?: string,\n        passwordRepeat?: string\n    }\n\n    export class PassordChangePage extends AjaxForm {\n\n        newPassword: NewPassword = {\n            id: quill.getQueryStringParam('id')\n        }\n\n        @Bind() changePasswordInfo = 'ui.change-password.info'\n\n        init() {\n            removeToken();\n        }\n\n        @On({event: 'tap', selector: '.change-action'})\n        submitClicked() {\n            Progress.start()\n            this.doPasswordChange()\n        }\n\n        @Rest({url: '/account/new-password', method: Method.PUT, body: 'newPassword', headers: quill.headers})\n        doPasswordChange() {\n            Progress.stop()\n            this.route('/login')\n            ToastManager.showToast(\n                new Toast('ui.change-password.success.title', 'ui.change-password.success.message', Theme.Error)\n            )\n        }\n\n        @Subscribe('xhr-failure-401')\n        unauthorized(err: Errors, xhr) {\n            Progress.stop()\n            ToastManager.showToast(\n                new Toast('ui.change-password.fail.title', 'ui.change-password.fail.message', Theme.Error)\n            )\n            this.route('/login')\n        }\n\n        @Template('default')\n        loginPage() {\n            return `\n            <scroll-pane class=\"grow\">\n                <div class=\"change-password\">\n                  <p key=\"ui.change-password.info\"/>\n                  <div class=\"form-components\">\n                    <Text config=\"{passwordConfig}\"/>\n                    <Text config=\"{passwordRepeatConfig}\"/>\n                    <div class=\"block has-text-right\">\n                        <a class=\"button is-primary change-action\" key=\"ui.change-password.button\"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            `\n        }\n\n        passwordConfig: TextInputConfig = {\n            label: 'ui.change-password.password',\n            name: 'new-password.password',\n            icon: 'lock',\n            type: 'password',\n            onChange: (p: string) => this.newPassword.password = p\n        }\n\n        passwordRepeatConfig: TextInputConfig = {\n            label: 'ui.change-password.password-repeat',\n            name: 'new-password.passwordRepeat',\n            icon: 'lock',\n            type: 'password',\n            onChange: (p: string) => this.newPassword.passwordRepeat = p\n        }\n\n    }\n}\n","module feather.ui {\r\n\r\n    import Construct     = feather.annotations.Construct\r\n    import Template      = feather.annotations.Template\r\n    import Bind          = feather.observe.Bind\r\n    import On            = feather.event.On\r\n    import Subscribe     = feather.hub.Subscribe\r\n    import TreeNode      = feather.ui.tree.TreeNode\r\n    import GestureWidget = feather.ui.events.GestureWidget\r\n\r\n\r\n    @Construct({selector: 'tree-actions'})\r\n    export class TreeActions extends GestureWidget {\r\n\r\n        @Bind() disabled = true\r\n\r\n        init() {\r\n            this.render()\r\n        }\r\n\r\n        @Subscribe('defocus-other-nodes')\r\n        nodeSelected(node: TreeNode<any>) {\r\n            this.disabled = typeof node === 'undefined'\r\n        }\r\n\r\n        @On({event: 'tap', selector: 'a[action]:not([disabled])'})\r\n        buttonClicked(ev, el) {\r\n            this.triggerUp('node-action', el.getAttribute('action'))\r\n        }\r\n\r\n        @Template()\r\n        markup() {\r\n            return `\r\n            <div class=\"level is-mobile is-marginless tree-actions\">\r\n              <div class=\"level-left\">\r\n                 <a class=\"button is-small tooltip\"\r\n                    action=\"node-add\"\r\n                    tooltip=\"ui.tooltip.tree-actions.add\">\r\n                    <Icon name=\"plus\" icon-class=\"is-small\"/>\r\n                 </a>\r\n                 <a class=\"button is-small tooltip\"\r\n                    action=\"node-edit\"\r\n                    tooltip=\"ui.tooltip.tree-actions.rename\" {{disabled}}>\r\n                    <Icon name=\"pencil\" icon-class=\"is-small\"/>\r\n                 </a>\r\n                 <a class=\"button is-small tooltip\"\r\n                    action=\"node-configure\"\r\n                    tooltip=\"ui.tooltip.tree-actions.configure\" {{disabled}}>\r\n                    <Icon name=\"cog\" icon-class=\"is-small\"/>\r\n                 </a>\r\n              </div>\r\n              <div class=\"level-right\">\r\n                 <a class=\"button is-small tooltip\"\r\n                    action=\"node-delete\"\r\n                    tooltip=\"ui.tooltip.tree-actions.delete\" {{disabled}}>\r\n                    <Icon name=\"trash-o\" icon-class=\"is-small\"/>\r\n                 </a>\r\n              </div>\r\n            </div>`\r\n        }\r\n\r\n    }\r\n}\r\n","module quill {\n\n    import Construct     = feather.annotations.Construct\n    import Template      = feather.annotations.Template\n    import GestureWidget = feather.ui.events.GestureWidget\n\n    @Construct({selector: 'content'})\n    export class Content extends GestureWidget {\n\n        init() {\n            this.render()\n        }\n\n        @Template()\n        markup() {\n            return ``\n        }\n    }\n}\n","module quill {\r\n\r\n    import Widget       = feather.core.Widget\r\n    import Construct    = feather.annotations.Construct\r\n    import Template     = feather.annotations.Template\r\n    import Bind         = feather.observe.Bind\r\n    import Route        = feather.routing.Route\r\n    import Subscribe    = feather.hub.Subscribe\r\n    import Rest         = feather.xhr.Rest\r\n    import ToastManager = feather.ui.toast.ToastManager\r\n    import Toast        = feather.ui.toast.Toast\r\n    import Theme        = feather.ui.toast.Theme\r\n    import TypedMap     = feather.types.TypedMap\r\n    import setDeepValue = feather.objects.setDeepValue;\r\n\r\n    export interface Messages {\r\n        messages: Message[]\r\n    }\r\n\r\n    export interface Message {\r\n        key: string,\r\n        value: string\r\n    }\r\n\r\n    @Construct({selector: 'body.quill-app'})\r\n    export class QuillApplication extends Widget {\r\n\r\n        @Bind() pages: Array<Widget> = []\r\n        @Bind({bequeath: true}) user: User = null\r\n\r\n        translations: TypedMap<any> = {}\r\n\r\n        init() {\r\n            this.fetchTranslations()\r\n        }\r\n\r\n        @Rest({url: '/translations', headers: quill.headers})\r\n        fetchTranslations(translations?: Messages) {\r\n            translations.messages\r\n                .forEach(c =>\r\n                    setDeepValue(this.translations, c.key, c.value))\r\n            this.render()\r\n        }\r\n\r\n        @Rest({url: '/account', headers: quill.headers})\r\n        checkLogin(resp?: User|ApiError) {\r\n            this.user = resp as User\r\n            this.route(`/project/${this.user.lastProject}`)\r\n        }\r\n\r\n        @Subscribe('xhr-failure-401')\r\n        unauthorized() {\r\n            this.route('/login')\r\n        }\r\n\r\n        genericFetchError(err: string, xhr: XMLHttpRequest) {\r\n            ToastManager.showToast(new Toast('API request has failed', err, Theme.Error))\r\n        }\r\n\r\n        @Route('/project/:id')\r\n        projectPage(params: IdParam) {\r\n            if (!this.user) {\r\n                this.checkLogin()\r\n            } else {\r\n                this.goToPage(new ProjectPage(params.id))\r\n            }\r\n        }\r\n\r\n        @Route('/login')\r\n        loginPage() {\r\n            this.goToPage(new LoginPage())\r\n        }\r\n\r\n        @Route('/404')\r\n        notFoundPage() {\r\n            this.goToPage(new NotFoundPage())\r\n        }\r\n\r\n        @Route('/changepassword')\r\n        changePasswordPage() {\r\n            this.goToPage(new PassordChangePage())\r\n        }\r\n\r\n        goToPage(page: Widget) {\r\n            this.pages.splice(0, 1, page)\r\n        }\r\n\r\n        @Route('/')\r\n        homePage() {\r\n            this.checkLogin()\r\n        }\r\n\r\n        @Template()\r\n        applicationHTML() {\r\n            return `<progress-bar></progress-bar>\r\n                    <panel class=\"fullscreen v-flex\" {{pages}}></panel>\r\n                    <localization translations={translations}/>\r\n                    <modal-manager/>\r\n            `\r\n        }\r\n    }\r\n}\r\n","feather.start()\n"]}