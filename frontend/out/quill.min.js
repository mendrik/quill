window.console||(window.console={}),console.log||(console.log=function(){});var __extends=function(e,t){function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__rest=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]]);return n},__decorate=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},feather;!function(e){!function(e){function t(e){return function(t){for(var n=0,o=e;n<o.length;n++)t=(0,o[n])(t);return t}}function n(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function o(e){if(r.has(e))return r.get(e);var t=[],o=e;do{t=t.concat(Object.getOwnPropertyNames(e))}while(e=Object.getPrototypeOf(e));var a=t.filter(function(e){return n(o[e])});return r.set(o,a),a}e.compose=t,e.isFunction=n;var r=new WeakMap;e.getInheritedMethods=o}(e.functions||(e.functions={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e){return"values"in Object?Object.values(e):Array.apply(null,Object.keys(e).map(function(t){return e[t]}))}function o(e,t){var n,o;for(n=0,o=(t=t.split(".")).length;n<o;n++)if(void 0===(e=e[t[n]]))return;return e}e.isObject=t,e.values=n,e.deepValue=o}(e.objects||(e.objects={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e){return[].slice.call(e)}function n(e,t){return e.reduce(function(e,n){return t(n).concat(e)},[])}function o(e){return e.reduce(function(e,t){return e.concat(t)},[])}function r(e,t){for(var n=e.length;n--;)~t.indexOf(e[n])&&e.splice(n,1)}function a(e,t){var n=t[e],o=p.get(t),r=function(e,t,n){for(var r=0,a=o;r<a.length;r++)a[r][t].apply(e,n)};"splice"===e?t.splice=function(o,a){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var l=n.call.apply(n,[t,o,a].concat(i));return r(t,e,[o,a,i,l]),l}:"sort"==e&&(t.sort=function(o){var a=l(0,t.length-1),i=o?[t.map(function(e,t){return t}).sort(function(e,n){return o(t[e],t[n])}).map(function(e){return a[e]})]:a,s=n.call(t,o);return r(t,e,i),s})}function i(e,t){return e.filter(function(e){return!~t.indexOf(e)})}function s(e,t){return{add:i(e,t),remove:i(t,e)}}function l(e,t){for(var n=t-e+1,o=new Array(n),r=0,a=o.length;r<a;r++)o[r]=r+e;return o}function c(e,t){p.get(e)||(p.set(e,[]),e.pop=function(){return e.splice(e.length-1,1)[0]},e.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.splice.apply(e,[e.length,0].concat(t)),e.length},e.fill=function(){throw Error("observed arrays cannot be filled. items must be unique, use Array.splice instead!")},e.reverse=function(){var t=e.slice();return e.sort(function(e,n){return t.indexOf(n)-t.indexOf(e)}),e},e.shift=function(){return e.splice(0,1)[0]},e.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.splice.apply(e,[0,0].concat(t)),e.length},a("splice",e),a("sort",e)),p.get(e).push(t)}function u(e){return{sort:e,splice:e}}function d(e){for(var t=e.length,n=new Array(t),o=new Array(t),r=0,a=t+1;r<a;r++)n[r]=1,o[r]=-1;for(r=1;r<t;r++)for(var i=0;i<r;i++)e[i]<e[r]&&n[r]<n[i]+1&&(n[r]=n[i]+1,o[r]=i);for(var s=0,r=1;r<t;r++)n[s]<n[r]&&(s=r);for(var l=n[s],c=new Array(l),r=s;-1!=r;r=o[r])c[--l]=e[r];return c}var p=new WeakMap;e.from=t,e.flatMap=n,e.flatten=o,e.removeFromArray=r,e.notifyListeners=function(e){var t=p.get(e);if(t)for(var n=0,o=t;n<o.length;n++)o[n].splice(0,0,[],[])},e.diff=i,e.patch=s,e.range=l,e.observeArray=c,e.changeArrayListener=u,e.lis=d}(e.arrays||(e.arrays={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e,t){var o=e.nodeType===Node.ELEMENT_NODE&&n(e,t)?[e]:[];return o.push.apply(o,e.querySelectorAll(t)),o}function n(e,t){return i.call(e,t)}function o(e){this.acceptNode=a;var t=document.createTreeWalker(e,NodeFilter.SHOW_ALL,a,!1),n=[];do{n.push(t.currentNode)}while(t.nextNode());return n}function r(e,t,n){void 0===n&&(n=null),e.insertBefore(t,n)}var a=function(e){var t=e.nodeType;return t===Node.ELEMENT_NODE||t!==Node.DOCUMENT_FRAGMENT_NODE&&(t!==Node.TEXT_NODE||!/^\s*$/.test(e.textContent))},i=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","matchesSelector"].reduce(function(e,t){return Element.prototype[t]||e});e.querySelectorWithRoot=t,e.selectorMatches=n,e.allChildNodes=o,e.insertBefore=r}(e.dom||(e.dom={}))}(feather||(feather={}));var feather;!function(e){!function(e){var t=function(){function e(e,t){this.first=e,this.second=t}return e}();e.Tuple=t}(e.types||(e.types={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,t,n){for(var o,i=e.split(/{{|}}/),s=i.length,l=new Array(s),c=0;c<s;c++)if(o=i[c],c%2){for(var u=o.split(/:/),d=u.shift(),p=~d.indexOf(".")?r(t,d):t[d],h=0,f=u;h<f.length;h++)p=n[f[h]].call(t,p);if(void 0===p)return l[c]="{{"+o+"}}";l[c]=a(p)?p.call(t):p}else l[c]=o;return l.join("")}function o(e,t,n){var o=t.exec(e);if(o)return o.reduce(function(e,t,o){return o>0&&(e[n[o-1]]=t),e},{})}var r=e.objects.deepValue,a=e.functions.isFunction;t.format=n,t.namedRegexMatch=o}(e.strings||(e.strings={}))}(feather||(feather={}));var feather;!function(feather){var boot;!function(boot){var querySelectorWithRoot=feather.dom.querySelectorWithRoot,ComponentInfo=function(){function e(e,t,n){this.selector=e,this.attributes=t,this.component=n}return e}();boot.ComponentInfo=ComponentInfo;var WidgetFactory=function(){function e(){}return e.start=function(t,n){void 0===t&&(t=document);for(var o=e.widgetRegistry,r=0,a=o.length;r<a;r++)for(var i=o[r],s=querySelectorWithRoot(t,i.selector),l=0,c=s.length;l<c;l++){var u=s[l],d=i.attributes.map(e.attributeParser(u,n||window)),p=new(Function.prototype.bind.apply(i.component,[null].concat(d)));u.hasAttribute("id")&&(p.id=u.getAttribute("id")),n&&(p.parentWidget=n,n.childWidgets.push(p)),p.bindToElement(u)}t===document&&feather.routing.runRoutes()},e.register=function(e,t){this.widgetRegistry.push(new ComponentInfo(e.selector,e.attributes||[],t))},e}();WidgetFactory.widgetRegistry=[],WidgetFactory.attributeParser=function(node,context){return function(key){var value=node.getAttribute(key),m=(value||"").match(/^\{(.+?)\}\/?$/i);if(m){var js=m[1];void 0!==(value=context[js]||function(str){return eval(str)}.bind(context)(js))&&node.removeAttribute(key)}return value}},boot.WidgetFactory=WidgetFactory}(boot=feather.boot||(feather.boot={}))}(feather||(feather={})),function(e){e.start=function(){return e.boot.WidgetFactory.start()}}(feather||(feather={}));var feather;!function(e){!function(t){function n(e){var n;if(d.innerHTML=e.replace(t.selfClosingTags,t.openTags),i)n=document.importNode(d.content,!0);else for(n=document.createDocumentFragment();d.firstChild;)n.appendChild(d.firstChild);var r=a(n);return new f(n,o(r))}function o(e){var t,n=[];return e.forEach(function(e,o){if(e.nodeType===Node.TEXT_NODE)for(var a=e.textContent;null!==(t=l.exec(a));)n.push(new h(o,3,t[1],a));else if(e.nodeType===Node.ELEMENT_NODE)for(var i=0,c=r(e.attributes);i<c.length;i++){var u=c[i],d=u.nodeName;if(t=d.match(s))n.push(new h(o,1,t[1]));else if("class"===d)for(var p=0,f=r(e.classList);p<f.length;p++){var v=f[p];(t=v.match(s))&&n.push(new h(o,0,t[1]))}else{var y=u.value;(t=y.match(s))&&n.push(new h(o,2,t[1],d))}}}),n}var r=e.arrays.from,a=e.dom.allChildNodes,i="content"in document.createElement("template")&&"firstElementChild"in document.createDocumentFragment(),s=/\{\{(.*?)}}/,l=/\{\{(.*?)}}/g,c=new WeakMap,u={};t.selfClosingTags=/<(\w+)((\s+([^=\s\/<>]+|\w+=('[^']*'|"[^"]*"|[^"']\S*)))*)\s*\/>/gi,t.openTags="<$1$2></$1>";var d=i?document.createElement("template"):document.createElement("div"),p=function(){function e(e,t,n,o){this.node=e,this.type=t,this.curly=n,this.text=o}return e}();t.Hook=p;var h=function(){function e(e,t,n,o){this.nodePosition=e,this.type=t,this.curly=n,this.text=o}return e}();t.HookInfo=h;var f=function(){function e(e,t){this.node=e,this.hookInfos=t}return e.prototype.asParsedTemplate=function(){var e=this.node.cloneNode(!0),t=a(e),n=this.hookInfos.map(function(e){return new p(t[e.nodePosition],e.type,e.curly,e.text)});return{doc:e,first:t[1],hooks:n}},e}();t.PreparsedTemplate=f,t.getPreparsedTemplate=n;var v=function(){function e(){}return e.getTemplate=function(e,t){var o=c.get(Object.getPrototypeOf(e))[t].call(e),r=u[o];return r||(r=n(o),u[o]=r),r.asParsedTemplate()},e}();t.TemplateFactory=v,t.Template=function(e){return void 0===e&&(e="default"),function(t,o){var r=c.get(t);r||c.set(t,r={}),r[e]=t[o];try{var a=t[o].call({});u[a]=n(a)}catch(e){console.warn("Template method "+o+" in "+t.constructor+" is not a pure function.")}}}}(e.annotations||(e.annotations={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,n,o){var a=e.element;t.addListener(a,n,function(t){var n=t.target;do{for(var i=0,s=o;i<s.length;i++){var l=s[i];1!==n.nodeType||l.selector&&!r(n,l.selector)||(l.preventDefault&&t.preventDefault(),e[l.method].call(e,t,n))}if(n===a)break}while(n=n.parentElement)})}var o,r=e.dom.selectorMatches;!function(e){e[e.Direct=0]="Direct",e[e.Delegate=1]="Delegate"}(o=t.Scope||(t.Scope={}));var a=(l={},l[o.Direct]=new WeakMap,l[o.Delegate]=new WeakMap,l),i=new WeakMap;t.addListener=function(e,t,n){e.addEventListener(t,n);var o=i.get(e);o||(o=[],i.set(e,o)),o.push({event:t,fn:n})};var s=function(){function e(){}return e.prototype.attachEvents=function(){this.attachDelegates(this.handlers(o.Delegate)),this.attachDirect(this.handlers(o.Direct))},e.prototype.handlers=function(e){var t=a[e].get(Object.getPrototypeOf(this)),n={};return t&&t.reduce(function(e,t){var n=t.event;return e[n]||(e[n]=[]),e[n].push(t),e},n),n},e.prototype.attachDirect=function(e){var n=this,r=this.element;Object.keys(e).forEach(function(a){for(var i=e[a],s=0,l=i;s<l.length;s++)!function(e){var o=r;e.selector&&(o=o.querySelector(e.selector)),o?t.addListener(o,a,function(t){return e.preventDefault&&t.preventDefault(),e.bubble||t.stopImmediatePropagation(),n[e.method].call(n,t,o)}):console.warn(e.selector+" didn't match anything inside the template")}(l[s]);n.eventRegistered(n,a,i,o.Direct)})},e.prototype.attachDelegates=function(e){var t=this;Object.keys(e).forEach(function(r){var a=e[r];n(t,r,a),t.eventRegistered(t,r,a,o.Delegate)})},e.prototype.eventRegistered=function(e,t,n,o){},e.prototype.cleanUp=function(){var e=this,t=i.get(this.element);t&&(t.forEach(function(t){return e.element.removeEventListener(t.event,t.fn)}),i.delete(this.element))},e}();t.EventAware=s,t.On=function(e){return function(t,n){var r=void 0===e.scope?o.Delegate:e.scope,i=a[r].get(t);i||a[r].set(t,i=[]),e.event.split(/\s+/).forEach(function(t){return i.push({event:t,method:n,preventDefault:e.preventDefault,bubble:e.bubble,scope:r,selector:e.selector})})}};var l}(e.event||(e.event={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.event.EventAware,o=e.arrays.flatten,r=new WeakMap,a=function(){function e(e,t){this.event=e,this.method=t}return e}();t.Subscriber=a;var i=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.childWidgets=[],e}return __extends(n,t),n.prototype.triggerUp=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.hub.Subscribable.trigger(t,this,n),this.parentWidget&&(r=this.parentWidget).triggerUp.apply(r,[t].concat(n));var r},n.prototype.triggerDown=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.hub.Subscribable.trigger(t,this,n),this.childWidgets&&this.childWidgets.forEach(function(e){return e.triggerDown.apply(e,[t].concat(n))})},n.trigger=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var i=r.get(Object.getPrototypeOf(t));if(i&&i[e])for(var s=0,l=i[e];s<l.length;s++)t[l[s].method].apply(t,o(n))},n.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),r.delete(this)},n}(n);t.Subscribable=i,t.Subscribe=function(e){return function(t,n){var o=r.get(t);o||r.set(t,o={}),o[e]||(o[e]=[]),o[e].push(new a(e,n))}}}(e.hub||(e.hub={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.hub.Subscribable,o=e.strings.namedRegexMatch,r=new WeakMap,a=[],i=/[:*]\w+/gi,s=window.history&&window.history.pushState&&null===document.querySelector('[routing="hash"]'),l=[[/:\w+/gi,"([\\w\\d-]+)"],[/\*\w+/gi,"(.+)"]];t.namedMatch=function(e,t){var n=e.match(i);if(n&&n.length){n=n.map(function(e){return e.substr(1)});var r=l.reduce(function(e,t){return e.replace(t[0],t[1])},e),a=new RegExp("^"+r+"$","gi");return o(t,a,n)}if(new RegExp("^"+e+"$","gi").exec(t))return{}};var c=function(){var e=location.pathname;return s||("/"!==e?location.replace("/#"+e):e=location.hash?location.hash.replace(/^#/,""):"/"),e},u=function(e){for(var n=0,o=a;n<o.length;n++){var i=o[n],s=r.get(Object.getPrototypeOf(i));if(s)for(var l=0,c=s;l<c.length;l++){var u=c[l],d=t.namedMatch(u.route,e);d&&i[u.handler].call(i,d)}}};window.addEventListener(s?"popstate":"hashchange",function(){return u(c())},!1);var d=function(e){s?(history.pushState(null,"",e),u(c())):location.hash=e},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.route=function(e){return d(e)},t}return __extends(t,e),t.prototype.initRoutes=function(){!~a.indexOf(this)&&r.has(Object.getPrototypeOf(this))&&a.push(this)},t}(n);t.RouteAware=p,t.runRoutes=function(){window.blockRouting||u(c())},t.Route=function(e){return function(t,n){var o=r.get(t);o||r.set(t,o=[]),o.push({route:e,handler:n})}}}(e.routing||(e.routing={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,t,n,o){n?e.setAttribute(t,o):e.removeAttribute(t)}function o(e){if(e.parentWidget)for(var t=e.parentWidget,n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];_(t[r])}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(e){e.cleanUp(),E.delete(e)})}function a(e,t,n,r){var a=e[n];if(Array.isArray(a))h(a,w(function(){r(a),o(e)}));else{var i=E.get(e);i?i[n]||(i[n]=[]):E.set(e,(s={},s[n]=[],i=s)),Object.defineProperty(e,n,{get:function(){return a},set:function(r){if(r!==a){t&&t.localStorage&&localStorage.setItem(P(e,n),JSON.stringify({value:r}));var s=a;a=r;for(var l=0,c=i[n];l<c.length;l++)(0,c[l])(r,s);o(e)}return r}}),i[n].push(r)}var s}function i(e,t,o,r){if(2!==t.type&&1!==t.type)throw Error('Bool value can only be bound to attributes ie. hidden="{{myBool}}. Consider using filters to convert them to strings (true|false|yes|no etc)"');var i=t.node,s=t.text||e;t.text?i.setAttribute(t.text,""):i.removeAttribute("{{"+t.curly+"}}"),a(this,r,e,function e(t){return"boolean"==typeof i[s]?i[s]=!!o(t):n(i,s,!!o(t),""),e}(this[e]))}function s(e,t,o,r){var i=this,s=t.node;if(3===t.type)a(this,r,e,function e(){return s.textContent=x(t.text,i,i),e}());else if(0===t.type)a(this,r,e,function e(t,n){if(void 0!==n){var r=o(n);r&&s.classList.remove(r)}if(void 0!==t){var a=o(t);a&&s.classList.add(a)}return e}(this[e])),s.classList.remove("{{"+t.curly+"}}");else if(2===t.type||1===t.type){var l=t.text||e;a(this,r,e,function e(t){var r=o(t);return n(s,l,void 0!==r,r),e}(this[e])),t.text||s.removeAttribute("{{"+t.curly+"}}")}}function l(t,n,o){var a=t.node;return{sort:function(e){var t=f(a.children);e.forEach(function(e){return a.appendChild(t[e])})},splice:function(t,i,s,l){if(void 0===l&&(l=[]),0!==t||0!==i||0!=s.length){f(a.children).slice(t,t+i).forEach(function(e){return a.removeChild(e)});var c=o.childWidgets;if(e.arrays.removeFromArray(c,l),r.apply(void 0,l),s&&s.length){for(var u=document.createDocumentFragment(),d=0,p=s;d<p.length;d++){var h=p[d];h.parentWidget=o,h.appendTemplateRoot(u,n.templateName)}c.push.apply(c,s),v(a,u,a.children[t])}}}}}function c(e,t,n){var o=e.splice(0,e.length),r=t.node;h(e,l(t,n,this)),r.removeAttribute("{{"+t.curly+"}}"),e.push.apply(e,o)}function u(e,t,n,o,r){var a;a=void 0===t?"string":(Array.isArray(t)?"array":typeof t).toLowerCase(),/boolean/.test(a)?i.call(this,e,n,r,o):/string|number/.test(a)?s.call(this,e,n,r,o):/array/.test(a)?c.call(this,this[e],n,o):console.log("Bindings are only supported on arrays, booleans, strings and numbers")}function d(e,t,n,o){var i=this,s=[],l=this[e],c=t.node,u=function(){var e,t,a,u,d,p=l.filter(o()),h=C(p,s);if(h.remove.length&&(D(s,h.remove),h.remove.forEach(function(e){c.removeChild(e.element)}),r.apply(void 0,h.remove)),d=h.add.length){var f=1!==d?document.createDocumentFragment():c;h.add.forEach(function(e){e.parentWidget=i,e.appendTemplateRoot(f,n.templateName)}),(m=i.childWidgets).push.apply(m,h.add),1!==d&&c.appendChild(f),s.push.apply(s,h.add)}a=s.map(function(e){return p.indexOf(e)});for(var v=0,y=(u=M(a,k(a))).length;v<y;v++)e=p[u[v]],t=p[u[v]+1],c.insertBefore(e.element,t?t.element:null);s.splice.apply(s,[0,s.length].concat(p));var m};u(),h(l,w(u));for(var d=0,p=n.changeOn;d<p.length;d++){var f=p[d];a(this,n,f,function(){return _(l)})}c.removeAttribute("{{"+t.curly+"}}")}var p=e.objects.isObject,h=e.arrays.observeArray,f=e.arrays.from,v=e.dom.insertBefore,y=e.functions.getInheritedMethods,m=e.functions.isFunction,g=e.functions.compose,b=e.routing.RouteAware,_=e.arrays.notifyListeners,w=e.arrays.changeArrayListener,x=e.strings.format,k=e.arrays.lis,M=e.arrays.diff,C=e.arrays.patch,D=e.arrays.removeFromArray,E=new WeakMap,O=new WeakMap,T={},S=function(e){var t=e.id||e.name||e.title||e.constructor.name;return m(t)?t():t},P=function(e,t){var n=[t],o=e;do{n.unshift(S(o))}while(o=o.parentWidget);return n.join(".")},N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachHooks=function(e){for(var t=this,n=0,o=e;n<o.length;n++){var r=o[n],a=r.curly.split(/:/),i=this.findProperty(a.shift()),s=O.get(Object.getPrototypeOf(this))[i],l=this[i];if(s&&s.localStorage){var c=void 0;try{var h=localStorage.getItem(P(this,i));h&&(c=JSON.parse(h).value)}catch(e){console.warn(e)}void 0!==c&&(this[i]=l=c)}var f=this.findMethod.bind(this),v=g(a.map(f).map(function(e){return t[e].bind(t)}));void 0!==s?p(l)?console.log("Binding to objects is not supported. Use new widgets."):m(l)?console.log("Binding to functions is not supported. Use new filters."):(l=v(l),Array.isArray(this[i])&&m(l)?d.call(this,i,r,s,v):u.call(this,i,l,r,s,v)):console.log("@Bind() "+i+" annotation missing?",r,i,l,O)}},t.prototype.findProperty=function(e){var t=T[e];return t||(t=Object.getOwnPropertyNames(this).find(function(t){return t.toLowerCase()===e.toLowerCase()})||e,T[e]=t),t},t.prototype.findMethod=function(e){var t=T[e];if(t||(t=y(this).find(function(t){return t.toLowerCase()===e.toLowerCase()})||e,T[e]=t),!this[t])throw Error("Couldn't find method '"+e+"'");return t},t}(b);t.Observable=N,t.Bind=function(e){return function(t,n){var o={templateName:"default",localStorage:!1,changeOn:[]},r=e?__assign({},o,e):__assign({},o),a=O.get(t);a?a[n]=r:O.set(t,(i={},i[n]=r,i));var i}}}(e.observe||(e.observe={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.boot.WidgetFactory;t.Construct=function(e){return function(t){return n.register(e,t)}}}(e.annotations||(e.annotations={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.strings.format,o=e.objects.deepValue;t.Method={GET:"GET",POST:"POST",DELETE:"DELETE",PUT:"PUT"};var r={url:null,method:t.Method.GET,timeout:5e3,async:!0,withCredentials:!0,responseFilter:function(e){return JSON.parse(e)},requestFilter:function(e){return e?JSON.stringify(e):null},headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}};t.sendRequest=function(e,t,n){var o=new XMLHttpRequest;if(e=__assign({},r,e),o.open(e.method,e.url,e.async),o.timeout=e.timeout,o.setRequestHeader)for(var a=0,i=Object.keys(e.headers);a<i.length;a++){var s=i[a];o.setRequestHeader(s,e.headers[s])}o.addEventListener("readystatechange",function(){4===o.readyState&&(200===o.status?t(e.responseFilter(o.responseText)):~[500,404,405].indexOf(o.status)?n("Fetching failed "+o.status,o):0!==o.status&&console.log("Unhandled status "+o.status+" for  "+e.url))});for(var l=0,c=["timeout","error","abort"];l<c.length;l++){var u=c[l];o.addEventListener(u,function(e){n(e)})}return e.progress&&o.addEventListener("progress",e.progress,!1),o.send(e.requestFilter(e.body)),o},t.Rest=function(e){return function(r,a,i){var s=i.value;i.value=function(){var r=this;e.body&&(e=__assign({},e,{body:o(this,e.body),progress:function(e){return r.triggerDown("xhr-progress",e)}}));var a=__assign({},e,{url:n(e.url,this,this)});return t.sendRequest(a,i.value.original.bind(this),function(e,t){return r.triggerDown("xhr-failure",e,t)})},i.value.original=s}}}(e.xhr||(e.xhr={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.TemplateFactory,o=e.observe.Observable,r=e.boot.WidgetFactory,a=e.arrays.from,i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.bindToElement=function(e){this.element=e,this.init(e),this.attachEvents(),this.initRoutes()},t.prototype.render=function(e){void 0===e&&(e="default");var t=this.getParsed(e);this.element.appendChild(t.doc)},t.prototype.getParsed=function(e){var t=this,o=n.getTemplate(this,e);return a(o.doc.childNodes).filter(function(e){return e.nodeType==Node.ELEMENT_NODE}).forEach(function(e){return r.start(e,t)}),this.attachHooks(o.hooks),o},t.prototype.init=function(e){},t.prototype.appendTemplateRoot=function(e,t){if(!t)throw Error("Bound lists must specify template name in @Bind()");if(this.element)e.appendChild(this.element);else{var n=this.getParsed(t);this.bindToElement(n.first),e.appendChild(n.first)}},t}(o);t.Widget=i}(e.core||(e.core={}))}(feather||(feather={}));var feather;!function(e){!function(e){!function(e){e.focusElement=function(e){var t=function(){return e.focus()};/Android/.test(navigator.appVersion)?setTimeout(function(){return t()},10):t()};var t=function(e,t){var n=null;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,r)},t)}};e.Debounce=function(e){return function(n,o,r){var a=n[o];n[o]=t(a,e)}}}(e.utils||(e.utils={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.core.Widget,o=e.dom.selectorMatches,r=e.event.addListener;/Android/.test(navigator.appVersion)&&window.addEventListener("resize",function(){var e=document.activeElement;/input|textarea/i.test(e.tagName)&&e.scrollIntoView()}),/ios/.test(navigator.userAgent)&&(document.ontouchmove=function(e){e.preventDefault()});var a=function(e){return{passive:/mouse|touch/.test(e.type),capture:!1}};t.tapDistance=10,t.addMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.addEventListener(e,n,o)})},t.removeMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.removeEventListener(e,n,o)})};var i,s=["clientX","clientY","pageX","pageY"];!function(e){e[e.start=0]="start",e[e.move=1]="move",e[e.stop=2]="stop"}(i=t.PanPhase||(t.PanPhase={}));var l={touchstart:{move:["touchmove"],stop:["touchend"]},mousedown:{move:["mousemove"],stop:["mouseup"]},pointerdown:{move:["pointermove"],stop:["pointerup"]}};t.normalizePointer=function(e){return{x:e.clientX||(e.touches?e.touches[0].pageX:0),y:e.clientY||(e.touches?e.touches[0].pageY:0)}};var c=document.documentElement,u=function(e,t,n){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return s.forEach(function(e){return o[e]=t[e]}),o},d=function(e){return function(e){if(!/mouse|pointer/.test(e.type)||1===e.which){var n=a(e);n.passive&&e.preventDefault();var o=t.normalizePointer(e),r=o,i=function(e){r=t.normalizePointer(e)},s=function(a){Math.abs(r.x-o.x)<t.tapDistance&&Math.abs(r.y-o.y)<t.tapDistance&&e.target.dispatchEvent(u("tap",a)),t.removeMultipleEventListeners(l[e.type].stop,c,s,n),t.removeMultipleEventListeners(l[e.type].move,c,i,n)};t.addMultipleEventListeners(l[e.type].move,c,i,n),t.addMultipleEventListeners(l[e.type].stop,c,s,n)}}},p=function(e){return function(e){var n=a(e);if(!/mouse/.test(e.type)||1===e.which){n.passive&&e.preventDefault();var o=t.normalizePointer(e),r=Date.now(),s=document.documentElement,c=o,d=0,p=function(n,a){void 0===a&&(a=i.move);var s=+Date.now()-+r;a===i.move&&("touchmove"===n.type&&n.preventDefault(),c=t.normalizePointer(n),d=c.x-o.x),e.target.dispatchEvent(u("panX",n,{diffX:d,time:s,phase:a}))},h=function(o){p(o,i.stop),t.removeMultipleEventListeners(l[e.type].move,s,p,n),t.removeMultipleEventListeners(l[e.type].stop,s,h,n)};p(e,i.start),t.addMultipleEventListeners(l[e.type].move,s,p,n),t.addMultipleEventListeners(l[e.type].stop,s,h,n)}}},h=function(e){var t=e.value;return function(e){e.target.value!==t&&(t=e.target.value,e.target.dispatchEvent(u("textchange",e)))}},f="onpointerdown"in document.documentElement,v=/android|iphone|webos|ipad|ipod|blackberry/i.test(navigator.userAgent);t.tapEvents=f?["pointerdown"]:v?["touchstart"]:["touchstart","mousedown"];var y={tap:{events:t.tapEvents,handlerFactory:d,options:a({})},panX:{events:t.tapEvents,handlerFactory:p,options:a({})},textchange:{events:"keyup input focus blur focusin focusout cut paste change".split(" "),handlerFactory:h,options:a({})}},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachDelegates=function(t){var n=this;e.prototype.attachDelegates.call(this,t),Object.keys(t).forEach(function(e){var a=y[e];if(a){var i=t[e],s=n,l=n.element,c=a.handlerFactory(l);a.events.forEach(function(e){return r(l,e,function(e){var t=e.target;do{for(var n=0,r=i;n<r.length;n++){var a=r[n];if(1===t.nodeType&&(!a.selector||o(t,a.selector)))return a.preventDefault&&e.preventDefault(),a.bubble||e.stopImmediatePropagation(),c.call(s,e)}if(t===l)break}while(t=t.parentElement)})})}})},t}(n);t.GestureWidget=m}(t.events||(t.events={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.observe.Bind,a=e.annotations.Template,i=function(e){function t(t){var n=e.call(this)||this;return n.fontAwesomeClass=function(e){return"fa-"+e},n.name=t,n}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return'<span class="icon is-small"><i class="fa {{name:fontAwesomeClass}}"></i></span>'},t}(n);__decorate([r()],i.prototype,"name",void 0),__decorate([a()],i.prototype,"markup",null),i=__decorate([o({selector:"icon",attributes:["name","align-right"]})],i),t.Icon=i}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n,o=e.core.Widget,r=e.annotations.Construct,a=function(e){return"body"===e.tagName||"hidden"===getComputedStyle(e,null).getPropertyValue("overflow")?e:a(e.parentElement)};!function(e){e[e.None=0]="None",e[e.Right=2]="Right",e[e.Left=4]="Left",e[e.Bottom=8]="Bottom",e[e.Top=16]="Top"}(n||(n={}));var i,s=function(e,t,n,o){var r=(t.x-e.x)*(o.y-n.y)-(t.y-e.y)*(o.x-n.x);if(0===r)return!1;var a=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),i=a/r,s=(a=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/r;return!(i<0||i>1||s<0||s>1)},l=function(e,t){var o=0;return(s({x:e.left,y:e.top},{x:e.right,y:e.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom})||s({x:e.left,y:e.bottom},{x:e.right,y:e.bottom},{x:t.right,y:t.top},{x:t.right,y:t.bottom}))&&(o|=n.Right),(s({x:e.left,y:e.top},{x:e.right,y:e.top},{x:t.left,y:t.top},{x:t.left,y:t.bottom})||s({x:e.left,y:e.bottom},{x:e.right,y:e.bottom},{x:t.left,y:t.top},{x:t.left,y:t.bottom}))&&(o|=n.Left),(s({x:e.left,y:e.top},{x:e.left,y:e.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top})||s({x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top}))&&(o|=n.Top),(s({x:e.left,y:e.top},{x:e.left,y:e.bottom},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom})||s({x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}))&&(o|=n.Bottom),o},c=function(e,t,n){var o="transform: translate("+t+"px, "+n+"px)";e.setAttribute("style",o)};"MutationObserver"in window&&(i=new MutationObserver(function(e){e.forEach(function(e){var t=e.target;if("hidden"===e.attributeName)if(t.hasAttribute(e.attributeName))t.removeAttribute("style");else{var o=a(t.parentElement),r=t.getBoundingClientRect(),i=o.getBoundingClientRect(),s=l(r,i);s&n.Right&&c(t,i.right-r.right,0),s&n.Left&&c(t,i.left-r.left,0),s&n.Top&&c(t,0,i.top-r.top),s&n.Bottom&&c(t,0,i.bottom-r.bottom)}})}));var u={attributes:!0,childList:!1,characterData:!1},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){i&&setTimeout(function(){return i.observe(e,u)},1)},t}(o);d=__decorate([r({selector:".open-in-view"})],d),t.OpenInView=d}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.annotations.Template,a=e.observe.Bind,i=e.hub.Subscribe,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!0,t}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.nodeSelected=function(e){this.disabled=!1},t.prototype.markup=function(){return'\n              <div class="level is-mobile is-marginless">\n                <div class="level-left">\n                   <a class="button is-small" {{disabled}}><Icon name="lock"/></a>\n                   <a class="button is-small" {{disabled}}><Icon name="plus"/></a>\n                   <a class="button is-small" {{disabled}}><Icon name="cut"/></a>\n                   <a class="button is-small" {{disabled}}><Icon name="paste"/></a>\n                </div>\n                <div class="level-right">\n                   <a class="button is-small" {{disabled}}><Icon name="trash-o"/></a>\n                </div>\n              </div>\n            '},t}(n);__decorate([a()],s.prototype,"disabled",void 0),__decorate([i("deselect-other-nodes")],s.prototype,"nodeSelected",null),__decorate([r()],s.prototype,"markup",null),s=__decorate([o({selector:"tree-node-actions"})],s),t.TreeNodeActions=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n,o=e.ui.events.GestureWidget,r=e.annotations.Template,a=e.observe.Bind,i=e.event.On,s=e.hub.Subscribe,l=e.dom.selectorMatches;!function(e){e[e.file="fa-file-o"]="file",e[e.object="fa-vcard-o"]="object",e[e.date="fa-calendar"]="date",e[e.number="fa-sliders"]="number",e[e.html="fa-code"]="html",e[e.config="fa-gear"]="config",e[e.boolean="fa-toggle-off"]="boolean",e[e.array="fa-briefcase-o"]="array",e[e.folderOpen="fa-folder-open-o"]="folderOpen",e[e.folderClosed="fa-folder-o"]="folderClosed"}(n=t.TreeNodeIcon||(t.TreeNodeIcon={}));var c=function(e){function t(t,o,r){void 0===r&&(r=n.file);var a=e.call(this)||this;return a.children=[],a.selected=!1,a.open=!1,a.id=function(){return a.text},a.iconClass=function(e){return 0===a.children.length?a.icon:e?n.folderOpen:n.folderClosed},a.openClass=function(e){return 0===a.children.length?"":e?"open":void 0},a.hasChildrenClass=function(e){return e.length>0?"fa-caret-right":void 0},a.openIconClass=function(e){return e?"down":""},a.selectedClass=function(e){return e?"selected":void 0},a.icon=r,a.text=t,a.value=o,a}return __extends(t,e),t.prototype.openNode=function(e,t){e.stopImmediatePropagation(),this.open=!this.open,this.open?this.triggerUp("node-opened",this.value):this.triggerUp("node-closed",this.value)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(n=this.children).push.apply(n,e);var n},t.prototype.selectNode=function(e,t){l(e.target,"i")||(e.stopImmediatePropagation(),this.selected=!0,this.triggerUp("node-selected",this))},t.prototype.deselect=function(e){this.selected&&e!==this&&(this.selected=!1)},t.prototype.markup=function(){return'<li class="tree-node">\n              <div class="{{selected:selectedClass}} {{open:openClass}} clickable">\n                <i class="icon fa node-handle {{children:hasChildrenClass}} {{open:openIconClass}}"></i>\n                <i class="icon fa node-icon {{open:iconClass}}"></i>\n                <span class="node-text">{{text}}</span>\n              </div>\n              <ul {{children}}></ul>\n            </li>'},t}(o);__decorate([a()],c.prototype,"children",void 0),__decorate([a()],c.prototype,"selected",void 0),__decorate([a({localStorage:!0})],c.prototype,"open",void 0),__decorate([a()],c.prototype,"icon",void 0),__decorate([a()],c.prototype,"text",void 0),__decorate([i({event:"tap",selector:".node-handle"})],c.prototype,"openNode",null),__decorate([i({event:"tap",selector:".clickable"})],c.prototype,"selectNode",null),__decorate([s("deselect-other-nodes")],c.prototype,"deselect",null),__decorate([r()],c.prototype,"markup",null),t.TreeNode=c}(t.tree||(t.tree={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On;!function(e){e[e.Info="info"]="Info",e[e.Error="error"]="Error",e[e.Warning="warning"]="Warning"}(t.Theme||(t.Theme={}));var i=function(e){function n(t,n,o,r,a){var i=e.call(this)||this;return i.added=!1,i.message=n,i.title=t,i.action=a,i.actionName=r,i.theme=o,i}return __extends(n,e),n.prototype.actionClicked=function(){this.action()},n.prototype.animationEnded=function(){t.ToastManager.removeToast(this)},n.prototype.deleteClicked=function(){t.ToastManager.removeToast(this)},n.prototype.datePickerMarkup=function(){return'<li {{added}} class="{{theme}}">\n              <h4 class="message-header"><p>{{title}}</p><button class="delete is-small"></button></h4>\n              <div class="toast-message">\n                <p>{{message}}</p>\n                '+(this.actionName?'<span class="action-link clickable">{{actionName}}</span>':"")+"\n              </div>\n            </li>"},n}(n);__decorate([r()],i.prototype,"message",void 0),__decorate([r()],i.prototype,"title",void 0),__decorate([r()],i.prototype,"actionName",void 0),__decorate([r()],i.prototype,"theme",void 0),__decorate([r()],i.prototype,"added",void 0),__decorate([a({event:"tap",selector:".action-link"})],i.prototype,"actionClicked",null),__decorate([a({event:"animationend"})],i.prototype,"animationEnded",null),__decorate([a({event:"tap",selector:".delete"})],i.prototype,"deleteClicked",null),__decorate([o()],i.prototype,"datePickerMarkup",null),t.Toast=i}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.annotations.Template,a=e.observe.Bind,i=s=function(e){function t(){var t=e.call(this)||this;return t.toasts=[],s.instance=t,t}return __extends(t,e),t.prototype.init=function(){this.render()},t.showToast=function(e){s.instance.toasts.push(e),setTimeout(function(){return e.added=!0})},t.removeToast=function(e){var t=s.instance.toasts.indexOf(e);~t&&s.instance.toasts.splice(t,1)},t.prototype.datePickerMarkup=function(){return'<ul class="toasts" {{toasts}}></ul>'},t}(n);__decorate([a()],i.prototype,"toasts",void 0),__decorate([r()],i.prototype,"datePickerMarkup",null),i=s=__decorate([o({selector:".toast-manager"})],i),t.ToastManager=i;var s}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n,o=e.ui.events.GestureWidget,r=e.annotations.Construct,a=e.event.On,i=e.hub.Subscribe,s=e.ui.events.tapDistance,l=e.ui.events.PanPhase;!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next",e[e.None=2]="None"}(n=t.Direction||(t.Direction={}));var c=function(e){function t(t){var n=e.call(this)||this;return n.width=+t,n}return __extends(t,e),t.prototype.onPan=function(e){var t=this.element;if(!t.classList.contains("animate")){var o=__assign({},e.detail),r=o.diffX,a=o.time;switch(o.phase){case l.start:this.direction=n.None,this.transitionEnd();break;case l.move:t.style.transform="translateX("+r+"px)";break;case l.stop:Math.abs(r)>s&&(t.classList.add("animate"),a<200?this.navigate(r):this.width-Math.abs(r)<.5*this.width?this.navigate(r):t.style.transform="translateX(0)")}}},t.prototype.navigate=function(e){var t=this.element;e>0?(this.direction=n.Previous,t.style.transform="translateX("+this.width+"px)"):(this.direction=n.Next,t.style.transform="translateX("+-this.width+"px)")},t.prototype.transitionEnd=function(){this.element.classList.remove("animate"),this.direction!==n.None&&this.triggerUp("snap-scroll-moved",this.direction)},t.prototype.snapScrollReset=function(){this.element.style.transform="translateX(0)"},t.prototype.snapScrollPrevious=function(){this.element.classList.add("animate"),this.navigate(1)},t.prototype.snapScrollNext=function(){this.element.classList.add("animate"),this.navigate(-1)},t}(o);__decorate([a({event:"panX",selector:".snap-scroll"})],c.prototype,"onPan",null),__decorate([a({event:"transitionend"})],c.prototype,"transitionEnd",null),__decorate([i("snap-scroll-reset")],c.prototype,"snapScrollReset",null),__decorate([i("snap-scroll-previous")],c.prototype,"snapScrollPrevious",null),__decorate([i("snap-scroll-next")],c.prototype,"snapScrollNext",null),c=__decorate([r({selector:".snap-scroll",attributes:["width"]})],c),t.SnapScroll=c}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,a=e.ui.events.PanPhase,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,l=e.ui.events.tapEvents,c=e.observe.Bind,u=e.annotations.Template,d=function(e){function t(){var t=e.call(this)||this;return t.width=200,t.draggingClass=function(e){return e?"dragging":void 0},t.closeHandler=t.closeHandler.bind(t),t}return __extends(t,e),t.prototype.init=function(e){this.render(),e.firstElementChild.insertAdjacentElement("afterend",e.querySelector(".dragger")),this.applyWidth(this.width)},t.prototype.clicked=function(e,t){var n=this.element.firstElementChild;if(e.target===n){var o=n.classList;o.toggle("open"),o.contains("open")?i(l,document,this.closeHandler):s(l,document,this.closeHandler)}},t.prototype.closeHandler=function(e){var t=this.element.firstElementChild;e.target===t||t.contains(e.target)||(t.classList.remove("open"),s(l,document,this.closeHandler))},t.prototype.onPanX=function(e){switch(__assign({},e.detail).phase){case a.start:this.dragging=!0;break;case a.move:this.applyWidth(this.width=e.clientX);break;case a.stop:this.dragging=!1}},t.prototype.applyWidth=function(e){this.element.firstElementChild.style.width=this.width+"px"},t.prototype.markup=function(){return'<div class="dragger {{dragging:draggingClass}}" width="{{width}}"></div>'},t}(n);__decorate([c()],d.prototype,"dragging",void 0),__decorate([c({localStorage:!0})],d.prototype,"width",void 0),__decorate([r({event:l.join(" "),selector:"sidebar"})],d.prototype,"clicked",null),__decorate([r({event:"panX",selector:".dragger"})],d.prototype,"onPanX",null),__decorate([u()],d.prototype,"markup",null),d=__decorate([o({selector:"horizontal-split"})],d),t.HorizontalSplit=d}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.arrays.from,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){var t=document.createElement("div");t.classList.add("inner-scroll-pane"),r(e.childNodes).forEach(function(e){return t.appendChild(e)}),e.appendChild(t)},t}(n);a=__decorate([o({selector:"scroll-pane"})],a),t.ScrollPane=a}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(n);r=__decorate([o({selector:"panel"})],r),t.Panel=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(n);r=__decorate([o({selector:"sidebar"})],r),t.Sidebar=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(e){!function(e){var t={months:"JanuaryFebruaryMarchAprilMayJuneJuliAugustSeptemberOctoberNovemberDecember".split(/(?=[A-Z])/),weekdays:"SundayMondayTuesdayWednesdayThursdayFridaySaturday".split(/(?=[A-Z])/)},n=function(e,t){return e.indexOf(e.filter(function(e){return~e.indexOf(t)})[0])},o=["th","st","nd","rd"],r=function(e,t){return(e+t).slice(-e.length)},a={D:["Date"],M:["Month","addOne"],Y:["FullYear"],YY:["FullYear","year",-2],MMM:["Month","month",3],MMMM:["Month","month"],h:["Hours","hours"],H:["Hours"],m:["Minutes"],s:["Seconds"],S:["Milliseconds"],w:["Day"],d:["Date","marker"],a:["Hours","ampm"],www:["Day","days",3],wwww:["Day","days"],t:["Time"]};"DMhHmsw".split("").forEach(function(e){return a[e+e]=[a[e][0],a[e][1],a[e][2],"00"]});var i=/[A-Za-z]+/g,s=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,l=function(){function e(e,t){var r=this;this.month=function(e){return r.months[e]},this.monthRev=function(e){return n(r.months,e)},this.year=function(e){return e},this.yearRev=function(e){return+e+2e3},this.addOne=function(e){return e+1},this.addOneRev=function(e){return e-1},this.days=function(e){return r.weekdays[e]},this.daysRev=function(e){return n(r.weekdays,e)},this.ampm=function(e){return e/12|0?"PM":"AM"},this.ampmRev=function(e,t,n){return t.getHours()+("PM"===e?12:0)},this.hours=function(e){return e%12},this.marker=function(e){return e+o[e%10>3?0:(e%100-e%10==10?0:1)*e%10]},this.markerRev=function(e){return+e},this.months=e,this.weekdays=t}return e.prototype.format=function(e,t){var n=this,o=function(t,o,a,i){var s=e["get"+t]();return o&&(s=o.split(".").reduce(function(e,t){return e[t]},n)(s)),s+="",i&&(s=r(i,s)),a&&(s=a<0?s.slice(a):s.substr(0,a)),s};return t.replace(i,function(e){return a[e]?o.apply(n,a[e]):e})},e.prototype.parse=function(e,t){var n,o,r,i=this,l=new Date,c=[],u=t.replace(s,"\\$&").replace(/[A-Za-z]+/g,function(e){return(n=a[e])?(o="set"+n[0],l[o]?(c.push(n),"(#)"):"#"):e}),d=new RegExp("^"+u.replace(new RegExp("#","g"),"\\w+")+"$"),p=d.exec(e);if(!p)throw Error("Date parsing failed for "+d);return p.forEach(function(e,t){0!==t&&(o=c[t-1],r=i[o[1]+"Rev"],l["set"+o[0]](r?r(e,l):e))}),l},e}();e.DateFormat=l,e.format=function(e,n){return new l(t.months,t.weekdays).format(e,n)},e.parse=function(e,n){return new l(t.months,t.weekdays).parse(e,n)},e.dayOffset=function(e,t){return new Date(+e+24*t*60*60*1e3)},e.monthOffset=function(e,t){var n=new Date(+e);return n.setMonth(n.getMonth()+t),n},e.yearOffset=function(e,t){var n=new Date(+e);return n.setFullYear(n.getFullYear()+t),n};!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(e.Weekday||(e.Weekday={})),e.precedingDay=function(e,t){var n=new Date(+e);return n.setDate(n.getDate()-(e.getDay()+(7-t))%7),n}}(e.date||(e.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.ui.date.format,i=e.event.On,s=function(e){function t(t){var n=e.call(this)||this;return n.asLongMonth=function(){return a(n.date,"MMM")},n.asYear=function(){return a(n.date,"Y")},n.date=t,n}return __extends(t,e),t.prototype.renderMonth=function(){return'<li class="month-of-year">{{date:asLongMonth}}</li>'},t.prototype.renderYear=function(){return'<li class="year">{{date:asYear}}</li>'},t.prototype.clickedMonth=function(){this.triggerUp("go-to-date",this.date)},t}(n);__decorate([r()],s.prototype,"date",void 0),__decorate([o("month")],s.prototype,"renderMonth",null),__decorate([o("year")],s.prototype,"renderYear",null),__decorate([i({event:"tap"})],s.prototype,"clickedMonth",null),t.MonthOrYear=s}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.ui.date.format,i=e.event.On,s=function(e){function t(t,n){var o=e.call(this)||this;return o.offMonth=function(e){return e.getMonth()!==o.month?"off":void 0},o.asNumber=function(){return o.date.getDate()},o.asWeekday=function(){return a(o.date,"www").slice(0,2)},o.today=function(e,t){return void 0===t&&(t=new Date),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?"today":void 0},o.date=t,o.month=n,o}return __extends(t,e),t.prototype.weekdayMarkup=function(){return'<li class="column weekday">{{date:asWeekday}}</li>'},t.prototype.dateMarkup=function(){return'<li class="{{date:offMonth}} {{date:today}}">{{date:asNumber}}</li>'},t.prototype.clickedDay=function(){this.element.classList.contains("weekday")||this.triggerUp("select-to-date",this.date)},t}(n);__decorate([r()],s.prototype,"date",void 0),__decorate([o("weekday")],s.prototype,"weekdayMarkup",null),__decorate([o("date")],s.prototype,"dateMarkup",null),__decorate([i({event:"tap",bubble:!0})],s.prototype,"clickedDay",null),t.Day=s}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n,o=e.core.Widget,r=e.annotations.Template,a=e.observe.Bind,i=e.arrays.range,s=e.ui.date.Day;!function(e){e[e.Previous=0]="Previous",e[e.Normal=1]="Normal",e[e.Next=2]="Next"}(n=t.Position||(t.Position={}));var l=function(e){function o(t,o){var r=e.call(this)||this;return r.dates=[],r.positionClass=function(e){return n[e].toLowerCase()},r.startDate=t,r.position=o,r}return __extends(o,e),o.prototype.init=function(e){var n=this,o=t.precedingDay(this.startDate,t.Weekday.Monday),r=i(0,41).map(function(e){return new s(t.dayOffset(o,e),n.startDate.getMonth())});(a=this.dates).push.apply(a,r);var a},o.prototype.monthMarkup=function(){return'<ul class="month is-marginless {{position:positionClass}}" {{dates}}></ul>'},o}(o);__decorate([a({templateName:"date"})],l.prototype,"dates",void 0),__decorate([a()],l.prototype,"position",void 0),__decorate([r()],l.prototype,"monthMarkup",null),t.Month=l}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(n){var o=e.ui.events.GestureWidget,r=e.annotations.Construct,a=e.annotations.Template,i=e.observe.Bind,s=e.ui.date.precedingDay,l=e.ui.date.Weekday,c=e.ui.date.Position,u=e.ui.date.Day,d=e.hub.Subscribe,p=e.event.On,h=e.ui.events.addMultipleEventListeners,f=e.ui.events.removeMultipleEventListeners,v=e.ui.events.tapEvents,y=e.arrays.range,m=function(e){function o(t,o,r,a){var i=e.call(this)||this;return i.startDate=new Date,i.weekdays=[],i.months=[],i.monthsOfYear=[],i.years=[],i.showMonthsOfYear=!1,i.showYears=!1,i.hidden=!0,i.value="",i.dateformat="mm/dd/yyyy",i.month=function(e){return n.format(e,"MMMM")},i.year=function(e){return n.format(e,"Y")},i.openOrClosed=function(e){return e?"open":void 0},i.name=t,i.label=o,i.startDate=r,i.currentDate=r,i.dateformat=a,i.closeHandler=i.closeHandler.bind(i),i}return __extends(o,e),o.prototype.init=function(e){this.render();var t=new Date(+this.startDate);t.setDate(1);var o=new Date(+this.startDate);o.setDate(1),o.setMonth(0);var r=s(t,l.Monday),a=y(0,6).map(function(e){return new u(n.dayOffset(r,e),t.getMonth())});(i=this.weekdays).push.apply(i,a),this.months.push(new n.Month(n.monthOffset(t,-1),c.Previous),new n.Month(n.monthOffset(t,0),c.Normal),new n.Month(n.monthOffset(t,1),c.Next)),this.setCurrentMonthAndYear();var i},o.prototype.setCurrentMonthAndYear=function(){this.currentDate=new Date(+this.months[1].startDate),this.makeMonthAndYearPanel()},o.prototype.previousMonth=function(){this.triggerDown("snap-scroll-previous"),this.showMonthsOfYear=!1,this.showYears=!1},o.prototype.nextMonth=function(){this.triggerDown("snap-scroll-next"),this.showMonthsOfYear=!1,this.showYears=!1},o.prototype.monthClicked=function(){this.showMonthsOfYear=!this.showMonthsOfYear,this.showYears=!1},o.prototype.yearClicked=function(){this.showYears=!this.showYears,this.showMonthsOfYear=!1},o.prototype.iconClicked=function(){var e=this;this.hidden=!this.hidden,this.hidden?(f(v,document,this.closeHandler),this.closeInnerPanels()):setTimeout(function(){return h(v,document,e.closeHandler)},10)},o.prototype.selectDate=function(e){this.value=n.format(e,"DD.MM.Y"),this.hidden=!0,f(v,document,this.closeHandler)},o.prototype.goToDate=function(e){var t=new n.Month(n.monthOffset(e,-1),c.Previous),o=new n.Month(n.monthOffset(e,0),c.Normal),r=new n.Month(n.monthOffset(e,1),c.Next);this.months.splice(0,3,t,o,r),this.setCurrentMonthAndYear(),this.closeInnerPanels()},o.prototype.closeInnerPanels=function(){this.showYears=!1,this.showMonthsOfYear=!1},o.prototype.panelSwitched=function(e){var o=this.months;if(e===t.Direction.Previous){var r=new n.Month(n.monthOffset(o[0].startDate,-1),c.Previous);o[0].position=c.Normal,o[1].position=c.Next,o.unshift(r),o.pop()}else{var a=new n.Month(n.monthOffset(o[2].startDate,1),c.Next);o[1].position=c.Previous,o[2].position=c.Normal,o.push(a),o.shift()}this.setCurrentMonthAndYear(),this.triggerDown("snap-scroll-reset")},o.prototype.makeMonthAndYearPanel=function(){var e=this.currentDate,t=y(0,11).map(function(t){return new n.MonthOrYear(n.monthOffset(e,-e.getMonth()+t))}),o=y(-4,7).map(function(t){return new n.MonthOrYear(n.yearOffset(e,t))});(r=this.monthsOfYear).splice.apply(r,[0,12].concat(t)),(a=this.years).splice.apply(a,[0,12].concat(o));var r,a},o.prototype.closeHandler=function(e){var t=this.element,n=e.target;this.hidden||t.querySelector(".open-in-view").contains(n)||t.querySelector(".icon").contains(n)||(this.hidden=!0,this.closeInnerPanels())},o.prototype.datePickerMarkup=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <p class="control has-icons-right">\n                  <input class="input" type="text" name="{{name}}" value="{{value}}" placeholder="{{dateformat}}">\n                  <span class="icon is-small is-right"><i class="fa fa-calendar"></i></span>\n                </p>\n                <div class="calendar open-in-view" {{hidden}}>\n                    <nav class="nav">\n                      <span class="nav-left clickable is-small is-left"><i class="fa fa-angle-left"></i></span>\n                      <span class="nav-center is-marginless">\n                        <span class="month clickable">{{currentDate:month}}<i class="fa fa-angle-down"></i></span>\n                        <span class="year clickable">{{currentDate:year}}<i class="fa fa-angle-down"></i></span>\n                      </span>\n                      <span class="nav-right clickable is-small is-right"><i class="fa fa-angle-right"></i></span>\n                    </nav>\n                    <ul class="columns weekday is-mobile is-desktop is-gapless is-marginless" {{weekdays}}></ul>\n                    <div class="months is-gapless snap-scroll" width="200" {{months}}></div>\n                    <div class="month-selector is-marginless is-gapless {{showMonthsOfYear:openOrClosed}}" {{monthsOfYear}}></div>\n                    <div class="year-selector is-marginless is-gapless {{showYears:openOrClosed}}" {{years}}></div>\n                </div>\n            </div>\n            '},o}(o);__decorate([i()],m.prototype,"name",void 0),__decorate([i()],m.prototype,"label",void 0),__decorate([i({templateName:"weekday"})],m.prototype,"weekdays",void 0),__decorate([i()],m.prototype,"months",void 0),__decorate([i()],m.prototype,"currentDate",void 0),__decorate([i({templateName:"month"})],m.prototype,"monthsOfYear",void 0),__decorate([i({templateName:"year"})],m.prototype,"years",void 0),__decorate([i()],m.prototype,"showMonthsOfYear",void 0),__decorate([i()],m.prototype,"showYears",void 0),__decorate([i()],m.prototype,"hidden",void 0),__decorate([i()],m.prototype,"value",void 0),__decorate([i()],m.prototype,"dateformat",void 0),__decorate([p({event:"tap",selector:".nav-left"})],m.prototype,"previousMonth",null),__decorate([p({event:"tap",selector:".nav-right"})],m.prototype,"nextMonth",null),__decorate([p({event:"tap",selector:".nav-center .month"})],m.prototype,"monthClicked",null),__decorate([p({event:"tap",selector:".nav-center .year"})],m.prototype,"yearClicked",null),__decorate([p({event:"tap",selector:"input + .icon",bubble:!0})],m.prototype,"iconClicked",null),__decorate([d("select-to-date")],m.prototype,"selectDate",null),__decorate([d("go-to-date")],m.prototype,"goToDate",null),__decorate([d("snap-scroll-moved")],m.prototype,"panelSwitched",null),__decorate([a()],m.prototype,"datePickerMarkup",null),m=__decorate([r({selector:"datepicker",attributes:["name","label","date","format"]})],m),n.DatePicker=m}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=function(e){function t(t,n,o,r){var a=e.call(this)||this;return a.asLabel=function(e){return e?a.on:a.off},a.label=t,a.checked=n||!1,a.on=o||"Enabled",a.off=r||"Disabled",a}return __extends(t,e),t.prototype.clicked=function(){this.checked=this.element.querySelector("input").checked},t.prototype.init=function(){this.render()},t.prototype.asCheckbox=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <label>\n                  <input type="checkbox" {{checked}}>\n                  <span class="clickable">{{checked:asLabel}}</span>\n                </label>\n            </div>'},t}(a);__decorate([o()],s.prototype,"checked",void 0),__decorate([o()],s.prototype,"label",void 0),__decorate([o()],s.prototype,"on",void 0),__decorate([o()],s.prototype,"off",void 0),__decorate([i({event:"click",selector:"label + label"})],s.prototype,"clicked",null),__decorate([r()],s.prototype,"asCheckbox",null),s=__decorate([n({selector:"checkbox",attributes:["label","checked","on","off"]})],s),t.Checkbox=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.hub.Subscribe,l=e.ui.utils.focusElement,c=["fontSize","fontFamily","fontWeight","letterSpacing","textTransform"],u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value="",t}return __extends(t,e),t.prototype.onTextChange=function(){this.value=this.input.value,this.input.style.width=this.span.getBoundingClientRect().width+5+"px"},t.prototype.init=function(e){var t=this;this.render(),this.input=e.querySelector("input"),this.span=e.querySelector("span"),setTimeout(function(){var e=window.getComputedStyle(t.input);c.forEach(function(n){return t.span.style[n]=e[n]})},50)},t.prototype.clear=function(e){this.value=this.input.value="",e&&l(this.input)},t.prototype.markup=function(){return'\n                <span>{{value}}</span>\n                <input type="text">'},t}(a);__decorate([o({})],u.prototype,"value",void 0),__decorate([i({event:"textchange",selector:"input"})],u.prototype,"onTextChange",null),__decorate([s("autogrow-clear")],u.prototype,"clear",null),__decorate([r()],u.prototype,"markup",null),u=__decorate([n({selector:"auto-grow-input"})],u),t.AutoGrowInput=u}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.observe.Bind,o=e.annotations.Template,r=e.ui.events.GestureWidget,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(t,n,o){var r=e.call(this)||this;return r.selected=!1,r.selectedClass=function(e){return e?"selected":void 0},r.iconClass=function(e){return"fa-"+e},r.name=t,r.icon=n,r.value=o,r}return __extends(t,e),t.from=function(e){return new t(e.name,e.icon,e.value)},t.prototype.init=function(e){this.selectable=e.classList.contains("selectable")},t.prototype.selectedValue=function(){this.triggerUp("value-selected",this),this.selected=!0},t.prototype.clickedValue=function(){this.triggerUp("value-clicked",this),this.selected=!this.selected},t.prototype.deselect=function(e){this.selectable&&this!==e&&(this.selected=!1)},t.prototype.select=function(e){this.selectable&&this===e&&(this.selected=!0)},t.prototype.asValue=function(){return'<li class="clickable {{selected:selectedClass}}"><div><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t.prototype.asDropwdownValue=function(){return'<li class="clickable"><div><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t.prototype.asSelectedValue=function(){return'<li class="selectable {{selected:selectedClass}}"><div><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t}(r);__decorate([n()],s.prototype,"name",void 0),__decorate([n()],s.prototype,"selected",void 0),__decorate([n()],s.prototype,"icon",void 0),__decorate([a({event:"tap",selector:".selectable"})],s.prototype,"selectedValue",null),__decorate([a({event:"tap",selector:".clickable"})],s.prototype,"clickedValue",null),__decorate([i("deselect-other-values")],s.prototype,"deselect",null),__decorate([i("select-value")],s.prototype,"select",null),__decorate([o("value")],s.prototype,"asValue",null),__decorate([o("dropdown-value")],s.prototype,"asDropwdownValue",null),__decorate([o("selectable-value")],s.prototype,"asSelectedValue",null),t.ChooserValue=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.ui.events.addMultipleEventListeners,l=e.ui.events.removeMultipleEventListeners,c=e.ui.events.tapEvents,u=e.hub.Subscribe,d=function(e){function n(n,o){var r=e.call(this)||this;return r.selectedValues=[],r.hidden=!0,r.values=[],r.selectedIndex=-1,r.label=n,r.converter=o.dataConverter,r.selectedValues.push(o.initialValue||t.ChooserValue.from(o.values[0])),o.value=function(){return r.selectedValues[0].value},r.closeHandler=r.closeHandler.bind(r),r.keyHandler=r.keyHandler.bind(r),(a=r.values).push.apply(a,o.values),r;var a}return __extends(n,e),n.prototype.init=function(e){e.classList.add("single-value"),this.render()},n.prototype.onSelected=function(e){this.selectedValues.splice(0,this.selectedValues.length,t.ChooserValue.from(t.ChooserValue.from(e))),this.closeHandler(),this.triggerDown("deselect-other-values",e)},n.prototype.clicked=function(e,t){this.open()},n.prototype.keyHandler=function(e){27===e.keyCode&&this.closeHandler(),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var t=this.values.length;if(t&&(40===e.keyCode&&(e.preventDefault(),++this.selectedIndex>t-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),--this.selectedIndex<0&&(this.selectedIndex=t-1)),40===e.keyCode||38===e.keyCode)){e.preventDefault();var n=this.values[this.selectedIndex];this.triggerDown("select-value",n),this.triggerDown("deselect-other-values",n)}},n.prototype.open=function(){this.hidden=!1,s(c,document,this.closeHandler),s(["keydown"],document,this.keyHandler)},n.prototype.closeHandler=function(e){this.hidden||e&&this.element.contains(e.target)||(l(c,document,this.closeHandler),l(["keydown"],document,this.keyHandler),this.hidden=!0,this.selectedIndex=-1)},n.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <div class="selected-values">\n                  <ul {{selectedValues}}></ul>\n                  <div class="buttons">\n                    <Icon class="clickable" name="angle-down"/>\n                  </div>\n                </div>\n                <ul class="values" {{hidden}} {{values}}></ul>\n            </div>'},n}(a);__decorate([o({templateName:"dropdown-value"})],d.prototype,"selectedValues",void 0),__decorate([o()],d.prototype,"label",void 0),__decorate([o()],d.prototype,"hidden",void 0),__decorate([o({templateName:"selectable-value"})],d.prototype,"values",void 0),__decorate([o()],d.prototype,"value",void 0),__decorate([u("value-selected")],d.prototype,"onSelected",null),__decorate([i({event:"tap",selector:".selected-values > ul, .buttons",bubble:!0})],d.prototype,"clicked",null),__decorate([r()],d.prototype,"markup",null),d=__decorate([n({selector:"dropdown",attributes:["label","config"]})],d),t.Dropdown=d}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.event.Scope,l=e.xhr.Rest,c=e.ui.utils.focusElement,u=e.ui.events.addMultipleEventListeners,d=e.ui.events.removeMultipleEventListeners,p=e.ui.events.tapEvents,h=e.hub.Subscribe,f=e.arrays.removeFromArray,v=6,y=function(e){function n(t,n){var o=e.call(this)||this;return o.values=[],o.selectedValues=[],o.hidden=!0,o.fetching=!1,o.selectedIndex=-1,o.fetchingClass=function(e){return e?"fetching":void 0},o.selectedCount=function(e){return e.length},o.label=t,o.url=n.fetchUrl,o.singleValue=n.singleValue,o.maxItems=n.maxItems||v,o.converter=n.dataConverter,n.initialValues&&(r=o.selectedValues).push.apply(r,n.initialValues.map(o.converter)),n.values=function(){return o.selectedValues.map(function(e){return e.value})},o.closeHandler=o.closeHandler.bind(o),o;var r}return __extends(n,e),n.prototype.init=function(e){this.singleValue&&e.classList.add("single-value"),this.render()},n.prototype.textChanged=function(e){this.url&&(this.keyword=e.target.value,/^\s*$/.test(this.keyword)?this.values.splice(0,this.values.length):(this.fetching=!0,this.open(),this.lastFetch&&this.lastFetch.abort(),this.lastFetch=this.fetchData()))},n.prototype.fetchData=function(e){this.fetching=!1,(t=this.values).splice.apply(t,[0,this.values.length].concat(e.slice(0,this.maxItems).map(this.converter)));var t},n.prototype.onValueClicked=function(e){this.singleValue&&(this.selectedValues.pop(),this.previous=e),c(this.element.querySelector("input"))},n.prototype.onSelected=function(e){this.previous=void 0,this.singleValue?this.selectedValues.splice(0,this.selectedValues.length,t.ChooserValue.from(t.ChooserValue.from(e))):this.selectedValues.push(t.ChooserValue.from(e)),this.closeHandler(),this.triggerDown("autogrow-clear",!0),this.triggerDown("deselect-other-values",e)},n.prototype.emptySpaceClicked=function(e,t){e.target===t&&c(this.element.querySelector("input"))},n.prototype.blured=function(e){this.hidden&&(this.closeHandler(),this.restorePrevious())},n.prototype.restorePrevious=function(){this.singleValue&&void 0!==this.previous&&this.selectedValues.splice(0,this.selectedValues.length,t.ChooserValue.from(this.previous))},n.prototype.focused=function(e){this.textChanged(e)},n.prototype.deleteClicked=function(){this.previous=void 0;var e=this.selectedValues,t=e.filter(function(e){return e.selected});0===t.length?e.splice(0,e.length):f(e,t)},n.prototype.controlKeyPressed=function(e){if(8===e.keyCode&&!e.target.value.length&&this.selectedValues.length>0&&this.selectedValues.pop(),27===e.keyCode){var t=this.element.querySelector("input");t.blur(),t.value="",this.closeHandler(),this.restorePrevious()}13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var n=this.values.length;if(n&&(40===e.keyCode&&(e.preventDefault(),++this.selectedIndex>n-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),--this.selectedIndex<0&&(this.selectedIndex=n-1)),40===e.keyCode||38===e.keyCode)){var o=this.values[this.selectedIndex];this.triggerDown("select-value",o),this.triggerDown("deselect-other-values",o)}},n.prototype.open=function(){this.hidden=!1,u(p,document,this.closeHandler)},n.prototype.closeHandler=function(e){this.hidden||e&&this.element.contains(e.target)||(d(p,document,this.closeHandler),this.hidden=!0,this.selectedIndex=-1)},n.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <div class="selected-values">\n                  <ul count="{{selectedValues:selectedCount}}" {{selectedValues}}>\n                    <li><auto-grow-input/></li>\n                  </ul>\n                  <div class="buttons">\n                    <button class="delete is-small"></button>\n                  </div>\n                </div>\n                <ul class="values {{fetching:fetchingClass}}" {{hidden}} {{values}}></ul>\n            </div>'},n}(a);__decorate([o({templateName:"selectable-value"})],y.prototype,"values",void 0),__decorate([o({templateName:"value"})],y.prototype,"selectedValues",void 0),__decorate([o()],y.prototype,"label",void 0),__decorate([o()],y.prototype,"hidden",void 0),__decorate([o()],y.prototype,"fetching",void 0),__decorate([i({event:"textchange",selector:'input[type="text"]'})],y.prototype,"textChanged",null),__decorate([l({url:"{{url}}{{keyword}}"})],y.prototype,"fetchData",null),__decorate([h("value-clicked")],y.prototype,"onValueClicked",null),__decorate([h("value-selected")],y.prototype,"onSelected",null),__decorate([i({event:"tap",selector:".selected-values > ul",bubble:!0})],y.prototype,"emptySpaceClicked",null),__decorate([i({event:"blur",selector:'input[type="text"]',scope:s.Direct})],y.prototype,"blured",null),__decorate([i({event:"focus",selector:'input[type="text"]',scope:s.Direct})],y.prototype,"focused",null),__decorate([i({event:"tap",selector:".delete"})],y.prototype,"deleteClicked",null),__decorate([i({event:"keydown",selector:"input"})],y.prototype,"controlKeyPressed",null),__decorate([r()],y.prototype,"markup",null),y=__decorate([n({selector:"chooser",attributes:["label","config"]})],y),t.Chooser=y}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.annotations.Template,r=e.event.On,a=e.ui.events.GestureWidget,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,l=e.ui.events.tapEvents,c=function(e){function t(){var t=e.call(this)||this;return t.closeHandler=t.closeHandler.bind(t),t}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.toggle=function(e,t){this.toggleActiveState(),t.classList.contains("is-active")?i(l,document,this.closeHandler):s(l,document,this.closeHandler)},t.prototype.closeHandler=function(e){this.element.contains(e.target)||(this.toggleActiveState(),s(l,document,this.closeHandler))},t.prototype.toggleActiveState=function(){var e=this.element.querySelector(".nav-toggle");e.classList.toggle("is-active"),e.nextElementSibling.classList.toggle("is-active")},t.prototype.markup=function(){return'\n            <nav class="nav">\n              <div class="nav-left">\n                <a class="nav-item" href="/" id="logo">\n                  Quill\n                </a>\n              </div>\n              <span class="nav-toggle">\n                <span></span>\n                <span></span>\n                <span></span>\n              </span>\n              <div class="nav-right nav-menu">\n                <a class="nav-item">\n                  Home\n                </a>\n                <a class="nav-item">\n                  Documentation\n                </a>\n                <a class="nav-item">\n                  Blog\n                </a>\n                <div  class="nav-item">\n                    <p class="control has-icons-right" id="search">\n                      <input class="input" type="text" placeholder="Search...">\n                      <span class="icon is-right">\n                        <i class="fa fa-search"></i>\n                      </span>\n                    </p>\n                </div>\n              </div>\n            </nav>\n            '},t}(a);__decorate([r({event:"tap",selector:".nav-toggle"})],c.prototype,"toggle",null),__decorate([o()],c.prototype,"markup",null),c=__decorate([n({selector:"navigation"})],c),t.Navigation=c}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.annotations.Template,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return""},t}(e.ui.events.GestureWidget);__decorate([o()],r.prototype,"markup",null),r=__decorate([n({selector:"content"})],r),t.Content=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.annotations.Template,a=e.observe.Bind,i=e.hub.Subscribe,s=e.ui.tree.TreeNode,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodes=[],t}return __extends(t,e),t.prototype.init=function(){var e=new s("Animals",{}),t=new s("Cats",{}),n=new s("Dogs",{}),o=new s("Birds",{}),r=new s("Fish",{}),a=new s("Lion",{}),i=new s("Tiger",{}),l=new s("Cheetah",{}),c=new s("Leopard",{}),u=new s("Cars",{}),d=new s("Mercedes",{}),p=new s("BMW",{}),h=new s("Audi",{}),f=new s("Porsche",{}),v=new s("911",{}),y=new s("911 Turbo",{}),m=new s("911 Turbo S",{});y.push(m),v.push(y),f.push(v),t.push(a,i,l,c),e.push(t,n,o,r),u.push(d,f,p,h),this.nodes.push(e,u),this.render()},t.prototype.nodeSelected=function(e){this.triggerDown("deselect-other-nodes",e)},t.prototype.markup=function(){return'\n            <panel class="fullscreen v-flex">\n              <navigation class="no-grow"></navigation>\n              <horizontal-split class="grow" id="app-split">\n                <sidebar class="v-flex">\n                  <tree-node-actions></tree-node-actions>\n                  <scroll-pane class="grow">\n                    <aside class="menu">\n                      <p class="menu-label">Structure</p>\n                      <ul class="tree-view is-marginless" {{nodes}}></ul>\n                      <p class="menu-label">Schemas</p>\n                    </aside>\n                  </scroll-pane>\n                </sidebar>\n                <section class="v-flex">\n                  <scroll-pane class="grow">\n                    <content></content>\n                  </scroll-pane>\n                </section>\n              </horizontal-split>\n              <footer class="no-grow"/>\n            </panel>\n            '},t}(n);__decorate([a()],l.prototype,"nodes",void 0),__decorate([i("node-selected")],l.prototype,"nodeSelected",null),__decorate([r()],l.prototype,"markup",null),l=__decorate([o({selector:"body.quill-app"})],l),t.QuillApplication=l}(e.ui||(e.ui={}))}(feather||(feather={})),feather.start();