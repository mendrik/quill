var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,quill,quill,feather,feather,feather,feather,feather,feather,quill,keys,quill,quill;window.console||(window.console={}),console.log||(console.log=function(){}),function(t){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function n(n,o){return n!==r&&("function"==typeof Object.create?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(e,t){return n[e]=o?o(e,t):t}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(e){t(n(r,n(e)))}):"object"==typeof module&&"object"==typeof module.exports?t(n(r,n(module.exports))):t(n(r))}(function(e){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};__extends=function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},__rest=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},__decorate=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},__param=function(n,o){return function(e,t){o(e,t,n)}},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(i,a,s,l){return new(s||(s=Promise))(function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,o)}r((l=l.apply(i,a||[])).next())})},__generator=function(n,o){var r,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},__exportStar=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},__values=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(o){i[o]&&(r[o]=function(n){return new Promise(function(e,t){1<a.push([o,n,e,t])||s(o,n)})})}function s(e,t){try{(n=i[e](t)).value instanceof __await?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}},__asyncDelegator=function(o){var e,r;return e={},t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,n){o[t]&&(e[t]=function(e){return(r=!r)?{value:__await(o[t](e)),done:"return"===t}:n?n(e):e})}},__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof __values?__values(e):e[Symbol.iterator]()},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",__extends),e("__assign",__assign),e("__rest",__rest),e("__decorate",__decorate),e("__param",__param),e("__metadata",__metadata),e("__awaiter",__awaiter),e("__generator",__generator),e("__exportStar",__exportStar),e("__values",__values),e("__read",__read),e("__spread",__spread),e("__await",__await),e("__asyncGenerator",__asyncGenerator),e("__asyncDelegator",__asyncDelegator),e("__asyncValues",__asyncValues),e("__makeTemplateObject",__makeTemplateObject),e("__importStar",__importStar),e("__importDefault",__importDefault)}),function(e){!function(t){var n={}.toString;function o(e){return e&&"[object Function]"===n.call(e)}t.compose=function(t){return function(e){return 1===t.length?t[0](e):t.reduce(function(e,t){return t(e)},e)}},t.isFunction=o,t.isDef=function(e){return void 0!==e},t.isUndef=function(e){return!t.isDef(e)},t.strFactory=function(e){return o(e)?e():e}}(e.functions||(e.functions={}))}(feather||(feather={})),function(e){!function(c){var u=new WeakMap,d=new WeakMap,p=[0,0,[],[]];function C(e){return[].slice.call(e)}function x(e,t){for(var n=0,o=t.length,r=e.length;r--;)if(~t.indexOf(e[r]))n++;else if(n){if(e.splice(r+1,n),0==(o-=n)){n=0;break}n=0}n&&e.splice(0,n)}c.from=C,c.removeFromArray=x;var f=function(e,t,n){if(!0!==d.get(e))for(var o=0,r=u.get(e);o<r.length;o++)r[o][t].apply(e,n)};c.notifyListeners=function(e){return f(e,"splice",p)},c.range=function(e,t){for(var n=new Array(t-e+1),o=0,r=n.length;o<r;o++)n[o]=o+e;return n},c.observeArray=function(o,e){var t,n,r,i,a,s,l=u.get(o);l?l.push(e):(u.set(o,[e]),o.pop=function(){return o.splice(o.length-1,1)[0]},o.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.splice.apply(o,[o.length,0].concat(e)),o.length},o.fill=function(){throw Error("observed arrays cannot be filled. items must be unique, use Array.splice instead!")},o.reverse=function(){var n=o.slice();return o.sort(function(e,t){return n.indexOf(t)-n.indexOf(e)}),o},o.shift=function(){return o.splice(0,1)[0]},o.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.splice.apply(o,[0,0].concat(e)),o.length},s=(a=o).splice,a.splice=function(e,t){var n=[].slice.call(arguments,2),o=s.apply(a,arguments);return f(a,"splice",[e,t,n,o]),o},i=(r=o).sort,r.sort=function(n){var t=c.range(0,r.length-1),e=n?[r.map(function(e,t){return t}).sort(function(e,t){return n(r[e],r[t])}).map(function(e){return t[e]})]:t,o=i.call(r,n);return f(r,"sort",e),o},n=(t=o)["forEach"],t.forEach=function(){d.set(t,!0);var e=n.apply(t,arguments);return d.set(t,!1),f(t,"splice",p),e})};c.defaultArrayListener=function(y,g,e,m,_){var b=e.node,w=b.firstElementChild,k=[];return{sort:function(e){for(var t=[],n=0;n<e.length;n++)k[e[n]]&&b.appendChild(g[n].element),t[n]=k[e[n]];k=t},splice:function(e,t,n,o){void 0===o&&(o=[]);var r,i=C(k),a=y.childWidgets,s=_();if(k.splice.apply(k,[e,t].concat(n.map(function(e){return!1}))),t&&(o.forEach(function(e){return b.removeChild(e.element)}),x(a,o),r=o,setTimeout(function(){for(var e=0,t=r;e<t.length;e++)t[e].cleanUp()},50)),n.length){a.push.apply(a,n);for(var l=0,c=n;l<c.length;l++){var u=c[l];if(u.parentWidget=y,!u.element){var d=u.getParsed(m.templateName);u.bindToElement(d.first)}}}i.splice.apply(i,[e,t].concat(n.map(function(e){return!0})));for(var p=0,f=g.length;p<f;p++)if(i[p]=s(g[p]),i[p]&&!k[p]){var h=k.indexOf(!0,p),v=~h?g[h].element:w;b.insertBefore(g[p].element,v)}else!i[p]&&k[p]&&b.removeChild(g[p].element);k=i}}}}(e.arrays||(e.arrays={}))}(feather||(feather={})),function(t){!function(s){var e=t.arrays.observeArray,i=t.functions.isUndef,a=t.functions.isFunction;function l(e,t){if(""===t)return e;var n,o,r;for(n=0,o=(r=t.split(".")).length;n<o;n++){if(e=e[r[n]],i(e))return;if(a(e))return e()}return e}s.isObject=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)},s.values=function(t){return"values"in Object?Object.values(t):Array.apply(null,Object.keys(t).map(function(e){return t[e]}))},s.deepValue=l,s.setDeepValue=function(e,t,n){var o,r,i;for(o=0,r=(i=t.split(".")).length-1;o<r;o++)e=e[i[o]]||(e[i[o]]={});return e[i.pop()]=n},s.collectAnnotationsFromArray=function e(t,n){if(i(n))return[];var o=Object.getPrototypeOf(n),r=t.get(o)||[];return o&&r.push.apply(r,e(t,o)),r},s.merge=function(o,r){return void 0===o&&(o={}),Object.keys(r).forEach(function(e){var t=o[e],n=r[e];Array.isArray(t)?t.push.apply(t,n):s.isObject(t)?s.merge(t,n):o[e]=n}),o},s.collectAnnotationsFromTypeMap=function e(t,n){if(i(n))return{};var o=Object.getPrototypeOf(n),r=__assign({},t.get(o)||{});return o&&s.merge(r,e(t,o)),r},s.pathCallbacks=new WeakMap;var c=function(e,t,n,o){var r=n.split(".").pop(),i=e[r];Object.defineProperty(e,r,{get:function(){return i},set:function(e){return d(i=e,t,n,o),o(n),i}}),d(i,t,n,o)},u=function(e,t){var n=e.indexOf(".["),o=~n?e.substring(0,n):e;return t.filter(function(e){return o.startsWith(e)||e.startsWith(o)})};s.createObjectPropertyListener=function(n,e,t){var o,r=e.split(".").shift(),i=s.pathCallbacks.get(n)&&s.pathCallbacks.get(n)[e],a=s.ensure(s.pathCallbacks,n,((o={})[e]=[t],o));i||c(n,n,r,function(e){u(e,Object.keys(a)).forEach(function(t){a[t].forEach(function(e){e(l(n,t))})})})};var d=function(n,o,r,i){if(s.isObject(n)){var a=Object.keys(s.pathCallbacks.get(o));Object.keys(n).forEach(function(e){var t=r+"."+e;0<u(t,a).length&&c(n,o,t,i)})}else Array.isArray(n)&&(n.forEach(function(e,t){return d(e,o,r+".["+t+"]",i)}),e(n,{sort:function(){return i(r)},splice:function(e,t,n){i(r),n.forEach(function(e,t){return d(e,o,r+".["+t+"]",i)})}}))};s.ensure=function(e,t,n){var o=e.get(t);return o?Array.isArray(o)&&Array.isArray(n)?o.push.apply(o,n):s.isObject(o)&&s.merge(o,n):e.set(t,o=n),o}}(t.objects||(t.objects={}))}(feather||(feather={})),function(e){var t,n;t=e.dom||(e.dom={}),n=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","matchesSelector"].reduce(function(e,t){return Element.prototype[t]||e}),t.selectorMatches=function(e,t){return n.call(e,t)},t.allChildNodes=function(e){for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),o=[];((t=n.currentNode).nodeType!==Node.TEXT_NODE||t.textContent.trim())&&o.push(t),n.nextNode(););return o},t.allTextNodes=function(e){for(var t,n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=o.nextNode();)n.push(t);return n}}(feather||(feather={})),function(e){var t,n;t=e.strings||(e.strings={}),n=e.objects.deepValue,t.format=function(e,t){return e.replace(/{{.*?}}/g,function(e){return n(t,e.substring(2,e.length-2))})},t.namedRegexMatch=function(e,t,o){var n=t.exec(e);if(n)return n.reduce(function(e,t,n){return 0<n&&(e[o[n-1]]=t),e},{})}}(feather||(feather={})),function(e){!function(a){var s=e.functions.isFunction,l=e.objects.collectAnnotationsFromTypeMap,r=e.objects.ensure,c=new WeakMap,i=new WeakMap;a.getPath=function(e,t){for(var n,o,r=[t],i=e;r.unshift((o=void 0,o=(n=i).id||n.name||n.title||n.constructor.name,s(o)?o():o)),i=i.parentWidget;);return r.join(".")};var u=function(e,t,n){return localStorage.setItem(a.getPath(e,t),JSON.stringify({value:n}))};a.maybeStore=function(t,n,e,o,r){e&&e.localStorage&&(r?(i.has(o)&&clearTimeout(i.get(o)),i.set(o,setTimeout(function(){var e=l(c,t)[n];o=o.map(t[e.write]),u(t,n,o)},80))):u(t,n,o))},a.loadLocalStorageValue=function(e,r){var i=l(e,r);i&&Object.keys(i).forEach(function(e){if(i[e].localStorage)try{var t=localStorage.getItem(a.getPath(r,e));if(t){var n=JSON.parse(t).value;if(Array.isArray(n)){var o=l(c,r)[e];r[e]=n.map(r[o.read])}else r[e]=n}}catch(e){console.warn(e)}})},a.Write=function(o){return function(e,t){var n;r(c,e,((n={})[o]={write:t},n))}},a.Read=function(o){return function(e,t){var n;r(c,e,((n={})[o]={read:t},n))}}}(e.observe||(e.observe={}))}(feather||(feather={})),function(feather){var boot;!function(boot){var isDef=feather.functions.isDef,from=feather.arrays.from,deepValue=feather.objects.deepValue,ComponentInfo=function(e,t,n,o){this.selector=e,this.singleton=t,this.attributes=n,this.component=o};boot.ComponentInfo=ComponentInfo;var attributeParser=function(node,context){return function(key){var value=node.getAttribute(key),m=(value||"").match(/^{(.+?)}\/?$/i);if(m){var js=m[1];value=deepValue(context,js)||function(str){return eval(str)}.bind(context)(js),isDef(value)&&node.removeAttribute(key)}return value}},WidgetFactory=function(){function l(){}return l.start=function(e,t){void 0===e&&(e=document),feather.annotations.TemplateFactory.warmUp();for(var n=l.widgetRegistry,o=0,r=n.length;o<r;o++){var i=n[o],a=from(e.querySelectorAll(i.selector));l.initComponents(a,n[o],t)}e===document&&feather.routing.runRoutes()},l.initComponents=function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o],a=t.attributes.map(attributeParser(i,n||window)),s=new(Function.prototype.bind.apply(t.component,[null].concat(a)));t.singleton&&l.singletonRegistry.push(s),n&&(s.parentWidget=n).childWidgets.push(s),s.bindToElement(i)}},l.register=function(e,t){this.widgetRegistry.push(new ComponentInfo(e.selector,e.singleton,e.attributes||[],t))},l.widgetRegistry=[],l.singletonRegistry=[],l}();boot.WidgetFactory=WidgetFactory}(boot=feather.boot||(feather.boot={}))}(feather||(feather={})),function(e){e.start=function(){return e.boot.WidgetFactory.start()}}(feather||(feather={})),function(e){var t,n,r,i,a,o;t=e.media||(e.media={}),n=e.objects.collectAnnotationsFromArray,r=e.objects.ensure,i=new WeakMap,a=new WeakMap,o=function(){function e(){}return e.prototype.attachMediaListeners=function(){var o=this;n(i,this).forEach(function(t){var e=window.matchMedia(t.query),n=function(e){e.matches&&o[t.method].call(o,e)};e.addListener(n),r(a,o,[{mediaQuery:e,listener:n}]),n(e)})},e.prototype.cleanUp=function(){var e=a.get(this);if(e)for(var t=0,n=e;t<n.length;t++){var o=n[t];o.mediaQuery.removeListener(o.listener)}},e}(),t.MediaQueryAware=o,t.Media=function(n){return function(e,t){r(i,e,[]).push({method:t,query:n})}}}(feather||(feather={})),function(E){!function(g){var m,e,_=E.arrays.from,b=E.dom.allChildNodes,r=E.objects.collectAnnotationsFromTypeMap,i=E.objects.ensure,w=E.dom.selectorMatches,t=E.dom.allTextNodes,k=/{{(.*?)}}/,C=/{{(.*?)}}/g,a=new Map,s={};g.selfClosingTags=/(<([^<>\s]+)(\s+[^<>\s]+(=[\w\d]+|=["][^"]*["]|=['][^']*[']|={{?[^}]*?}?})?)*)\s*\/>/gim,g.openTags="$1></$2>",(e=m=g.HookType||(g.HookType={}))[e.CLASS=0]="CLASS",e[e.PROPERTY=1]="PROPERTY",e[e.ATTRIBUTE=2]="ATTRIBUTE",e[e.TEXT=3]="TEXT";var d=function(e,t,n,o,r){var i=this;this.node=e,this.type=t,this.attribute=n,this.property=o,this.transformFns=r,this.hasMethods=function(){return 0<i.transformFns.length}};g.Hook=d;var x=function(e,t,n,o,r,i){this.nodePosition=e,this.type=t,this.curly=n,this.attribute=o,this.property=r,this.transformFns=i};g.HookInfo=x;var T=function(){function e(e,t,n,o){this.node=e,this.hookInfos=t,this.hookMap=n,this.preComponents=o;for(var r=0,i=t.length;r<i;r++){var a=t[r],s=this.hookMap[a.curly.toLowerCase()].split(/:/);a.property=s.shift(),a.transformFns=s}}return e.prototype.asParsedTemplate=function(){for(var e=this.node.cloneNode(!0),t=b(e),n=this.hookInfos.map(function(e){return new d(t[e.nodePosition],e.type,e.attribute,e.property,e.transformFns)}),o=this.preComponents,r=o.length,i=[],a=0;a<r;a++){for(var s=o[a],l=s.nodes.length,c=[],u=0;u<l;u++)c[u]=t[s.nodes[u]];i[a]={info:s.info,nodes:c}}return{doc:e,first:t[1],hooks:n,components:i}},e}();g.PreparsedTemplate=T;var P=function(e){return t(e).forEach(function(e){var t=e.textContent.split(/({{.*?}})/gm);if(1<t.length){var n=e.parentNode,o=document.createDocumentFragment();t.forEach(function(e){""!==e&&o.appendChild(document.createTextNode(e))}),n.replaceChild(o,e)}}),e},n=document.createRange();function l(e){for(var t,n=e.replace(g.selfClosingTags,g.openTags),o=P(g.getFragment(n)),r=b(o),i={};t=C.exec(e);)i[t[1].toLowerCase()]=t[1];for(var p,f,a=E.boot.WidgetFactory.widgetRegistry,s=[],l=0,c=a.length,u=r.length;l<c;l++){for(var d=[],h=a[l],v=0;v<u;v++){var y=r[v];y.nodeType===Node.ELEMENT_NODE&&w(y,a[l].selector)&&d.push(v)}0<d.length&&s.push({info:h,nodes:d})}return new T(o,(f=[],r.forEach(function(e,t){if(e.nodeType===Node.TEXT_NODE){var n=e.textContent,o=k.exec(n);null!==o&&f.push(new x(t,m.TEXT,o[1]))}else if(e.nodeType===Node.ELEMENT_NODE)for(var r=0,i=_(e.attributes);r<i.length;r++){var a=i[r],s=a.nodeName;if(p=s.match(k))e.removeAttribute(p[0]),f.push(new x(t,m.PROPERTY,p[1]));else if("class"===s)for(var l=0,c=_(e.classList);l<c.length;l++){var u=c[l];(p=u.match(k))&&(e.classList.remove(p[0]),f.push(new x(t,m.CLASS,p[1])))}else{var d=a.value;(p=d.match(k))&&(e.setAttribute(s,""),f.push(new x(t,m.ATTRIBUTE,p[1],s)))}}}),f),i,s)}g.getFragment=function(e){return n.createContextualFragment(e)},g.getPreparsedTemplate=l;var o=function(){function e(){}return e.getTemplate=function(e,t){var n=r(a,e)[t].call(e),o=s[n];return o||(o=l(n),s[n]=o),o.asParsedTemplate()},e.warmUp=function(){a.forEach(function(o,r){return Object.keys(o).forEach(function(e){var t=o[e];try{var n=t.call(r);s[n]=l(n)}catch(e){console.warn("Template method "+t+" in "+r.constructor.name+" is not a pure function.",e)}})})},e}();g.TemplateFactory=o,g.Template=function(o){return void 0===o&&(o="default"),function(e,t){var n;i(a,e,((n={})[o]=e[t],n))}}}(E.annotations||(E.annotations={}))}(feather||(feather={})),function(f){!function(l){var c,e,u=f.dom.selectorMatches,n=f.objects.collectAnnotationsFromArray,t=f.media.MediaQueryAware,i=f.objects.ensure,o=f.objects.merge,a=f.functions.isUndef;(e=c=l.Scope||(l.Scope={}))[e.Direct=0]="Direct",e[e.Delegate=1]="Delegate";var s=((r={})[c.Direct]=new WeakMap,r[c.Delegate]=new WeakMap,r),d=new WeakMap;l.addListener=function(e,t,n){e.addEventListener(t,n),i(d,e,[{event:t,fn:n}])};var r,p=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.handlers=function(e){return n(s[e],t).reduce(function(e,t){return o(e,((n={})[t.event]=[t],n));var n},{})},t}return __extends(e,r),e.prototype.attachEvents=function(){this.attachDelegates(this.handlers(c.Delegate)),this.attachDirect(this.handlers(c.Direct))},e.prototype.attachDirect=function(i){var a=this,s=this.element;Object.keys(i).forEach(function(e){for(var t=i[e],n=function(t){var n=t.selector?s.querySelector(t.selector):s;n?l.addListener(n,e,function(e){return t.preventDefault&&e.preventDefault(),t.bubble||e.stopImmediatePropagation(),a[t.method].call(a,e,n)}):console.warn(t.selector+" didn't match anything inside the template")},o=0,r=t;o<r.length;o++)n(r[o]);a.eventRegistered(a,e,t,c.Direct)})},e.prototype.attachDelegates=function(o){var r=this;Object.keys(o).forEach(function(e){var i,t,a,s,n=o[e];t=e,a=n,s=(i=r).element,l.addListener(s,t,function(e){var t=e.target;do{for(var n=0,o=a;n<o.length;n++){var r=o[n];t.nodeType===Node.ELEMENT_NODE&&(!r.selector&&t===s||u(t,r.selector))&&(r.preventDefault&&e.preventDefault(),r.bubble||e.stopImmediatePropagation(),i[r.method].call(i,e,t))}if(t===s)break}while(t=t.parentElement)}),r.eventRegistered(r,e,n,c.Delegate)})},e.prototype.eventRegistered=function(e,t,n,o){},e.prototype.cleanUp=function(){r.prototype.cleanUp.call(this);var e=d.get(this.element);if(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];this.element.removeEventListener(o.event,o.fn)}d.delete(this.element)}},e}(t);l.EventAware=p,l.On=function(r){return function(e,t){var n=a(r.scope)?c.Delegate:r.scope,o=i(s[n],e,[]);r.event.split(/\s+/).forEach(function(e){return o.push({event:e,method:t,preventDefault:r.preventDefault,bubble:r.bubble,scope:n,selector:r.selector})})}}}(f.event||(f.event={}))}(feather||(feather={})),function(n){!function(l){var e=n.event.EventAware,c=n.objects.ensure,a=n.objects.collectAnnotationsFromTypeMap,o=n.boot.WidgetFactory;l.subscribers=new WeakMap;var t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childWidgets=[],e}return __extends(e,t),e.prototype.triggerUp=function(e,t){this.trigger(e,t),this.parentWidget&&this.parentWidget.triggerUp(e,t)},e.prototype.triggerSingleton=function(t,n){o.singletonRegistry.forEach(function(e){return e.trigger(t,n)})},e.prototype.triggerDown=function(e,t){if(this.trigger(e,t),this.childWidgets)for(var n=0,o=this.childWidgets;n<o.length;n++)o[n].triggerDown(e,t)},e.prototype.trigger=function(e,t){var n=a(l.subscribers,this)[e];if(n)for(var o=0,r=n;o<r.length;o++){var i=r[o];Object.getPrototypeOf(this)[i].call(this,t)}},e}(e);l.Subscribable=t,l.Subscribe=function(a,s){return function(e,t,n){if(!0===s){var o=n.value,r=[];n.value=function(e){var t=this;r.push(e),requestAnimationFrame(function(){o.call(t,r),r.splice(0,r.length)})}}var i;c(l.subscribers,e,((i={})[a]=[t],i))}}}(n.hub||(n.hub={}))}(feather||(feather={})),function(v){!function(l){var e=v.hub.Subscribable,i=v.strings.namedRegexMatch,c=v.objects.collectAnnotationsFromArray,o=v.objects.ensure,n=v.arrays.removeFromArray,u=new WeakMap,d=[],a=/[:*]\w+/gi,t=window.history&&window.history.pushState&&null===document.querySelector('[routing="hash"]'),s=[[/:\w+/gi,"([\\w\\d-]+)"],[/\*\w+/gi,"(.+)"]];l.namedMatch=function(e,t){var n=e.match(a);if(n&&n.length){n=n.map(function(e){return e.substr(1)});var o=s.reduce(function(e,t){return e.replace(t[0],t[1])},e),r=new RegExp("^"+o+"$","gi");return i(t,r,n)}if(new RegExp("^"+e+"$","gi").exec(t))return{}};var r=function(){var e=location.pathname;return t||("/"!==e?location.replace("/#"+e):e=location.hash?location.hash.replace(/^#/,""):"/"),e},p=function(e){for(var t=0,n=d;t<n.length;t++)for(var o=n[t],r=0,i=c(u,o);r<i.length;r++){var a=i[r],s=l.namedMatch(a.route,e);s&&o[a.handler].call(o,s)}};window.addEventListener(t?"popstate":"hashchange",function(){return p(r())},!1);var f=function(e){t?(history.pushState(null,"",e),p(r())):location.hash=e},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentRoute=r,e.route=function(e){return f(e)},e}return __extends(e,t),e.prototype.initRoutes=function(){!~d.indexOf(this)&&u.has(Object.getPrototypeOf(this))&&d.push(this)},e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),n(d,[this])},e}(e);l.RouteAware=h,l.runRoutes=function(){window.blockRouting||p(r())},l.Route=function(n){return function(e,t){o(u,e,[{route:n,handler:t}])}}}(v.routing||(v.routing={}))}(feather||(feather={})),function(n){!function(N){var e=n.routing.RouteAware,O=n.annotations.HookType,j=n.arrays.observeArray,h=n.arrays.from,v=n.arrays.notifyListeners,L=n.functions.isFunction,q=n.functions.compose,R=n.functions.isDef,I=n.functions.isUndef,W=n.objects.isObject,F=n.objects.deepValue,y=n.objects.ensure,V=n.objects.collectAnnotationsFromTypeMap,c=n.objects.createObjectPropertyListener,B=n.objects.values,i=n.boot.WidgetFactory,g=n.annotations.getFragment,H=n.arrays.defaultArrayListener,m=new WeakMap,U=new WeakMap,Y=new WeakMap,z=function(){return function(){return!0}},_=function(e,t,n,o){"value"===t?e.value=n?o:"":n?e.setAttribute(t,o):e.removeAttribute(t)};function G(r,i,a,e){var t,n,s=r[a];if(Array.isArray(s))j(s,{sort:function(){return e(s)},splice:function(){return e(s)}});else{var o=m.get(r),l=o&&o[a],c=y(m,r,((t={})[a]=[e],t));if(l||Object.defineProperty(r,a,{get:function(){return s},set:function(e){if(e!==s){N.maybeStore(r,a,i,e,!1);var t=s;s=e;for(var n=0,o=c[a];n<o.length;n++)(0,o[n])(e,t)}return e}}),i&&i.affectsArrays.length){var u,d=i.affectsArrays.length,p=r,f=void 0;do{for(f=0;f<d;f++)u=p[i.affectsArrays[f]],R(u)&&y(m,r,((n={})[a]=[function(){return v(u)}],n))}while(R(p=p.parentWidget))}}}function X(e,t,n,o,r){if(t.type!==O.ATTRIBUTE&&t.type!==O.PROPERTY)throw Error('Bool value can only be bound to attributes ie. hidden="{{myBool}}. Consider using filters to convert them to strings (true|false|yes|no etc)"');var i=t.node,a=t.attribute||t.property,s=function(e){return"boolean"==typeof i[a]?i[a]=!!n(e):_(i,a,!!n(e),""),s};r(this,o,t.property,s(e))}function K(e,t,i,a,n){var s=t.node;if(t.type===O.TEXT){var l,c=[s],u=function(e){var t=i(e);if(l!==t){if(a.html){var n=g(t),o=c.slice(),r=o[0].parentNode;c=h(n.childNodes),r.replaceChild(n,o.shift()),o.forEach(function(e){return e.parentNode.removeChild(e)})}else s.textContent=i(e);l=t}return u};n(this,a,t.property,u(e))}else if(t.type===O.CLASS){var o,r=function(e){var t=i(e);return t!==o&&(R(o)&&s.classList.remove(o),R(t)&&s.classList.add(t),o=t),r};n(this,a,t.property,r(e))}else if(t.type===O.ATTRIBUTE||t.type===O.PROPERTY){var d,p=t.attribute||t.property,f=function(e){var t=i(e);return t!==d&&(_(s,p,R(t),t),d=t),f};n(this,a,t.property,f(e))}}function $(r,e,t,n){var i=this,o=function(e,t,n,o){return c(i,r,o)},a=r.split(".").shift(),s=(typeof n(t)).toLowerCase(),l=V(U,this)[a];"boolean"===s?X.call(this,t,e,n,l,o):/string|number|undefined/.test(s)?K.call(this,t,e,n,l,o):console.log("Deeply bound properties work only with strings, numbers or booleans. For arrays you can use a transformer: {{var:myTransformer}}?")}function J(e,t){var n=t.node,o=function(t){return Object.keys(t).forEach(function(e){n.style[e]=t[e]}),o};c(this,e,o(this[e]))}function Q(e,t,n,o){if(o=o.split(".").shift(),e){var r=V(U,e)[o];r&&r.bequeath?e.attachHooks.call(e,[n],t):Q(e.parentWidget,t,n,o)}else console.log("@Bind() "+o+" annotation missing or 'bequeath' not set?",n,o,U)}var Z=function(e,t){for(var n=i.singletonRegistry,o=0;o<n.length;o++){var r=n[o][t];if(r)return r.bind(e)}throw Error("Couldn't resolve transformer function "+t)};function ee(n,e,t,o,r){var i,a=function(){var e=o(n[t.property].call(n));return i!==e&&(t.type===O.TEXT?t.node.textContent=e:t.type===O.CLASS?(i&&t.node.classList.remove(i),e&&t.node.classList.add(e)):t.type!==O.ATTRIBUTE&&t.type!==O.PROPERTY||(e?t.node.setAttribute(t.attribute,e):t.node.removeAttribute(t.attribute)),i=e),a};e.forEach(function(e){var t=r[e]||{property:e,affectsArrays:[]};G(n,t,e,a())})}var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachHooks=function(e,t){var n,o,r,i,a,s,l,c,u,d=this,p=t||this,f=V(U,this);if(f){var h=B(f);n=h.filter(function(e){return 0!==e.affectsArrays.length}),o=h.filter(function(e){return e.localStorage&&Array.isArray(d[e.property])})}I(t)&&N.loadLocalStorageValue(U,this);for(var v=0,y=e;v<y.length;v++){var g=y[v],m=g.property,_=q(g.transformFns.map(function(e){var t=p[e];return t?t.bind(d):Z(d,e)})),b=this[m],w=W(b);if(L(b)){var k=V(Y,this)[m];R(k)?ee(this,k,g,_,f||{}):console.log("Binding to functions without @Computed() annotation is not supported. Use a property with a transformer {{x:myfunc}}.")}else if(~m.indexOf(".")||w&&g.hasMethods()){var C=F(this,m);I(C)?Q(this.parentWidget,this,g,m):$.call(this,m,g,C,_)}else{if(w){if("style"===g.attribute){J.call(this,m,g);continue}if(!g.hasMethods()){console.log("Binding to objects is not supported. Use new widgets or specify inner property: x.y.z");continue}}var x=f[m];I(x)?Q(this.parentWidget,this,g,m):(r=this,i=_(b),a=g,s=x,l=_,void 0,c=Array.isArray(i)?"array":(typeof i).toLowerCase(),u=r[a.property],"boolean"===c?X.call(r,u,a,l,s,G):/string|number|undefined/.test(c)?K.call(r,u,a,l,s,G):"array"===c||L(i)?(L(i)||(l=z),function(e,t,n,o){if(t.type===O.PROPERTY){var r=e.splice(0,e.length);j(e,H(this,e,t,n,o)),e.push.apply(e,r)}else console.log("Arrays can be bound only in a node: <div {{myarray}}></div>")}.call(r,u,a,s,l)):console.log("Bindings are only supported on arrays, booleans, strings and numbers"))}}if(n)for(var T=0,P=n;T<P.length;T++){var E=P[T];G(this,E,E.property,function(){return 0})}if(o)for(var M=function(e){var t=D[e.property],n=function(){return N.maybeStore(d,e.property,e,t,!0)};j(t,{sort:n,splice:n})},D=this,S=0,A=o;S<A.length;S++)M(A[S])},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),m.delete(this),Y.delete(this)},t}(e);N.Observable=t,N.Bind=function(r){return function(e,t){var n,o=__assign({},{templateName:"default",localStorage:!1,affectsArrays:[],property:t,html:!1},r||{});y(U,e,((n={})[t]=o,n))}},N.Computed=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return function(e,t){var n;y(Y,e,((n={})[t]=o,n))}}}(n.observe||(n.observe={}))}(feather||(feather={})),function(e){var t,n;t=e.annotations||(e.annotations={}),n=e.boot.WidgetFactory,t.Construct=function(t){return function(e){return n.register(t,e)}}}(feather||(feather={})),function(e){var p,i,a,f,s;p=e.xhr||(e.xhr={}),i=e.strings.format,a=e.objects.deepValue,f=e.objects.merge,s=e.functions.strFactory,p.Method={GET:"GET",POST:"POST",DELETE:"DELETE",PUT:"PUT"},p.defaultRestConfig={url:null,method:p.Method.GET,timeout:5e3,async:!0,withCredentials:!0,responseFilter:function(e){return e?JSON.parse(e):null},requestFilter:function(e){return e?JSON.stringify(e):null},headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}},p.sendRequest=function(c,u,d){return new Promise(function(n,o){var r=new XMLHttpRequest;if(c=f(__assign({},p.defaultRestConfig),c),r.open(c.method,c.url,c.async),r.timeout=c.timeout,r.setRequestHeader)for(var e=0,t=Object.keys(c.headers);e<t.length;e++){var i=t[e];r.setRequestHeader(i,c.headers[i])}r.addEventListener("readystatechange",function(){if(4===r.readyState){var e=~~(r.status/100),t=c.responseFilter(r.responseText);2===e||3===e?(u(t),n(t)):(d(t,r),o(t))}});for(var a=0,s=["timeout","error","abort"];a<s.length;a++){var l=s[a];r.addEventListener(l,function(e){d(e)})}return c.progress&&r.addEventListener("progress",c.progress,!1),r.send(c.requestFilter(c.body)),r})},p.Rest=function(r){return function(e,t,n){var o=n.value;n.value=function(){var o=this,e=__assign({},r,{progress:function(e){return o.triggerDown("xhr-progress",e)},body:r.body&&a(this,r.body),headers:r.headers&&Object.keys(r.headers).reduce(function(e,t){return __assign({},e,((n={})[t]=s(r.headers[t]),n));var n},{})||{},url:i(r.url,this)});return p.sendRequest(e,n.value.original.bind(this),function(e,t){if(t&&t.status)o.triggerDown("xhr-failure-"+t.status,e,t);else if(e){var n=e.type;o.triggerDown("xhr-failure-"+n)}})},n.value.original=o}}}(feather||(feather={})),function(l){!function(e){var r,t,a=l.annotations.TemplateFactory,n=l.observe.Observable,s=l.boot.WidgetFactory,i=l.arrays.removeFromArray;(t=r=e.RenderPlacement||(e.RenderPlacement={}))[t.append=0]="append",t[t.prepend=1]="prepend",t[t.replace=2]="replace";var o=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.bindToElement=function(e){this.element=e,this.init(e),this.attachEvents(),this.initRoutes(),this.attachMediaListeners()},e.prototype.render=function(e,t){void 0===e&&(e="default"),void 0===t&&(t=r.append);var n=this.getParsed(e);t===r.replace&&(this.element.innerHTML=""),t===r.prepend?this.element.insertBefore(n.doc,this.element.firstChild):this.element.appendChild(n.doc)},e.prototype.getParsed=function(e){for(var t=a.getTemplate(this,e),n=t.components,o=0,r=n.length;o<r;o++){var i=n[o];s.initComponents(i.nodes,i.info,this)}return this.attachHooks(t.hooks),t},e.prototype.init=function(e){},e.prototype.cleanUp=function(){var n=this;setTimeout(function(){o.prototype.cleanUp.call(n);for(var e=0,t=n.childWidgets;e<t.length;e++)t[e].cleanUp();i(s.singletonRegistry,[n])},10)},e}(n);e.Widget=o}(l.core||(l.core={}))}(feather||(feather={})),function(i){var e,t;e=i.ui||(i.ui={}),(t=e.utils||(e.utils={})).focusElement=function(e){var t=function(){return e.focus()};/Android/.test(navigator.appVersion)?setTimeout(function(){return t()},10):t()},t.withDefaults=function(o,r){return Object.keys(r).reduce(function(e,t){return __assign({},e,((n={})[t]=i.functions.isDef(o[t])?o[t]:r[t],n));var n},o)}}(feather||(feather={})),function(l){var e;(function(u){var e=l.core.Widget,c=l.dom.selectorMatches,r=l.event.addListener;/ios/.test(navigator.userAgent)&&(document.ontouchmove=function(e){e.preventDefault()});var d=function(e){return{passive:/mouse|touch/.test(e.type),capture:!1}};u.tapDistance=10,u.addMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.addEventListener(e,n,o)})},u.removeMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.removeEventListener(e,n,o)})};var p,t,i=["clientX","clientY","pageX","pageY"];(t=p=u.PanPhase||(u.PanPhase={}))[t.start=0]="start",t[t.move=1]="move",t[t.stop=2]="stop";var f={touchstart:{move:["touchmove"],stop:["touchend"]},mousedown:{move:["mousemove"],stop:["mouseup"]},pointerdown:{move:["pointermove"],stop:["pointerup"]}};u.normalizePointer=function(e){return{x:e.clientX||(e.touches?e.touches[0].pageX:0),y:e.clientY||(e.touches?e.touches[0].pageY:0)}};var s=document.documentElement,h=function(e,t,n){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return i.forEach(function(e){return o[e]=t[e]}),o},n="onpointerdown"in document.documentElement,o=/android|iphone|webos|ipad|ipod|blackberry/i.test(navigator.userAgent);u.tapEvents=n?["pointerdown"]:o?["touchstart"]:["touchstart","mousedown"];var v={tap:{events:u.tapEvents,handlerFactory:function(e){return function(t){if(!/mouse|pointer/.test(t.type)||1===t.which){var n=d(t);n.passive&&t.preventDefault();var o=u.normalizePointer(t),r=o,i=function(e){r=u.normalizePointer(e)},a=function(e){Math.abs(r.x-o.x)<u.tapDistance&&Math.abs(r.y-o.y)<u.tapDistance&&t.target.dispatchEvent(h("tap",e)),u.removeMultipleEventListeners(f[t.type].stop,s,a,n),u.removeMultipleEventListeners(f[t.type].move,s,i,n)};u.addMultipleEventListeners(f[t.type].move,s,i,n),u.addMultipleEventListeners(f[t.type].stop,s,a,n)}}},options:d({})},panX:{events:u.tapEvents,handlerFactory:function(e){return function(o){var t=d(o);if(!/mouse/.test(o.type)||1===o.which){t.passive&&o.preventDefault();var r=u.normalizePointer(o),i=Date.now(),n=document.documentElement,a=r,s=0,l=function(e,t){void 0===t&&(t=p.move);var n=+Date.now()-+i;t===p.move&&("touchmove"===e.type&&e.preventDefault(),a=u.normalizePointer(e),s=a.x-r.x),o.target.dispatchEvent(h("panX",e,{diffX:s,time:n,phase:t}))},c=function(e){l(e,p.stop),u.removeMultipleEventListeners(f[o.type].move,n,l,t),u.removeMultipleEventListeners(f[o.type].stop,n,c,t)};l(o,p.start),u.addMultipleEventListeners(f[o.type].move,n,l,t),u.addMultipleEventListeners(f[o.type].stop,n,c,t)}}},options:d({})},textchange:{events:"keyup input focus blur focusin focusout cut paste change".split(" "),handlerFactory:function(e){var t=e.value;return function(e){e.target.value!==t&&(t=e.target.value,e.target.dispatchEvent(h("textchange",e)))}},options:d({})}},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachDelegates=function(n){var o=this;e.prototype.attachDelegates.call(this,n),Object.keys(n).forEach(function(e){var t=v[e];if(t){var i=n[e],a=o,s=o.element,l=t.handlerFactory(s);t.events.forEach(function(e){return r(s,e,function(e){var t=e.target;do{for(var n=0,o=i;n<o.length;n++){var r=o[n];if(1===t.nodeType&&(!r.selector&&t===s||c(t,r.selector)))return r.preventDefault&&e.preventDefault(),r.bubble||e.stopPropagation(),l.call(a,e)}if(t===s)break}while(t=t.parentElement)})})}})},t}(e);u.GestureWidget=a})((e=l.ui||(l.ui={})).events||(e.events={}))}(feather||(feather={})),function(r){var e,t,n,i,o;e=r.ui||(r.ui={}),t=e.types||(e.types={}),n=r.hub.Subscribe,i=r.observe.Bind,o=function(o){function e(e,t){void 0===t&&(t={});var n=o.call(this)||this;return n.error=!1,n.config=r.ui.utils.withDefaults(e,t),n}return __extends(e,o),e.prototype.fieldError=function(e){this.config.name===e&&(this.error=!0)},e.prototype.fieldErrorCleared=function(){this.error=!1},__decorate([i({})],e.prototype,"config",void 0),__decorate([i({})],e.prototype,"error",void 0),__decorate([n("field-error")],e.prototype,"fieldError",null),__decorate([n("field-error-clear")],e.prototype,"fieldErrorCleared",null),e}(r.ui.events.GestureWidget),t.FormComponent=o}(feather||(feather={})),function(e){var t,o,n,r,i;t=e.ui||(e.ui={}),o=e.annotations.Construct,n=e.core.Widget,r=e.objects.deepValue,i=function(n){function e(e){var t=n.call(this)||this;return t.translations={},t.translate=function(e){return r(t.translations,e)||e},t.translations=e,t}return __extends(e,n),e=__decorate([o({selector:"localization",singleton:!0,attributes:["translations"]})],e)}(n),t.Localization=i}(feather||(feather={})),function(e){var t,n,o,i,a,r;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,i=e.observe.Bind,a=e.annotations.Template,r=function(r){function e(e,t,n){var o=r.call(this)||this;return o.fontAwesomeClass=function(e){return"fa-"+e},o.alignRightClass=function(e){return e?"is-right":void 0},o.name=e,o.alignRight=void 0!==t,o.iconClass=n||void 0,o}return __extends(e,r),e.prototype.init=function(){this.render()},e.prototype.markup=function(){return'\n              <span class="icon {{alignRight:alignRightClass}} {{iconClass}}">\n                <i class="fa {{name:fontAwesomeClass}}"></i>\n              </span>'},__decorate([i()],e.prototype,"name",void 0),__decorate([i()],e.prototype,"alignRight",void 0),__decorate([i()],e.prototype,"iconClass",void 0),__decorate([a()],e.prototype,"markup",null),e=__decorate([o({selector:"icon",attributes:["name","align-right","icon-class"]})],e)}(n),t.Icon=r}(feather||(feather={})),function(i){!function(y){var e=i.core.Widget,n=i.annotations.Construct;y.findClippedParent=function(e){var t=getComputedStyle(e,null);return"body"===e.tagName||"hidden"===t.getPropertyValue("overflow")||"hidden"===t.getPropertyValue("overflow-x")||"hidden"===t.getPropertyValue("overflow-y")?e:y.findClippedParent(e.parentElement)};var o,g=2,m=4,_=8,b=16,w=function(e,t,n,o){var r=(t.x-e.x)*(o.y-n.y)-(t.y-e.y)*(o.x-n.x);if(0===r)return!1;var i=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),a=i/r,s=(i=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/r;return!(a<0||1<a||s<0||1<s)};"MutationObserver"in window&&(o=new MutationObserver(function(e){e.forEach(function(e){var t,n,o,r,i,a,s,l=e.target;if("hidden"===e.attributeName)if(l.hasAttribute(e.attributeName))l.removeAttribute("style");else{var c=y.findClippedParent(l.parentElement),u=l.getBoundingClientRect(),d=c.getBoundingClientRect(),p=(a=d,s=0,(w({x:(i=u).left,y:i.top},{x:i.right,y:i.top},{x:a.right,y:a.top},{x:a.right,y:a.bottom})||w({x:i.left,y:i.bottom},{x:i.right,y:i.bottom},{x:a.right,y:a.top},{x:a.right,y:a.bottom}))&&(s|=g),(w({x:i.left,y:i.top},{x:i.right,y:i.top},{x:a.left,y:a.top},{x:a.left,y:a.bottom})||w({x:i.left,y:i.bottom},{x:i.right,y:i.bottom},{x:a.left,y:a.top},{x:a.left,y:a.bottom}))&&(s|=m),(w({x:i.left,y:i.top},{x:i.left,y:i.bottom},{x:a.left,y:a.top},{x:a.right,y:a.top})||w({x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:a.left,y:a.top},{x:a.right,y:a.top}))&&(s|=b),(w({x:i.left,y:i.top},{x:i.left,y:i.bottom},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom})||w({x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom}))&&(s|=_),s),f=l.classList;f.remove("overflow-right","overflow-left","overflow-top","overflow-bottom");var h=0,v=0;p&g&&(h=d.right-u.right,f.add("overflow-right")),p&m&&(h=d.left-u.left,f.add("overflow-left")),p&b&&(v=d.top-u.top,f.add("overflow-top")),p&_&&(v=d.bottom-u.bottom,f.add("overflow-bottom")),0===h&&0===v||(l.style.setProperty("--offset-x",-h+"px"),l.style.setProperty("--offset-y",-v+"px"),t=l,n=h,o=v,r=getComputedStyle(t,null).getPropertyValue("transform"),t.style.transform=r+" translate("+n+"px, "+o+"px)")}})}));var r={attributes:!0,childList:!1,characterData:!1},t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){o&&setTimeout(function(){return o.observe(e,r)},1)},t=__decorate([n({selector:".open-in-view"})],t)}(e);y.OpenInView=t}(i.ui||(i.ui={}))}(feather||(feather={})),function(p){var e;(function(e){var i,t,n=p.ui.events.GestureWidget,o=p.annotations.Template,a=p.observe.Bind,s=p.event.On,l=p.event.Scope,c=p.hub.Subscribe,u=p.dom.selectorMatches,d=p.observe.Computed;(t=i=e.TreeNodeIcon||(e.TreeNodeIcon={})).file="fa-file-o",t.text="fa-font",t.object="fa-sitemap",t.date="fa-calendar",t.number="fa-table",t.enum="fa-ellipsis",t.html="fa-code",t.config="fa-gear",t.boolean="fa-toggle-on",t.array="fa-database",t.folderOpen="fa-folder-open-o",t.folderClosed="fa-folder-o";var r=function(r){function e(e,t,n){void 0===n&&(n=i.file);var o=r.call(this)||this;return o.children=[],o.selected=!1,o.open=!1,o.editing=!1,o.id=function(){return o.text},o.iconClass=function(){return 0===o.children.length?o.icon:o.open?i.folderOpen:i.folderClosed},o.openClass=function(){return 0===o.children.length?void 0:o.open?"open":void 0},o.hasChildrenClass=function(e){return 0<e.length?"fa-caret-right":void 0},o.openIconClass=function(e){return e?"down":void 0},o.selectedClass=function(e){return e?"selected":void 0},o.icon=n,o.text=e,o.value=t,o}return __extends(e,r),e.prototype.openNodeTapped=function(e,t){e.stopImmediatePropagation(),this.openNode(!this.open)},e.prototype.openNode=function(e){this.open=e,this.open?this.triggerUp("node-opened",this.value):this.triggerUp("node-closed",this.value)},e.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.children).push.apply(e,t)},e.prototype.selectNode=function(e,t){u(e.target,"i")||(e.stopImmediatePropagation(),this.selected?(this.selected=!1,this.triggerUp("node-defocused",this)):(this.selected=!0,this.triggerUp("node-focused",this)))},e.prototype.deselect=function(e){e!==this&&(this.selected&&(this.selected=!1),this.editing&&(this.editing=!1))},e.prototype.startEditing=function(e,t){u(e.target,"i")||(e.stopImmediatePropagation(),this.focusAndEdit())},e.prototype.focusAndEdit=function(){var e=this.element.querySelector("input");e.value=this.text,this.triggerUp("node-focused",this),this.editing=!0,this.selected=!0,e.focus(),e.select()},e.prototype.stopEditing=function(e){this.editing&&(13===e.keyCode?(this.text=e.target.value,this.editing=!1,this.triggerUp("node-edited",this)):27===e.keyCode&&(this.editing=!1))},e.prototype.cancelEditing=function(e){this.editing&&(this.editing=!1)},e.prototype.markup=function(){return'<li class="tree-node">\n              <div class="{{selected:selectedClass}} {{openClass}} clickable" {{editing}}>\n                <i class="icon fa node-handle {{children:hasChildrenClass}} {{open:openIconClass}}"></i>\n                <i class="icon fa node-icon {{iconClass}}"></i>\n                <span class="node-text">{{text}}</span>\n                <input class="node-editor">\n              </div>\n              <ul {{children}}></ul>\n            </li>'},__decorate([a()],e.prototype,"children",void 0),__decorate([a()],e.prototype,"selected",void 0),__decorate([a({localStorage:!0})],e.prototype,"open",void 0),__decorate([a()],e.prototype,"icon",void 0),__decorate([a()],e.prototype,"text",void 0),__decorate([a()],e.prototype,"editing",void 0),__decorate([s({event:"tap",selector:".node-handle"})],e.prototype,"openNodeTapped",null),__decorate([s({event:"tap",selector:".clickable"})],e.prototype,"selectNode",null),__decorate([c("defocus-other-nodes")],e.prototype,"deselect",null),__decorate([s({event:"dblclick",selector:".clickable"})],e.prototype,"startEditing",null),__decorate([s({event:"keydown",selector:"input",scope:l.Direct})],e.prototype,"stopEditing",null),__decorate([s({event:"blur",selector:"input",scope:l.Direct})],e.prototype,"cancelEditing",null),__decorate([o()],e.prototype,"markup",null),__decorate([d("icon","children","open")],e.prototype,"iconClass",void 0),__decorate([d("open","children")],e.prototype,"openClass",void 0),e}(n);e.TreeNode=r})((e=p.ui||(p.ui={})).tree||(e.tree={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l,c;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=e.event.On,i=e.core.RenderPlacement,a=e.annotations.Template,s=e.observe.Bind,l=e.event.Scope,c=function(n){function e(e){var t=n.call(this)||this;return t.hidden=!0,t.tooltip=e,t}return __extends(e,n),e.prototype.init=function(e){this.render("tooltip",i.append)},e.prototype.over=function(e,t){var n=this;null==t.getAttribute("disabled")&&t.getAttribute("tooltip")&&(this.timeout=setTimeout(function(){return n.hidden=!1},700))},e.prototype.out=function(){clearTimeout(this.timeout),this.hidden=!0},e.prototype.markup=function(){return'<div class="tooltip open-in-view" {{hidden}}>{{tooltip:translate}}</div>'},__decorate([s()],e.prototype,"tooltip",void 0),__decorate([s()],e.prototype,"hidden",void 0),__decorate([r({event:"mouseenter",scope:l.Direct})],e.prototype,"over",null),__decorate([r({event:"mouseleave",scope:l.Direct})],e.prototype,"out",null),__decorate([a("tooltip")],e.prototype,"markup",null),e=__decorate([o({selector:"[tooltip]",attributes:["tooltip","disabled"]})],e)}(n),t.Tooltip=c}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,i=e.ui.events.removeMultipleEventListeners,a=e.ui.events.addMultipleEventListeners,s=e.ui.events.tapEvents,l=function(t){function e(){var e=t.call(this)||this;return e.closeHandler=e.closeHandler.bind(e),e}return __extends(e,t),e.prototype.clicked=function(){this.toggle.hasAttribute("hidden")?this.open():this.close()},e.prototype.close=function(){this.toggle.setAttribute("hidden",""),this.element.removeAttribute("open"),i(s,document,this.closeHandler)},e.prototype.open=function(){this.toggle.removeAttribute("hidden"),this.element.setAttribute("open",""),a(s,document,this.closeHandler)},e.prototype.init=function(e){this.toggle=e.querySelector(".toggle"),this.toggle.setAttribute("hidden","")},e.prototype.closeHandler=function(e){this.toggle.hasAttribute("hidden")||this.toggle.contains(e.target)||this.close()},__decorate([r({event:"tap",selector:".button"})],e.prototype,"clicked",null),e=__decorate([o({selector:".toggler"})],e)}(n),t.Toggler=l}(feather||(feather={})),function(e){var t,n,o,r,i,a;t=e.ui||(e.ui={}),n=t.toast||(t.toast={}),o=e.core.Widget,r=e.annotations.Template,i=e.observe.Bind,a=function(n){function e(e){var t=n.call(this)||this;return t.message=e,t}return __extends(e,n),e.prototype.messageItemMarkup=function(){return'<li>\n                  <span class="icon is-small">\n                    <i class="fa fa-caret-right"></i>\n                  </span>\n                  <span>{{message:translate}}</span>\n                </li>'},__decorate([i()],e.prototype,"message",void 0),__decorate([r()],e.prototype,"messageItemMarkup",null),e}(o),n.ToastItem=a}(feather||(feather={})),function(a){var e;(function(l){var e,t=a.ui.events.GestureWidget,n=a.annotations.Template,o=a.observe.Bind,r=a.event.On;(e=l.Theme||(l.Theme={}))[e.Info="info"]="Info",e[e.Error="error"]="Error",e[e.Warning="warning"]="Warning";var i=function(s){function e(e,t,n,o,r){var i,a=s.call(this)||this;return a.message="",a.messages=[],a.added=!1,Array.isArray(t)?(i=a.messages).push.apply(i,t.map(function(e){return new l.ToastItem(e)})):a.message=t,a.title=e,a.action=r,a.actionName=o,a.theme=n,a}return __extends(e,s),e.prototype.actionClicked=function(){this.action()},e.prototype.animationEnded=function(){l.ToastManager.removeToast(this)},e.prototype.deleteClicked=function(){l.ToastManager.removeToast(this)},e.prototype.toastMarkup=function(){var e=this.actionName?'<span class="action-link clickable">{{actionName:translate}}</span>':"";return'<li {{added}} class="{{theme}}">\n              <h4 class="message-header"><p>{{title:translate}}</p><button class="delete is-small"></button></h4>\n              <div class="toast-message">\n                '+(this.message?"<p>{{message:translate}}</p>":"")+"\n                <ul {{messages}}></ul>\n                "+e+"\n              </div>\n            </li>"},__decorate([o()],e.prototype,"message",void 0),__decorate([o()],e.prototype,"messages",void 0),__decorate([o()],e.prototype,"title",void 0),__decorate([o()],e.prototype,"actionName",void 0),__decorate([o()],e.prototype,"theme",void 0),__decorate([o()],e.prototype,"added",void 0),__decorate([r({event:"tap",selector:".action-link"})],e.prototype,"actionClicked",null),__decorate([r({event:"animationend"})],e.prototype,"animationEnded",null),__decorate([r({event:"tap",selector:".delete"})],e.prototype,"deleteClicked",null),__decorate([n()],e.prototype,"toastMarkup",null),e}(t);l.Toast=i})((e=a.ui||(a.ui={})).toast||(e.toast={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=t.toast||(t.toast={}),o=e.ui.events.GestureWidget,r=e.annotations.Construct,i=e.annotations.Template,a=e.observe.Bind,s=e.arrays.removeFromArray,l=function(t){function e(){var e=t.call(this)||this;return e.toasts=[],n.instance=e}return __extends(e,t),(n=e).prototype.init=function(){this.render()},e.showToast=function(t){var e=n.instance.toasts.filter(function(e){return e.title===t.title});s(n.instance.toasts,e),n.instance.toasts.push(t),setTimeout(function(){return t.added=!0},10)},e.removeToast=function(e){var t=n.instance.toasts.indexOf(e);~t&&n.instance.toasts.splice(t,1)},e.prototype.datePickerMarkup=function(){return'<ul class="toasts" {{toasts}}></ul>'},__decorate([a()],e.prototype,"toasts",void 0),__decorate([i()],e.prototype,"datePickerMarkup",null),e=n=__decorate([r({selector:".toast-manager"})],e);var n}(o),n.ToastManager=l}(feather||(feather={})),function(e){var t,n,o,r,i,a,s;t=e.ui||(e.ui={}),n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,i=e.event.On,a=e.hub.Subscribe,s=function(n){function e(e){var t=n.call(this)||this;return t.active=!1,t.activeClass=function(e){return e?"is-active":void 0},t.text=e.getAttribute("title"),t.tabKey=e.getAttribute("tab-key"),t.icon=e.getAttribute("icon").replace(/^fa-/,""),t.container=e,t.setActive(e.hasAttribute("active")),e.removeAttribute("title"),t}return __extends(e,n),e.prototype.setActive=function(e){(this.active=e)?this.container.removeAttribute("hidden"):this.container.setAttribute("hidden","")},e.prototype.clicked=function(){this.triggerUp("activate-tab",this)},e.prototype.textActivateTab=function(e){this.tabKey===e&&this.triggerUp("activate-tab",this)},e.prototype.getTabKey=function(){return this.tabKey},e.prototype.markup=function(){return'\n            <li class="{{active:activeClass}}">\n              <a>\n                <icon name={icon} iconClass="is-small"/>\n                <span>{{text:translate}}</span>\n              </a>\n            </li>\n            '},__decorate([r()],e.prototype,"active",void 0),__decorate([r()],e.prototype,"text",void 0),__decorate([i({event:"tap"})],e.prototype,"clicked",null),__decorate([a("tab-key-activate")],e.prototype,"textActivateTab",null),__decorate([o()],e.prototype,"markup",null),e}(n),t.Tab=s}(feather||(feather={})),function(e){var o,t,r,i,a,s,l,n;o=e.ui||(e.ui={}),t=e.core.Widget,r=e.annotations.Construct,i=e.observe.Bind,a=e.arrays.from,s=e.annotations.Template,l=e.hub.Subscribe,n=function(n){function e(e){var t=n.call(this)||this;return t.tabs=[],t.tabClass=e||void 0,t}return __extends(e,n),e.prototype.init=function(e){var t;(t=this.tabs).push.apply(t,a(e.children).map(function(e){return new o.Tab(e)})),this.render(),this.element.insertBefore(this.element.lastElementChild,this.element.firstElementChild)},e.prototype.deactivate=function(t){this.tabs.forEach(function(e){return e.setActive(e===t)})},e.prototype.markup=function(){return'\n              <div class="tabs is-center {{tabClass}}">\n                  <ul {{tabs}}></ul>\n              </div>'},__decorate([i()],e.prototype,"tabs",void 0),__decorate([i()],e.prototype,"tabClass",void 0),__decorate([l("activate-tab")],e.prototype,"deactivate",null),__decorate([s()],e.prototype,"markup",null),e=__decorate([r({selector:"tabs",attributes:["tabs-class"]})],e)}(t),o.Tabs=n}(feather||(feather={})),function(u){!function(e){var i,t,n=u.ui.events.GestureWidget,o=u.annotations.Construct,r=u.event.On,a=u.hub.Subscribe,s=u.ui.events.tapDistance,l=u.ui.events.PanPhase;(t=i=e.Direction||(e.Direction={}))[t.Previous=0]="Previous",t[t.Next=1]="Next",t[t.None=2]="None";var c=function(n){function e(e){var t=n.call(this)||this;return t.width=+e,t}return __extends(e,n),e.prototype.onPan=function(e){var t=this.element;if(!t.classList.contains("animate")){var n=__assign({},e.detail),o=n.diffX,r=n.time;switch(n.phase){case l.start:this.direction=i.None,this.transitionEnd();break;case l.move:t.style.transform="translateX("+o+"px)";break;case l.stop:Math.abs(o)>s&&(t.classList.add("animate"),r<200?this.navigate(o):this.width-Math.abs(o)<.5*this.width?this.navigate(o):t.style.transform="translateX(0)")}}},e.prototype.navigate=function(e){var t=this.element;0<e?(this.direction=i.Previous,t.style.transform="translateX("+this.width+"px)"):(this.direction=i.Next,t.style.transform="translateX("+-this.width+"px)")},e.prototype.transitionEnd=function(){this.element.classList.remove("animate"),this.direction!==i.None&&this.triggerUp("snap-scroll-moved",this.direction)},e.prototype.snapScrollReset=function(){var e=this.element;e.classList.remove("animate"),e.style.transform="translateX(0)"},e.prototype.snapScrollPrevious=function(){this.element.classList.add("animate"),this.navigate(1)},e.prototype.snapScrollNext=function(){this.element.classList.add("animate"),this.navigate(-1)},__decorate([r({event:"panX",selector:".snap-scroll"})],e.prototype,"onPan",null),__decorate([r({event:"transitionend"})],e.prototype,"transitionEnd",null),__decorate([a("snap-scroll-reset")],e.prototype,"snapScrollReset",null),__decorate([a("snap-scroll-previous")],e.prototype,"snapScrollPrevious",null),__decorate([a("snap-scroll-next")],e.prototype,"snapScrollNext",null),e=__decorate([o({selector:".snap-scroll",attributes:["width"]})],e)}(n);e.SnapScroll=c}(u.ui||(u.ui={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l,c,u,d;t=e.ui||(e.ui={}),n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,i=e.ui.events.PanPhase,a=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,l=e.ui.events.tapEvents,c=e.observe.Bind,u=e.annotations.Template,d=function(t){function e(){var e=t.call(this)||this;return e.id="horizontal-split",e.width=200,e.draggingClass=function(e){return e?"dragging":void 0},e.closeHandler=e.closeHandler.bind(e),e}return __extends(e,t),e.prototype.init=function(e){this.render(),e.appendChild(e.children[1]),this.applyWidth(this.width)},e.prototype.clicked=function(e,t){var n=this.element.firstElementChild;if(e.target===n){var o=n.classList;o.toggle("open"),o.contains("open")?a(l,document,this.closeHandler):s(l,document,this.closeHandler)}},e.prototype.closeHandler=function(e){var t=this.element.firstElementChild;e.target===t||t.contains(e.target)||(t.classList.remove("open"),s(l,document,this.closeHandler))},e.prototype.onPanX=function(e){switch(__assign({},e.detail).phase){case i.start:this.dragging=!0;break;case i.move:this.applyWidth(this.width=e.clientX);break;case i.stop:this.dragging=!1}},e.prototype.applyWidth=function(e){this.element.firstElementChild.style.width=this.width+"px"},e.prototype.markup=function(){return'<div class="dragger {{dragging:draggingClass}}" width="{{width}}"></div>'},__decorate([c()],e.prototype,"dragging",void 0),__decorate([c({localStorage:!0})],e.prototype,"width",void 0),__decorate([r({event:l.join(" "),selector:"sidebar"})],e.prototype,"clicked",null),__decorate([r({event:"panX",selector:".dragger"})],e.prototype,"onPanX",null),__decorate([u()],e.prototype,"markup",null),e=__decorate([o({selector:"horizontal-split"})],e)}(n),t.HorizontalSplit=d}(feather||(feather={})),function(e){var t,n,o,r,i;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=e.arrays.from,i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){var t=document.createElement("div");t.classList.add("inner-scroll-pane"),r(e.childNodes).forEach(function(e){return t.appendChild(e)}),e.appendChild(t)},t=__decorate([o({selector:"scroll-pane"})],t)}(n),t.ScrollPane=i}(feather||(feather={})),function(e){var t,n,o,r;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([o({selector:"panel"})],t)}(n),t.Panel=r}(feather||(feather={})),function(e){var t,n,o,r;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([o({selector:"sidebar"})],t)}(n),t.Sidebar=r}(feather||(feather={})),function(e){var t;(function(e){var n={months:"JanuaryFebruaryMarchAprilMayJuneJuliAugustSeptemberOctoberNovemberDecember".split(/(?=[A-Z])/),weekdays:"SundayMondayTuesdayWednesdayThursdayFridaySaturday".split(/(?=[A-Z])/)},o=function(e,t){return e.indexOf(e.filter(function(e){return~e.indexOf(t)})[0])},r=["th","st","nd","rd"],d={D:["Date"],M:["Month","addOne"],Y:["FullYear"],YY:["FullYear","year",-2],MMM:["Month","month",3],MMMM:["Month","month"],h:["Hours","hours"],H:["Hours"],m:["Minutes"],s:["Seconds"],S:["Milliseconds"],w:["Day"],d:["Date","marker"],a:["Hours","ampm"],www:["Day","days",3],wwww:["Day","days"],t:["Time"]};"DMhHmsw".split("").forEach(function(e){return d[e+e]=[d[e][0],d[e][1],d[e][2],"00"]});var t,i=/[A-Za-z]+/g,p=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,a=function(){function e(e,t){var n=this;this.month=function(e){return n.months[e]},this.monthRev=function(e){return o(n.months,e)},this.year=function(e){return e},this.yearRev=function(e){return+e+2e3},this.addOne=function(e){return e+1},this.addOneRev=function(e){return e-1},this.days=function(e){return n.weekdays[e]},this.daysRev=function(e){return o(n.weekdays,e)},this.ampm=function(e){return e/12|0?"PM":"AM"},this.ampmRev=function(e,t,n){return t.getHours()+("PM"===e?12:0)},this.hours=function(e){return e%12},this.marker=function(e){return e+r[3<e%10?0:(e%100-e%10==10?0:1)*e%10]},this.markerRev=function(e){return+e},this.months=e,this.weekdays=t}return e.prototype.format=function(a,e){var s=this;return e.replace(i,function(e){return d[e]?function(e,t,n,o){var r,i=a["get"+e]();return t&&(i=t.split(".").reduce(function(e,t){return e[t]},s)(i)),i+="",o&&(i=((r=o)+i).slice(-r.length)),n&&(i=n<0?i.slice(n):i.substr(0,n)),i}.apply(s,d[e]):e})},e.prototype.parse=function(e,t){var n,o,r,i=this,a=new Date,s=[],l=t.replace(p,"\\$&").replace(/[A-Za-z]+/g,function(e){return(n=d[e])?(o="set"+n[0],a[o]?(s.push(n),"(#)"):"#"):e}),c=new RegExp("^"+l.replace(new RegExp("#","g"),"\\w+")+"$"),u=c.exec(e);if(!u)throw Error("Date parsing failed for "+c);return u.forEach(function(e,t){0!==t&&(o=s[t-1],r=i[o[1]+"Rev"],a["set"+o[0]](r?r(e,a):e))}),a},e}();e.DateFormat=a,e.format=function(e,t){return new a(n.months,n.weekdays).format(e,t)},e.parse=function(e,t){return new a(n.months,n.weekdays).parse(e,t)},e.dayOffset=function(e,t){return new Date(+e+24*t*60*60*1e3)},e.monthOffset=function(e,t){var n=new Date(+e);return n.setMonth(n.getMonth()+t),n},e.yearOffset=function(e,t){var n=new Date(+e);return n.setFullYear(n.getFullYear()+t),n},(t=e.Weekday||(e.Weekday={}))[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",e.precedingDay=function(e,t){var n=new Date(+e);return n.setDate(n.getDate()-(e.getDay()+(7-t))%7),n}})((t=e.ui||(e.ui={})).date||(t.date={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=t.date||(t.date={}),o=e.ui.events.GestureWidget,r=e.annotations.Template,i=e.observe.Bind,a=e.ui.date.format,s=e.event.On,l=function(n){function e(e){var t=n.call(this)||this;return t.asLongMonth=function(){return a(t.date,"MMM")},t.asYear=function(){return a(t.date,"Y")},t.date=e,t}return __extends(e,n),e.prototype.renderMonth=function(){return'<li class="month-of-year">{{date:asLongMonth}}</li>'},e.prototype.renderYear=function(){return'<li class="year">{{date:asYear}}</li>'},e.prototype.clickedMonth=function(){this.triggerUp("go-to-date",this.date)},__decorate([i()],e.prototype,"date",void 0),__decorate([r("month")],e.prototype,"renderMonth",null),__decorate([r("year")],e.prototype,"renderYear",null),__decorate([s({event:"tap"})],e.prototype,"clickedMonth",null),e}(o),n.MonthOrYear=l}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=t.date||(t.date={}),o=e.ui.events.GestureWidget,r=e.annotations.Template,i=e.observe.Bind,a=e.ui.date.format,s=e.event.On,l=function(o){function e(e,t){var n=o.call(this)||this;return n.offMonth=function(e){return e.getMonth()!==n.month?"off":void 0},n.asNumber=function(){return n.date.getDate()},n.asWeekday=function(){return a(n.date,"www").slice(0,2)},n.today=function(e,t){return void 0===t&&(t=new Date),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?"today":void 0},n.date=e,n.month=t,n}return __extends(e,o),e.prototype.weekdayMarkup=function(){return'<li class="column weekday">{{date:asWeekday}}</li>'},e.prototype.dateMarkup=function(){return'<li class="{{date:offMonth}} {{date:today}}">{{date:asNumber}}</li>'},e.prototype.clickedDay=function(){this.element.classList.contains("weekday")||this.triggerUp("select-to-date",this.date)},__decorate([i()],e.prototype,"date",void 0),__decorate([r("weekday")],e.prototype,"weekdayMarkup",null),__decorate([r("date")],e.prototype,"dateMarkup",null),__decorate([s({event:"tap",bubble:!0})],e.prototype,"clickedDay",null),e}(o),n.Day=l}(feather||(feather={})),function(c){var e;(function(i){var r,e,t=c.core.Widget,n=c.annotations.Template,a=c.observe.Bind,s=c.arrays.range,l=c.ui.date.Day;(e=r=i.Position||(i.Position={}))[e.Previous=0]="Previous",e[e.Normal=1]="Normal",e[e.Next=2]="Next";var o=function(o){function e(e,t){var n=o.call(this)||this;return n.dates=[],n.positionClass=function(e){return r[e].toLowerCase()},n.startDate=e,n.position=t,n}return __extends(e,o),e.prototype.init=function(e){var t,n=this,o=i.precedingDay(this.startDate,i.Weekday.Monday),r=s(0,41).map(function(e){return new l(i.dayOffset(o,e),n.startDate.getMonth())});(t=this.dates).push.apply(t,r)},e.prototype.monthMarkup=function(){return'<ul class="month is-marginless {{position:positionClass}}" {{dates}}></ul>'},__decorate([a({templateName:"date"})],e.prototype,"dates",void 0),__decorate([a()],e.prototype,"position",void 0),__decorate([n()],e.prototype,"monthMarkup",null),e}(t);i.Month=o})((e=c.ui||(c.ui={})).date||(e.date={}))}(feather||(feather={})),function(e){var r,a,t,o,i,s,l,c,u,d,p,f,h,v,y,n;r=e.ui||(e.ui={}),a=r.date||(r.date={}),t=e.annotations.Construct,o=e.annotations.Template,i=e.observe.Bind,s=e.ui.date.precedingDay,l=e.ui.date.Weekday,c=e.ui.date.Position,u=e.ui.date.Day,d=e.hub.Subscribe,p=e.event.On,f=e.ui.events.addMultipleEventListeners,h=e.ui.events.removeMultipleEventListeners,v=e.ui.events.tapEvents,y=e.arrays.range,n=function(n){function e(e){var t=n.call(this,e,{name:"",dateformat:"DD.MM.Y"})||this;return t.startDate=new Date,t.weekdays=[],t.monthsOfYear=[],t.years=[],t.months=[],t.showMonthsOfYear=!1,t.showYears=!1,t.hidden=!0,t.value="",t.month=function(e){return a.format(e,"MMMM")},t.year=function(e){return a.format(e,"Y")},t.openOrClosed=function(e){return e?"open":void 0},t.value=a.format(e.date,t.config.dateformat),t.startDate=e.date,t.currentDate=e.date,t.closeHandler=t.closeHandler.bind(t),t}return __extends(e,n),e.prototype.init=function(e){e.classList.add("form-field","label-on-top"),this.render();var t=new Date(+this.startDate);t.setDate(1);var n=new Date(+this.startDate);n.setDate(1),n.setMonth(0);var o,r=s(t,l.Monday),i=y(0,6).map(function(e){return new u(a.dayOffset(r,e),t.getMonth())});(o=this.weekdays).push.apply(o,i),this.months.push(new a.Month(a.monthOffset(t,-1),c.Previous),new a.Month(a.monthOffset(t,0),c.Normal),new a.Month(a.monthOffset(t,1),c.Next)),this.setCurrentMonthAndYear()},e.prototype.setCurrentMonthAndYear=function(){this.currentDate=new Date(+this.months[1].startDate),this.makeMonthAndYearPanel()},e.prototype.previousMonth=function(){this.triggerDown("snap-scroll-previous"),this.showMonthsOfYear=!1,this.showYears=!1},e.prototype.nextMonth=function(){this.triggerDown("snap-scroll-next"),this.showMonthsOfYear=!1,this.showYears=!1},e.prototype.monthClicked=function(){this.showMonthsOfYear=!this.showMonthsOfYear,this.showYears=!1},e.prototype.yearClicked=function(){this.showYears=!this.showYears,this.showMonthsOfYear=!1},e.prototype.iconClicked=function(){var e=this;this.hidden=!this.hidden,this.hidden?(h(v,document,this.closeHandler),this.closeInnerPanels()):setTimeout(function(){return f(v,document,e.closeHandler)},10)},e.prototype.selectDate=function(e){this.value=a.format(e,this.config.dateformat),this.hidden=!0,this.config.onChange(this.value),h(v,document,this.closeHandler)},e.prototype.goToDate=function(e){var t=new a.Month(a.monthOffset(e,-1),c.Previous),n=new a.Month(a.monthOffset(e,0),c.Normal),o=new a.Month(a.monthOffset(e,1),c.Next);this.months.splice(0,3,t,n,o),this.setCurrentMonthAndYear(),this.closeInnerPanels()},e.prototype.closeInnerPanels=function(){this.showYears=!1,this.showMonthsOfYear=!1,this.triggerDown("snap-scroll-reset")},e.prototype.panelSwitched=function(e){var t=this.months;if(e===r.Direction.Previous){var n=new a.Month(a.monthOffset(t[0].startDate,-1),c.Previous);t[0].position=c.Normal,t[1].position=c.Next,t.unshift(n),t.pop()}else{var o=new a.Month(a.monthOffset(t[2].startDate,1),c.Next);t[1].position=c.Previous,t[2].position=c.Normal,t.push(o),t.shift()}this.setCurrentMonthAndYear(),this.triggerDown("snap-scroll-reset")},e.prototype.makeMonthAndYearPanel=function(){var e,t,n=this.currentDate,o=y(0,11).map(function(e){return new a.MonthOrYear(a.monthOffset(n,-n.getMonth()+e))}),r=y(-4,7).map(function(e){return new a.MonthOrYear(a.yearOffset(n,e))});(e=this.monthsOfYear).splice.apply(e,[0,12].concat(o)),(t=this.years).splice.apply(t,[0,12].concat(r))},e.prototype.closeHandler=function(e){var t=this.element,n=e.target;this.hidden||t.querySelector(".open-in-view").contains(n)||t.querySelector(".icon").contains(n)||(this.hidden=!0,this.closeInnerPanels())},e.prototype.datePickerMarkup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control has-icons-right">\n                  <input class="input" type="text" name="{{config.name}}" value="{{value}}" placeholder="{{config.dateformat}}">\n                  <span class="icon is-small is-right"><i class="fa fa-calendar"></i></span>\n                </p>\n                <div class="calendar open-in-view" {{hidden}}>\n                    <nav class="nav">\n                      <span class="nav-left clickable is-small is-left"><i class="fa fa-angle-left"></i></span>\n                      <span class="nav-center is-marginless">\n                        <span class="month clickable">{{currentDate:month}}<i class="fa fa-angle-down"></i></span>\n                        <span class="year clickable">{{currentDate:year}}<i class="fa fa-angle-down"></i></span>\n                      </span>\n                      <span class="nav-right clickable is-small is-right"><i class="fa fa-angle-right"></i></span>\n                    </nav>\n                    <ul class="columns weekday is-mobile is-desktop is-gapless is-marginless" {{weekdays}}></ul>\n                    <div class="months is-gapless snap-scroll" width="200" {{months}}></div>\n                    <div class="month-selector is-marginless is-gapless {{showMonthsOfYear:openOrClosed}}" {{monthsOfYear}}></div>\n                    <div class="year-selector is-marginless is-gapless {{showYears:openOrClosed}}" {{years}}></div>\n                </div>\n            </div>\n            '},__decorate([i({templateName:"weekday"})],e.prototype,"weekdays",void 0),__decorate([i({templateName:"month"})],e.prototype,"monthsOfYear",void 0),__decorate([i({templateName:"year"})],e.prototype,"years",void 0),__decorate([i()],e.prototype,"months",void 0),__decorate([i()],e.prototype,"currentDate",void 0),__decorate([i()],e.prototype,"showMonthsOfYear",void 0),__decorate([i()],e.prototype,"showYears",void 0),__decorate([i()],e.prototype,"hidden",void 0),__decorate([i()],e.prototype,"value",void 0),__decorate([p({event:"tap",selector:".nav-left"})],e.prototype,"previousMonth",null),__decorate([p({event:"tap",selector:".nav-right"})],e.prototype,"nextMonth",null),__decorate([p({event:"tap",selector:".nav-center .month"})],e.prototype,"monthClicked",null),__decorate([p({event:"tap",selector:".nav-center .year"})],e.prototype,"yearClicked",null),__decorate([p({event:"tap",selector:"input + .icon",bubble:!0})],e.prototype,"iconClicked",null),__decorate([d("select-to-date")],e.prototype,"selectDate",null),__decorate([d("go-to-date")],e.prototype,"goToDate",null),__decorate([d("snap-scroll-moved")],e.prototype,"panelSwitched",null),__decorate([o()],e.prototype,"datePickerMarkup",null),e=__decorate([t({selector:"datepicker",attributes:["config"]})],e)}(e.ui.types.FormComponent),a.DatePicker=n}(feather||(feather={})),function(e){var t,o,r,i,n,a,s;t=e.ui||(e.ui={}),o=feather.event.On,r=feather.observe.Bind,i=feather.annotations.Template,n=feather.ui.types.FormComponent,a=feather.event.Scope,s=function(n){function e(e){var t=n.call(this,e)||this;return t.checked=e.checked,t.id=e.name+"-"+e.order,t}return __extends(e,n),e.prototype.clicked=function(){this.checked=this.input.checked,this.config.onChange(this.config.value)},e.prototype.init=function(e){this.input=e.querySelector("input")},e.prototype.markup=function(){return'\n            <div class="field">\n               <input class="is-checkradio has-no-border"\n                      type="radio"\n                      id={{id}}\n                      name={{config.name}}\n                      {{checked}}>\n               <label for={{id}}>\n                  {{config.label:translate}}\n               </label>\n            </div>'},__decorate([r()],e.prototype,"label",void 0),__decorate([r()],e.prototype,"checked",void 0),__decorate([r()],e.prototype,"id",void 0),__decorate([o({event:"change",selector:"input",scope:a.Direct})],e.prototype,"clicked",null),__decorate([i()],e.prototype,"markup",null),e}(n),t.RadioWidget=s}(quill||(quill={})),function(e){var a,t,n,o,r,i;a=e.ui||(e.ui={}),t=feather.ui.types.FormComponent,n=feather.observe.Bind,o=feather.annotations.Template,r=feather.annotations.Construct,i=function(i){function e(n,o){var e=i.call(this,n)||this;e.radios=[];var t,r=n.radios.map(function(e,t){return new a.RadioWidget({label:e.key,name:n.name,checked:e.value===o,value:e.value,order:t,onChange:function(e){return n.onChange(e)}})});return(t=e.radios).splice.apply(t,[0,e.radios.length].concat(r)),e}return __extends(e,i),e.prototype.init=function(e){this.render()},e.prototype.markup=function(){return'<div class="is-horizontal">\n                <div class="field-body" {{radios}}></div>\n            </div>'},__decorate([n()],e.prototype,"radios",void 0),__decorate([o()],e.prototype,"markup",null),e=__decorate([r({selector:"RadioSet",attributes:["config","selected"]})],e)}(t),a.RadioSet=i}(quill||(quill={})),function(e){var t,o,r,n,i,a,s;t=e.ui||(e.ui={}),o=e.annotations.Construct,r=e.annotations.Template,n=e.ui.types.FormComponent,i=e.event.On,a=e.observe.Bind,s=function(n){function e(e){var t=n.call(this,e)||this;return t.asLabel=function(e){return e?t.config.labelOn:t.config.labelOff},t.checked=e.checked,t}return __extends(e,n),e.prototype.clicked=function(){this.checked=this.input.checked,this.config.onChange(this.checked)},e.prototype.init=function(e){this.render(),this.input=e.querySelector("input")},e.prototype.asCheckbox=function(){return'\n            <div class="field">\n                <label class="label">{{config.label}}</label>\n                <label>\n                  <input type="checkbox" checked="{{checked}}">\n                  <span class="clickable">{{checked:asLabel}}</span>\n                </label>\n            </div>'},__decorate([a()],e.prototype,"checked",void 0),__decorate([i({event:"change",selector:"label + label"})],e.prototype,"clicked",null),__decorate([r()],e.prototype,"asCheckbox",null),e=__decorate([o({selector:"checkbox",attributes:["config"]})],e)}(n),t.Checkbox=s}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l,c,u;t=e.ui||(e.ui={}),n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,i=e.ui.events.GestureWidget,a=e.event.On,s=e.hub.Subscribe,l=e.ui.utils.focusElement,c=["fontSize","fontFamily","fontWeight","letterSpacing","textTransform"],u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value="",e}return __extends(e,t),e.prototype.onTextChange=function(){this.value=this.input.value,this.input.style.width=this.span.getBoundingClientRect().width+5+"px"},e.prototype.init=function(e){var n=this;this.render(),this.input=e.querySelector("input"),this.span=e.querySelector("span"),setTimeout(function(){var t=window.getComputedStyle(n.input);c.forEach(function(e){return n.span.style[e]=t[e]})},50)},e.prototype.clear=function(e){this.value=this.input.value="",e&&l(this.input)},e.prototype.markup=function(){return'\n                <span>{{value}}</span>\n                <input type="text">'},__decorate([o({})],e.prototype,"value",void 0),__decorate([a({event:"textchange",selector:"input",bubble:!0})],e.prototype,"onTextChange",null),__decorate([s("autogrow-clear")],e.prototype,"clear",null),__decorate([r()],e.prototype,"markup",null),e=__decorate([n({selector:"auto-grow-input"})],e)}(i),t.AutoGrowInput=u}(feather||(feather={})),function(e){var t,n,o,r,i,a,s;t=e.ui||(e.ui={}),n=e.observe.Bind,o=e.annotations.Template,r=e.ui.events.GestureWidget,i=e.event.On,a=e.hub.Subscribe,s=function(r){function e(e,t,n){var o=r.call(this)||this;return o.selected=!1,o.selectedClass=function(e){return e?"selected":void 0},o.iconClass=function(e){return"fa-"+e},o.name=e,o.icon=t,o.value=n,o}return __extends(e,r),e.prototype.init=function(e){this.selectable=e.classList.contains("selectable")},e.prototype.copy=function(){return new e(this.name,this.icon,this.value)},e.prototype.selectedValue=function(){this.triggerUp("value-selected",this),this.selected=!0},e.prototype.clickedValue=function(){this.triggerUp("value-clicked",this),this.selected=!this.selected},e.prototype.deselect=function(e){this.selectable&&this!==e&&(this.selected=!1)},e.prototype.select=function(e){this.selectable&&this===e&&(this.selected=!0)},e.prototype.asValue=function(){return'<li class="clickable {{selected:selectedClass}}"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},e.prototype.asDropdownValue=function(){return'<li class="clickable"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},e.prototype.asSelectedValue=function(){return'<li class="selectable {{selected:selectedClass}}"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},__decorate([n()],e.prototype,"name",void 0),__decorate([n()],e.prototype,"selected",void 0),__decorate([n()],e.prototype,"icon",void 0),__decorate([i({event:"tap",selector:".selectable"})],e.prototype,"selectedValue",null),__decorate([i({event:"tap",selector:".clickable"})],e.prototype,"clickedValue",null),__decorate([a("deselect-other-values")],e.prototype,"deselect",null),__decorate([a("select-value")],e.prototype,"select",null),__decorate([o("value")],e.prototype,"asValue",null),__decorate([o("dropdown-value")],e.prototype,"asDropdownValue",null),__decorate([o("selectable-value")],e.prototype,"asSelectedValue",null),e}(r),t.ChooserValue=s}(feather||(feather={})),function(e){var t,n,o,i,a,s,l,c,u,r;t=e.ui||(e.ui={}),n=e.annotations.Construct,o=e.observe.Bind,i=e.annotations.Template,a=e.event.On,s=e.ui.events.addMultipleEventListeners,l=e.ui.events.removeMultipleEventListeners,c=e.ui.events.tapEvents,u=e.hub.Subscribe,r=function(r){function e(t){var e=r.call(this,t)||this;e.hidden=!0,e.selectedValue=[],e.values=[],e.selectedIndex=-1;var n,o=t.initialValue||t.values[0];return e.selectedValue.push(t.converter(o)),(n=e.values).push.apply(n,t.values.map(function(e){return t.converter(e)})),e.closeHandler=e.closeHandler.bind(e),e.keyHandler=e.keyHandler.bind(e),e}return __extends(e,r),e.prototype.init=function(e){e.classList.add("single-value"),this.render()},e.prototype.onSelected=function(e){this.selectedValue.splice(0,this.selectedValue.length,e.copy()),this.closeHandler(),this.config.onChange(e.value)},e.prototype.onClicked=function(){this.clicked()},e.prototype.clicked=function(){this.hidden?this.open():this.closeHandler()},e.prototype.keyHandler=function(e){27===e.keyCode&&this.closeHandler(),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var t=this.values.length;if(t&&(40===e.keyCode&&(e.preventDefault(),this.selectedIndex++,this.selectedIndex>t-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=t-1)),40===e.keyCode||38===e.keyCode)){e.preventDefault();var n=this.values[this.selectedIndex];this.triggerDown("select-value",n),this.triggerDown("deselect-other-values",n)}},e.prototype.open=function(){this.triggerDown("deselect-other-values"),this.hidden=!1,s(c,document,this.closeHandler),s(["keydown"],document,this.keyHandler)},e.prototype.closeHandler=function(e){this.hidden||e&&this.element.querySelector(".values").contains(e.target)||(l(c,document,this.closeHandler),l(["keydown"],document,this.keyHandler),this.hidden=!0,this.selectedIndex=-1)},e.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <div class="selected-values dropdown">\n                  <ul {{selectedValue}}></ul>\n                  <div class="buttons">\n                    <Icon class="clickable" name="angle-down"/>\n                  </div>\n                </div>\n                <ul class="values" {{hidden}} {{values}}></ul>\n            </div>'},__decorate([o()],e.prototype,"hidden",void 0),__decorate([o()],e.prototype,"value",void 0),__decorate([o({templateName:"dropdown-value"})],e.prototype,"selectedValue",void 0),__decorate([o({templateName:"selectable-value"})],e.prototype,"values",void 0),__decorate([u("value-selected")],e.prototype,"onSelected",null),__decorate([u("value-clicked")],e.prototype,"onClicked",null),__decorate([a({event:"tap",selector:".selected-values"})],e.prototype,"clicked",null),__decorate([i()],e.prototype,"markup",null),e=__decorate([n({selector:"dropdown",attributes:["config"]})],e)}(e.ui.types.FormComponent),t.Dropdown=r}(feather||(feather={})),function(e){var t,n,r,i,a,s,l,c,u,d,p,f,h,o;t=e.ui||(e.ui={}),n=e.annotations.Construct,r=e.observe.Bind,i=e.annotations.Template,a=e.event.On,s=e.event.Scope,l=e.xhr.Rest,c=e.ui.utils.focusElement,u=e.ui.events.addMultipleEventListeners,d=e.ui.events.removeMultipleEventListeners,p=e.ui.events.tapEvents,f=e.hub.Subscribe,h=e.arrays.removeFromArray,o=function(o){function e(t){var e,n=o.call(this,t,{maxItems:6})||this;return n.values=[],n.selectedValues=[],n.hidden=!0,n.fetching=!1,n.selectedIndex=-1,n.fetchingClass=function(e){return e?"fetching":void 0},n.selectedCount=function(e){return e.length},t.initialValue&&(Array.isArray(t.initialValue)?(e=n.selectedValues).push.apply(e,t.initialValue.map(function(e){return t.converter(e)})):n.selectedValues.push(t.converter(t.initialValue))),n.url=t.url,n.closeHandler=n.closeHandler.bind(n),n}return __extends(e,o),e.prototype.init=function(e){this.config.singleValue&&e.classList.add("single-value"),this.render()},e.prototype.textChanged=function(e){this.url&&(this.keyword=e.target.value,/^\s*$/.test(this.keyword)?this.values.splice(0,this.values.length):(this.fetching=!0,this.open(),this.lastFetch&&this.lastFetch.abort(),this.lastFetch=this.fetchData()))},e.prototype.fetchData=function(e){var t,n=this;this.fetching=!1,(t=this.values).splice.apply(t,[0,this.values.length].concat(e.slice(0,this.config.maxItems).map(function(e){return n.config.converter(e)})))},e.prototype.onValueClicked=function(e){this.config.singleValue&&(this.selectedValues.pop(),this.previous=e),c(this.element.querySelector("input"))},e.prototype.onSelected=function(e){this.previous=void 0,this.config.singleValue?this.selectedValues.splice(0,this.selectedValues.length,e.copy()):this.selectedValues.push(e.copy()),this.notifyChange(),this.closeHandler(),this.triggerDown("autogrow-clear",!0),this.triggerDown("deselect-other-values",e)},e.prototype.notifyChange=function(){var e=this.selectedValues.map(function(e){return e.value});this.config.onChange(this.config.singleValue?e[0]:e)},e.prototype.emptySpaceClicked=function(e,t){e.target===t&&c(this.element.querySelector("input"))},e.prototype.blurred=function(){this.hidden&&(this.closeHandler(),this.restorePrevious())},e.prototype.restorePrevious=function(){this.config.singleValue&&void 0!==this.previous&&this.selectedValues.splice(0,this.selectedValues.length,this.previous.copy())},e.prototype.focused=function(e){this.textChanged(e)},e.prototype.deleteClicked=function(){this.previous=void 0;var e=this.selectedValues,t=e.filter(function(e){return e.selected});0===t.length?e.splice(0,e.length):h(e,t),this.notifyChange()},e.prototype.controlKeyPressed=function(e,t){8===e.keyCode&&!e.target.value.length&&0<this.selectedValues.length&&this.selectedValues.pop(),27===e.keyCode&&(t.blur(),t.value="",this.closeHandler(),this.restorePrevious()),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var n=this.values.length;if(n&&(40===e.keyCode&&(e.preventDefault(),this.selectedIndex++,this.selectedIndex>n-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=n-1)),40===e.keyCode||38===e.keyCode)){var o=this.values[this.selectedIndex];this.triggerDown("select-value",o),this.triggerDown("deselect-other-values",o)}},e.prototype.open=function(){this.hidden=!1,u(p,document,this.closeHandler)},e.prototype.closeHandler=function(e){this.hidden||e&&this.element.contains(e.target)||(d(p,document,this.closeHandler),this.hidden=!0,this.selectedIndex=-1)},e.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <div class="selected-values">\n                  <ul count="{{selectedValues:selectedCount}}" {{selectedValues}}>\n                    <li><auto-grow-input/></li>\n                  </ul>\n                  <div class="buttons">\n                    <button class="delete is-small"></button>\n                  </div>\n                </div>\n                <ul class="values {{fetching:fetchingClass}}" {{hidden}} {{values}}></ul>\n            </div>'},__decorate([r({templateName:"selectable-value"})],e.prototype,"values",void 0),__decorate([r({templateName:"value"})],e.prototype,"selectedValues",void 0),__decorate([r()],e.prototype,"hidden",void 0),__decorate([r()],e.prototype,"fetching",void 0),__decorate([a({event:"textchange",selector:'input[type="text"]'})],e.prototype,"textChanged",null),__decorate([l({url:"{{config.url}}{{keyword}}"})],e.prototype,"fetchData",null),__decorate([f("value-clicked")],e.prototype,"onValueClicked",null),__decorate([f("value-selected")],e.prototype,"onSelected",null),__decorate([a({event:"tap",selector:".selected-values > ul",bubble:!0})],e.prototype,"emptySpaceClicked",null),__decorate([a({event:"blur",selector:'input[type="text"]',scope:s.Direct})],e.prototype,"blurred",null),__decorate([a({event:"focus",selector:'input[type="text"]',scope:s.Direct})],e.prototype,"focused",null),__decorate([a({event:"tap",selector:".delete"})],e.prototype,"deleteClicked",null),__decorate([a({event:"keydown",selector:"input"})],e.prototype,"controlKeyPressed",null),__decorate([i()],e.prototype,"markup",null),e=__decorate([n({selector:"chooser",attributes:["config"]})],e)}(e.ui.types.FormComponent),t.Chooser=o}(feather||(feather={})),function(e){var t,o,r,n,i,a;t=e.ui||(e.ui={}),o=e.annotations.Construct,r=e.annotations.Template,n=e.ui.types.FormComponent,i=e.event.On,a=function(n){function e(e){var t=n.call(this,e,{placeholder:"",type:"text",icon:null,value:"",autofocus:!1})||this;return t.iconClass=function(e){return"fa-"+e},t.errorClass=function(e){return e?"is-warning":void 0},t}return __extends(e,n),e.prototype.init=function(){this.config.icon?this.render("with-icon"):this.render("without-icon")},e.prototype.onTextChange=function(e,t){this.config.onChange(t.value)},e.prototype.withIcon=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control has-icons-left">\n                  <input type="{{config.type}}"\n                         class="input {{error:errorClass}}"\n                         value="{{config.value}}"\n                         placeholder="{{config.placeholder}}"\n                         autofocus="{{config.autofocus}}">\n                  <span class="icon is-small is-left">\n                    <i class="fa {{config.icon:iconClass}}"></i>\n                  </span>\n                </p>\n            </div>'},e.prototype.withoutIcon=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control">\n                  <input type="{{config.type}}"\n                         class="input"\n                         value="{{config.value}}"\n                         placeholder="{{config.placeholder}}"\n                         autofocus="{{config.autofocus}}">\n                </p>\n            </div>'},__decorate([i({event:"textchange",selector:"input"})],e.prototype,"onTextChange",null),__decorate([r("with-icon")],e.prototype,"withIcon",null),__decorate([r("without-icon")],e.prototype,"withoutIcon",null),e=__decorate([o({selector:"text",attributes:["config"]})],e)}(n),t.TextInput=a}(feather||(feather={})),function(e){var t,n,o,r;(t=e.Keys||(e.Keys={}))[t.ENTER=13]="ENTER",(n=e.MultilineEditor||(e.MultilineEditor={})).normal="normal",n.richtext="richtext",n.markdown="markdown",(o=e.NumberEditor||(e.NumberEditor={})).input="input",o.slider="slider",(r=e.BooleanEditor||(e.BooleanEditor={})).checkbpx="checkbox",r.switch="switch"}(quill||(quill={})),function(e){e.Key={Left:["Left","ArrowLeft"],Right:["Right","ArrowRight"],Up:["Up","ArrowUp"],Down:["Down","ArrowDown"],Esc:["Esc","Escape"],Enter:["Enter","Return"],Plus:["+Equal","+"],C:["C","KeyC"]},e.isKey=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return!![].concat.apply([],e).find(function(e){var t=n.code||n.key;return"+"===e.charAt(0)&&1<e.length?n.shiftKey&&e.substr(1).toLocaleLowerCase()===t.toLowerCase():e.toLocaleLowerCase()===t.toLowerCase()})}}(keys||(keys={})),function(n){var t=feather.ui.tree.TreeNodeIcon,o=feather.ui.findClippedParent,i={},e=function(){for(var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(t," "))},r=window.location.search.substring(1);e=n.exec(r);)i[o(e[1])]=o(e[2])};window.addEventListener("popstate",e),e(),n.getQueryStringParam=function(e){return i[e]},n.iconFor=function(e){switch(e){case"string":return t.text;case"number":return t.number;case"enum":return t.enum;case"list":return t.array;case"boolean":return t.boolean;default:return t.config}},n.flattenTree=function(e){return(t=[e]).concat.apply(t,e.children.map(n.flattenTree));var t},n.scrollElementIntoView=function(e){var t=o(e).getBoundingClientRect(),n=e.getBoundingClientRect();(n.top<=t.top||n.bottom>=t.bottom)&&e.scrollIntoView()}}(quill||(quill={})),function(t){var e,n="X-Auth-Token";t.headers=((e={"X-Api-Key":"AbCdEfGhIjK1","Content-Type":"application/json","Accept-Language":"en"})[n]=localStorage.getItem(n),e),t.setToken=function(e){localStorage.setItem(n,e.token),t.headers[n]=e.token},t.removeToken=function(){localStorage.removeItem(n),t.headers[n]=void 0}}(quill||(quill={}));var _this=this,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,feather,quill,quill;window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(_this.document||_this.ownerDocument).querySelectorAll(e),o=_this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),function(e){!function(e){var n=feather.annotations.Template,o=feather.annotations.Construct,t=feather.ui.events.GestureWidget,r=feather.hub.Subscribe,i=feather.core.Widget,a=feather.observe.Bind,s=feather.event.On,l=keys.isKey,c=keys.Key,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.successButton=function(){return"ui.modal.ok"},e.cancelButton=function(){return"ui.modal.cancel"},e}return __extends(e,t),e.prototype.escKey=function(e){l(e,c.Esc)&&this.triggerUp("close-modal")},__decorate([s({event:"keydown"})],e.prototype,"escKey",null),e}(i);e.ModalWidget=u;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modal=[],e.showing=!1,e.title="ui.modal.title",e.successButton="ui.modal.ok",e.cancelButton="ui.modal.cancel",e.toActive=function(e){return e?"is-active":void 0},e}return __extends(e,t),e.prototype.init=function(){this.render()},e.prototype.closeCall=function(){this.close()},e.prototype.show=function(e){this.lastFocussedElement=document.activeElement,this.modal.splice(0,this.modal.length,e),this.title=e.getTitle(),this.successButton=e.successButton(),this.cancelButton=e.cancelButton(),this.showing=!0,e.element.setAttribute("tabindex","-1"),e.element.focus()},e.prototype.close=function(){this.showing=!1,this.lastFocussedElement&&this.lastFocussedElement.focus()},e.prototype.closeButtons=function(){this.close()},e.prototype.okClicked=function(){this.triggerDown("ok-clicked")},e.prototype.markup=function(){return'<div class="modal {{showing:toActive}}">\n              <div class="modal-background"/>\n              <div class="modal-card is-small">\n                <header class="modal-card-head">\n                  <p class="modal-card-title">{{title:translate}}</p>\n                  <button class="delete" aria-label="close"/>\n                </header>\n                <section class="modal-card-body is-small" {{modal}}/>\n                <footer class="modal-card-foot">\n                  <button class="button is-inverted ok">{{successButton:translate}}</button>\n                  <button class="button is-inverted cancel">{{cancelButton:translate}}</button>\n                </footer>\n              </div>\n            </div>'},__decorate([a()],e.prototype,"modal",void 0),__decorate([a()],e.prototype,"showing",void 0),__decorate([a()],e.prototype,"title",void 0),__decorate([a()],e.prototype,"successButton",void 0),__decorate([a()],e.prototype,"cancelButton",void 0),__decorate([r("close-modal")],e.prototype,"closeCall",null),__decorate([r("show-modal")],e.prototype,"show",null),__decorate([r("close-modal"),s({event:"mousedown",selector:".modal-background"})],e.prototype,"close",null),__decorate([s({event:"click",selector:"button.cancel,button.delete"})],e.prototype,"closeButtons",null),__decorate([s({event:"click",selector:"button.ok"})],e.prototype,"okClicked",null),__decorate([n()],e.prototype,"markup",null),e=__decorate([o({selector:"modal-manager",singleton:!0})],e)}(t);e.ModalManager=d}(e.modal||(e.modal={}))}(quill||(quill={})),function(e){var t,o,n;t=e.modal||(e.modal={}),o=feather.annotations.Template,n=function(n){function e(e){var t=n.call(this)||this;return t.project=e,t}return __extends(e,n),e.prototype.getTitle=function(){return"ui.modal.project-config.title"},e.prototype.markup=function(){return'<div class="">Project Config</div>'},__decorate([o()],e.prototype,"markup",null),e}(t.ModalWidget),t.ProjectConfig=n}(quill||(quill={})),function(i){var e,t,n,o,a,s,l,r;e=i.modal||(i.modal={}),t=feather.annotations.Template,n=feather.ui.tree.TreeNodeIcon,o=feather.hub.Subscribe,a=feather.xhr.Rest,s=feather.xhr.Method,l={string:"tab.string",text:"tab.string",number:"tab.number",fraction:"tab.number",date:"tab.date",datetime:"tab.date",boolean:"tab.boolean",list:"tab.list",enum:"tab.list"},r=function(r){function e(e,t,n){var o=r.call(this)||this;return o.multilineRadioConfig={label:"ui.modal.node-config.multi-line.type",name:"multiline-type",radios:[{key:"ui.modal.node-config.multi-line.normal",value:i.MultilineEditor.normal},{key:"ui.modal.node-config.multi-line.richtext",value:i.MultilineEditor.richtext},{key:"ui.modal.node-config.multi-line.markdown",value:i.MultilineEditor.markdown}],onChange:function(e){o.nodeConfig.multiline.editor=e}},o.node=e,o.nodeConfig=t,o.configured=n,o}return __extends(e,r),e.prototype.init=function(e){this.triggerDown("tab-key-activate",this.nodeConfig.nodeType);var t=l[this.nodeConfig.nodeType];t!==this.nodeConfig.nodeType&&this.triggerDown("tab-key-activate",t)},e.prototype.okClicked=function(){this.saveConfig()},e.prototype.saveConfig=function(e){this.configured(e),this.triggerUp("close-modal")},e.prototype.getTitle=function(){return"ui.modal.node-config.title"},e.prototype.activateTab=function(e){var t=e.getTabKey();/^tab\..*$/.test(t)?this.nodeConfig.nodeType=e.container.querySelector("[tab-key]:not([hidden])").getAttribute("tab-key"):this.nodeConfig.nodeType=t},e.prototype.markup=function(){return'\n            <tabs tabs-class="is-boxed">\n                '+this.textTab()+"\n                "+this.numberTab()+"\n                "+this.dateTab()+"\n                "+this.boolTab()+"\n                "+this.listTab()+"\n            </tabs>"},e.prototype.listTab=function(){return'\n            <div title="ui.modal.node-config.tabs.list"\n                 tab-key="tab.list"\n                 icon='+n.array+'>\n                 <tabs class="vertical">\n                    '+this.infiniteList()+"\n                    "+this.enumeration()+"\n                </tabs>\n            </div>"},e.prototype.infiniteList=function(){return'\n            <div title="ui.modal.node-config.list.title"\n                 icon="database"\n                 tab-key="list" active>\n                ABC\n            </div>'},e.prototype.enumeration=function(){return'\n            <div title="ui.modal.node-config.enumeration.title"\n                 tab-key="enum"\n                 icon="list-alt">\n                ABC\n            </div>'},e.prototype.boolTab=function(){return'\n            <div title="ui.modal.node-config.tabs.boolean"\n                 tab-key="boolean"\n                 icon='+n.boolean+"></div>"},e.prototype.dateTab=function(){return'\n            <div title="ui.modal.node-config.tabs.date"\n                 tab-key="tab.date"\n                 icon='+n.date+'>\n                <tabs class="vertical">\n                    '+this.date()+"\n                    "+this.datetime()+"\n                </tabs>\n            </div>"},e.prototype.date=function(){return'\n            <div title="ui.modal.node-config.date.title"\n                 tab-key="date"\n                 icon="calendar" active>\n                ABC\n            </div>'},e.prototype.datetime=function(){return'\n            <div title="ui.modal.node-config.datetime.title"\n                  tab-key="datetime"\n                 icon="clock-o">\n                ABC\n            </div>'},e.prototype.numberTab=function(){return'\n                <div title="ui.modal.node-config.tabs.number"\n                     tab-key="tab.number"\n                     icon='+n.number+'>\n                    <tabs class="vertical">\n                        '+this.integer()+"\n                        "+this.fractions()+"\n                    </tabs>\n                </div>"},e.prototype.integer=function(){return'\n            <div title="ui.modal.node-config.integer.title"\n                 tab-key="number"\n                 icon="thermometer" active>\n                ABC\n            </div>'},e.prototype.fractions=function(){return'\n            <div title="ui.modal.node-config.fraction.title"\n                 tab-key="fraction"\n                 icon="pie-chart">\n                ABC\n            </div>'},e.prototype.textTab=function(){return'\n            <div title="ui.modal.node-config.tabs.text"\n                 tab-key="tab.string"\n                 icon='+n.text+' active>\n                <tabs class="vertical">\n                    '+this.singleLine()+"\n                    "+this.multiLine()+"\n                </tabs>\n            </div>"},e.prototype.singleLine=function(){return'\n            <div title="ui.modal.node-config.single-line.title"\n                 tab-key="string"\n                 icon="font" active>\n                ABC\n            </div>'},e.prototype.multiLine=function(){return'\n            <div title="ui.modal.node-config.multi-line.title"\n                 tab-key="text"\n                 icon="align-justify">\n                <RadioSet config={multilineRadioConfig}\n                          selected={nodeConfig.multiline.editor}/>\n            </div>'},__decorate([o("ok-clicked")],e.prototype,"okClicked",null),__decorate([a({url:"/node/{{node.id}}/configure",method:s.PUT,body:"nodeConfig",headers:i.headers})],e.prototype,"saveConfig",null),__decorate([o("activate-tab")],e.prototype,"activateTab",null),__decorate([t()],e.prototype,"markup",null),e}(e.ModalWidget),e.NodeConfigModal=r}(quill||(quill={})),function(e){var t=feather.core.Widget,o=feather.annotations.Construct,r=feather.observe.Bind,i=feather.annotations.Template,n=function(n){function e(e){var t=n.call(this)||this;return t.key=e,t}return __extends(e,n),e.prototype.init=function(e){e.classList.remove("key"),this.render()},e.prototype.markup=function(){return"{{key:translate}}"},__decorate([r()],e.prototype,"key",void 0),__decorate([i()],e.prototype,"markup",null),e=__decorate([o({selector:"[key]",attributes:["key"]})],e)}(t);e.Translate=n}(quill||(quill={})),function(e){var t=feather.core.Widget,o=feather.annotations.Construct,r=feather.observe.Bind,i=feather.annotations.Template,n=function(t){function e(){var e=t.call(this)||this;return e.fetching=!1,e.runningClass=function(e){return e?"running":void 0},n.instance=e}return __extends(e,t),(n=e).prototype.init=function(){this.render()},e.prototype.markup=function(){return'<div class="progress-runner {{fetching:runningClass}}"></div>'},e.start=function(){n.instance.fetching=!0},e.stop=function(){n.instance.fetching=!1},__decorate([r()],e.prototype,"fetching",void 0),__decorate([i()],e.prototype,"markup",null),e=n=__decorate([o({selector:"progress-bar"})],e);var n}(t);e.Progress=n}(quill||(quill={})),function(e){var n=feather.annotations.Construct,t=feather.ui.ScrollPane,o=feather.event.On,r=feather.event.Scope,i=feather.hub.Subscribe,a=function(t){function e(){var e=t.call(this)||this;return e.receivers=[],e}return __extends(e,t),e.prototype.registerReceiver=function(e){this.receivers.push(e),this.onScroll()},e.prototype.onScroll=function(){var t=this.element.scrollTop;this.receivers.forEach(function(e){return e.scrollTo(t)})},__decorate([i("register-scroll-receiver")],e.prototype,"registerReceiver",null),__decorate([o({event:"scroll",scope:r.Direct})],e.prototype,"onScroll",null),e=__decorate([n({selector:"scroll-spy",attributes:["sync"],singleton:!0})],e)}(t);e.ScrollSpy=a}(quill||(quill={})),function(e){var n=feather.annotations.Construct,t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(e){this.triggerSingleton("register-scroll-receiver",this)},t.prototype.scrollTo=function(e){this.element.scrollTop=e},t=__decorate([n({selector:"scroll-receiver"})],t)}(feather.ui.ScrollPane);e.ScrollReceiver=t}(quill||(quill={})),function(e){var t,n,o,r,i,a;t=e.components||(e.components={}),n=feather.core.Widget,o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.observe.Bind,a=function(n){function e(e){var t=n.call(this)||this;return t.key=e,t}return __extends(e,n),e.prototype.init=function(e){e.classList.remove("html-key"),this.render()},e.prototype.text=function(){return"{{key:translate}}"},__decorate([i({html:!0})],e.prototype,"key",void 0),__decorate([r()],e.prototype,"text",null),e=__decorate([o({selector:"html-fragment",attributes:["html-key"]})],e)}(n),t.HtmlFragment=a}(quill||(quill={})),function(n){var e,t,o,r,i,a,s;e=n.components||(n.components={}),t=feather.ui.events.GestureWidget,o=feather.ui.toast.Theme,r=feather.ui.toast.ToastManager,i=feather.ui.toast.Toast,a=feather.hub.Subscribe,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.requestFailed=function(e){n.Progress.stop(),r.showToast(new i("ui.error.server",e.errors[0].message,o.Error))},t.prototype.requestForbidden=function(){n.Progress.stop(),r.showToast(new i("ui.errors.forbidden.title","ui.errors.forbidden.message",o.Error))},t.prototype.requestUnauthorized=function(e){n.Progress.stop(),r.showToast(new i("ui.errors.unauthorized.title","ui.errors.unauthorized.message",o.Error))},t.prototype.requestMethodNotAllowed=function(){n.Progress.stop(),r.showToast(new i("ui.errors.notallowed.title","ui.errors.notallowed.message",o.Error))},t.prototype.timeout=function(){n.Progress.stop(),r.showToast(new i("ui.error.timeout.title","ui.error.timeout.message",o.Error))},t.prototype.genericError=function(){n.Progress.stop(),r.showToast(new i("ui.error.generic.title","ui.error.generic.message",o.Error))},__decorate([a("xhr-failure-500")],t.prototype,"requestFailed",null),__decorate([a("xhr-failure-403")],t.prototype,"requestForbidden",null),__decorate([a("xhr-failure-401")],t.prototype,"requestUnauthorized",null),__decorate([a("xhr-failure-405")],t.prototype,"requestMethodNotAllowed",null),__decorate([a("xhr-failure-timeout")],t.prototype,"timeout",null),__decorate([a("xhr-failure-error")],t.prototype,"genericError",null),t}(t),e.AjaxWidget=s}(quill||(quill={})),function(r){var e,i,a,s,n,t;e=r.components||(r.components={}),i=feather.ui.toast.Theme,a=feather.ui.toast.ToastManager,s=feather.ui.toast.Toast,n=feather.hub.Subscribe,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.validationFailed=function(e){var t=this;r.Progress.stop();var n=e.errors.map(function(e){return"validation"===e.type&&t.triggerDown("field-error",e.title),e.message});if(e.errors.length){var o=e.errors[0].title.split(".").shift();a.showToast(new s("ui."+o+".failed",n,i.Warning))}},__decorate([n("xhr-failure-400")],t.prototype,"validationFailed",null),t}(e.AjaxWidget),e.AjaxForm=t}(quill||(quill={})),function(e){var t=feather.ui.tree.TreeNode,n=feather.annotations.Template,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.markup=function(){return"<li></li>"},__decorate([n()],t.prototype,"markup",null),t}(t);e.ValueNode=o}(quill||(quill={})),function(t){var e=feather.core.Widget,o=feather.annotations.Template,r=feather.xhr.Rest,i=feather.observe.Bind,a=feather.hub.Subscribe,n=function(n){function e(e){var t=n.call(this)||this;return t.version=e,t}return __extends(e,n),e.prototype.nodesInitialized=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadVersionValue()];case 1:return t=e.sent(),console.log(t),[2]}})})},e.prototype.loadVersionValue=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.markup=function(){return'\n             <li class="v-flex">\n                <div class="level version-header no-grow">\n                    <div class="level-left">\n                        <span class="level-item">\n                            <span class="icon is-small"><Icon name="book"/></span>\n                            <span class="version-name">{{version.name}}</span>\n                        </span>\n                    </div>\n                    <div class="level-right">\n                        <a class="button is-small tooltip"\n                           action="version-github"\n                           tooltip="ui.tooltip.version.github">\n                            <Icon name="github" icon-class="is-small"/>\n                        </a>\n                        <a class="button is-small tooltip"\n                           action="version-download"\n                           tooltip="ui.tooltip.version.json-download">\n                            <Icon name="download" icon-class="is-small"/>\n                        </a>\n                        <a class="button is-small tooltip"\n                           action="version-configure"\n                           tooltip="ui.tooltip.version.configure">\n                            <Icon name="cog" icon-class="is-small"/>\n                        </a>\n                    </div>\n                </div>\n                <scroll-receiver class="grow">\n                    Nu Bass  <br>Nichol Cumbie  <br>Lenna Piercy  <br>See Aispuro  <br>\n                    Sophie Troyer  <br>Bryan Cool  <br>Sylvia Mabe  <br>Hue Keele  <br>\n                    Kaylee Speaks  <br>Milda Costin  <br>Jennie Dietrich  <br>Reanna Leanos  <br>\n                    Ruby Dehn  <br>Asa Estes  <br>Tennie Steverson  <br>Despina Schnur  <br>\n                    Lakeisha Getman  <br>Mara Heng  <br>Carroll Down  <br>Florencio Fazzino  <br>\n                    Hailey Causey  <br>Babara Friscia  <br>Chanell Stgermain  <br>Annette Deangelis  <br>\n                    Sulema Pulley  <br>Kylee Penman  <br>Ariel Pridgen  <br>Mitch Granado  <br>\n                    Vernia Dates  <br>Darnell Pablo  <br>Anneliese Alderman  <br>Brad Dahl  <br>\n                    Valentin Amburgey  <br>Kemberly Pelzer  <br>Ronald Boney  <br>Adah Boateng  <br>\n                    Marcelina Alls  <br>Felicia Guss  <br>Linn Mershon  <br>Chere Scioneaux  <br>\n                    Madalyn Glisson  <br>Kimberely Hagwood  <br>Roxanne Ouimet  <br>Annalisa Armagost  <br>\n                    Doris Troy  <br>Angeline Shelor  <br>Zada Manjarrez  <br>Marvella Ritch  <br>\n                    Larisa Burruel  <br>Margrett Canino  <br><br>\n                </scroll-receiver>\n            </li>'},__decorate([i()],e.prototype,"version",void 0),__decorate([a("visible-nodes")],e.prototype,"nodesInitialized",null),__decorate([r({url:"/values/version/{{version.id}}",headers:t.headers})],e.prototype,"loadVersionValue",null),__decorate([o()],e.prototype,"markup",null),e}(e);t.VersionValues=n}(quill||(quill={})),function(n){var e=feather.core.Widget,o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.hub.Subscribe,a=feather.observe.Bind,t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.versionValues=[],e}return __extends(e,t),e.prototype.init=function(e){this.render()},e.prototype.markup=function(){return'<ul class="grow h-flex" {{versionValues}}></ul>'},e.prototype.projectLoaded=function(e){var t;(t=this.versionValues).splice.apply(t,[0,this.versionValues.length].concat(e.versions.map(function(e){return new n.VersionValues(e)})))},__decorate([a({})],e.prototype,"versionValues",void 0),__decorate([r()],e.prototype,"markup",null),__decorate([i("project-loaded")],e.prototype,"projectLoaded",null),e=__decorate([o({selector:"value-editor"})],e)}(e);n.ValueEditor=t}(quill||(quill={})),function(e){var t,n,o,a,s,l,c,u,r;t=e.components||(e.components={}),n=feather.ui.events.GestureWidget,o=feather.annotations.Construct,a=feather.hub.Subscribe,s=feather.event.On,l=feather.observe.Bind,c=feather.annotations.Template,u=feather.arrays.removeFromArray,r=function(r){function e(e,t,n){var o=r.call(this)||this;return o.label=e,o.selected=t,o.type=n,i.labels.push(o),o}return __extends(e,r),(i=e).prototype.init=function(){this.render()},e.prototype.click=function(){var t=this;this.selected=!0,this.triggerUp("root-type-selected",this.type),i.labels.forEach(function(e){e!==t&&(e.selected=!1)})},e.prototype.nodeSelected=function(e){e&&(this.selected=!1)},e.prototype.markup=function(){return'<p class="menu-label clickable" {{selected}}>\n                <span class="icon is-small">\n                    <i class="fa fa-angle-double-right"></i>\n                </span>\n                {{label}}\n            </p>'},e.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),u(i.labels,[this])},e.labels=[],__decorate([l()],e.prototype,"selected",void 0),__decorate([l()],e.prototype,"label",void 0),__decorate([s({event:"tap"})],e.prototype,"click",null),__decorate([a("defocus-other-nodes")],e.prototype,"nodeSelected",null),__decorate([c()],e.prototype,"markup",null),e=i=__decorate([o({selector:"selectable-tree-label",attributes:["label","selected","type"]})],e);var i}(n),t.SelectableTreeLabel=r}(quill||(quill={})),function(e){var n,t,r,o,i=feather.ui.tree.TreeNode,a=feather.event.On,s=feather.event.Scope,l=feather.functions.isDef;(t=n=e.DropPostion||(e.DropPostion={})).inside="inside",t.above="above",t.below="below",(o=r=e.NodeIcon||(e.NodeIcon={}))[o.string="fa-font"]="string",o[o.text="fa-align-justify"]="text",o[o.number="fa-thermometer"]="number",o[o.fraction="fa-pie-chart"]="fraction",o[o.date="fa-calendar"]="date",o[o.datetime="fa-clock"]="datetime",o[o.boolean="fa-toggle-on"]="boolean",o[o.list="fa-database"]="list",o[o.enum="fa-list-alt"]="enum";var c="quill/node-id",u=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=function(){return""+e.value.id},e}return __extends(o,t),o.prototype.init=function(e){e.setAttribute("draggable","true"),e.setAttribute("tabindex","-1")},o.prototype.dragstart=function(e){e.dataTransfer.setData(c,this.id())},o.prototype.dragover=function(e){var t=e.clientY-this.element.getBoundingClientRect().top;t<6?this.element.setAttribute("data-dragover",n.above):18<t?this.element.setAttribute("data-dragover",n.below):this.element.setAttribute("data-dragover",n.inside)},o.prototype.dragleave=function(){var e=this;setTimeout(function(){return e.element.removeAttribute("data-dragover")},30)},o.prototype.blur=function(e){this.element.focus()},o.prototype.drop=function(e){var t=e.dataTransfer.getData(c);this.dragleave(),t&&this.triggerUp("node-drop",{from:parseInt(t,10),to:parseInt(this.id(),10),position:this.element.getAttribute("data-dragover"),open:0<this.children.length&&this.open})},o.prototype.add=function(e,t){l(t)?this.children.splice(t,0,e):this.children.push(e),e.parent=this},o.prototype.hasChildren=function(){return 0<this.children.length},o.prototype.allParentsOpen=function(){for(var e=this.parent;e;){if(!e.open)return!1;e=e.parent}return!0},o.toTreeNode=function(e){var t,n=new o(e.name,e,r[e.type]);return(t=n.children).push.apply(t,e.children.map(function(e){var t=o.toTreeNode(e);return t.parent=n,t})),n},__decorate([a({event:"dragstart",scope:s.Direct})],o.prototype,"dragstart",null),__decorate([a({event:"dragover",scope:s.Direct,preventDefault:!0})],o.prototype,"dragover",null),__decorate([a({event:"dragleave",scope:s.Direct})],o.prototype,"dragleave",null),__decorate([a({event:"blur",selector:"input",scope:s.Direct})],o.prototype,"blur",null),__decorate([a({event:"drop",scope:s.Direct})],o.prototype,"drop",null),o}(i);e.CustomTreeNode=u}(quill||(quill={})),function(e){var n=feather.annotations.Template,o=feather.event.On,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.backButtonClicked=function(){this.route("/")},t.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="small-info-page">\n                  <h1 key="ui.page.notfound.title"/>\n                  <p key="ui.page.notfound.body"/>\n                  <div class="form-components">\n                    <div class="block has-text-right">\n                        <a class="button is-primary back-action" key="ui.page.notfound.button"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            '},__decorate([o({event:"tap",selector:".back-action",preventDefault:!0})],t.prototype,"backButtonClicked",null),__decorate([n("default")],t.prototype,"loginPage",null),t}(feather.ui.events.GestureWidget);e.NotFoundPage=t}(quill||(quill={})),function(n){var o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.event.On,e=feather.ui.events.GestureWidget,a=feather.hub.Subscribe,s=feather.xhr.Rest,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.logoutClicked=function(){this.doLogout()},t.prototype.doLogout=function(){n.removeToken(),this.route("/login")},t.prototype.logoutFailed=function(){n.removeToken(),this.route("/login")},t.prototype.projectSettings=function(){this.triggerUp("open-project-settings")},t.prototype.markup=function(){return'\n            <nav class="navbar" role="navigation" aria-label="main navigation">\n              <div class="navbar-brand">\n                <a class="navbar-item" href="/" id="logo">\n                    <img src="/assets/images/quill.svg" alt="Quill Logo">\n                    <span>Quill</span>\n                    <span>{{project.name}}</span>\n                </a>\n              </div>\n              <div class="navbar-end">\n                <a class="navbar-item settings"><Icon name="cog"/>Settings</span></a>\n                <a class="navbar-item logout"><Icon name="sign-out"/>Logout <span class="username">{{user.firstname}}</span></a>\n                <div  class="navbar-item">\n                <p class="control has-icons-right" id="search">\n                  <input class="input" type="text" placeholder="Search...">\n                  <Icon name="search" align-right="right"/>\n                </p>\n                </div>\n              </div>\n            </nav>\n            '},__decorate([i({event:"tap",selector:"a.logout"})],t.prototype,"logoutClicked",null),__decorate([s({url:"/signout",headers:n.headers})],t.prototype,"doLogout",null),__decorate([a("xhr-failure-401")],t.prototype,"logoutFailed",null),__decorate([i({event:"click",selector:"a.settings",preventDefault:!0})],t.prototype,"projectSettings",null),__decorate([r()],t.prototype,"markup",null),t=__decorate([o({selector:"navigation",singleton:!0})],t)}(e);n.Navigation=t}(quill||(quill={})),function(l){var t=feather.annotations.Template,o=feather.observe.Bind,r=feather.hub.Subscribe,i=feather.xhr.Rest,a=feather.xhr.Method,s=feather.event.On,c=feather.dom.selectorMatches,u=feather.functions.isDef,d=feather.arrays.removeFromArray,e=l.components.AjaxWidget,p=l.modal.NodeConfigModal,f=l.modal.ProjectConfig,h=keys.isKey,v=keys.Key,y={id:0,name:"",structure:[],schema:[],versions:[]},n=function(n){function e(e){var t=n.call(this)||this;return t.nodes=[],t.schemaNodes=[],t.project=y,t.loading=!0,t.currentRootType="structure",t.newNode={name:"New node",sort:0},t.id=function(){return t.projectId},t.projectId=e,t}return __extends(e,n),e.prototype.init=function(){this.fetchProject()},e.prototype.fetchProject=function(e){var t;this.project=e,(t=this.nodes).splice.apply(t,[0,this.nodes.length].concat(e.structure.map(l.CustomTreeNode.toTreeNode))),this.triggerDown("project-loaded",e),this.triggerDown("visible-nodes",this.getVisibleNodes()),this.loading=!1},e.prototype.openProjectSettings=function(){this.triggerSingleton("show-modal",new f(this.project))},e.prototype.nodeDeselected=function(){this.currentTreeNode=void 0,this.triggerDown("defocus-other-nodes")},e.prototype.nodeSelected=function(e){e.element.focus(),this.currentTreeNode=e,this.currentTreeNode.selected=!0,this.triggerDown("defocus-other-nodes",e)},e.prototype.nodeOpened=function(e){console.log(e)},e.prototype.nodeClosed=function(e){console.log(e)},e.prototype.rootTypeSelected=function(e){this.currentRootType=e,this.currentTreeNode=void 0,this.triggerDown("defocus-other-nodes")},e.prototype.nodeAction=function(e){switch(e){case"node-add":this.addNode();break;case"node-edit":this.currentTreeNode.focusAndEdit();break;case"node-configure":this.configureNode();break;case"node-delete":this.deleteNode()}},e.prototype.createChildNode=function(e){l.Progress.stop();var t=l.CustomTreeNode.toTreeNode(e);this.currentTreeNode.add(t),this.currentTreeNode.open=!0,this.currentTreeNode.selected=!1,t.focusAndEdit()},e.prototype.createNode=function(e){l.Progress.stop();var t=l.CustomTreeNode.toTreeNode(e);this.nodes.push(t),t.focusAndEdit()},e.prototype.deleteNode=function(){var e=this.currentTreeNode,t=u(e.parent)?e.parent.children:this.nodes;d(t,[e]),this.currentTreeNode=void 0,this.triggerDown("defocus-other-nodes")},e.prototype.renameNodeCall=function(){l.Progress.stop()},e.prototype.editNode=function(e){l.Progress.start(),this.renameNode={name:e.text},this.renameNodeCall()},e.prototype.moveNodeCall=function(){l.Progress.stop();var e=this.moveNode,t=this.allNodes(this.nodes),n=this.findNode(t,e.from),o=this.findNode(t,e.to),r=u(n.parent)?n.parent.children:this.nodes,i=u(o.parent)?o.parent.children:this.nodes;if(d(r,[n]),e.position===l.DropPostion.inside){var a=r.indexOf(o);o.add(n,a+1),o.open=!0}else{var s=i.indexOf(o)+(e.position===l.DropPostion.below?1:0);i.splice(s,0,n)}},e.prototype.nodeConfigured=function(e){console.log(e)},e.prototype.dragNode=function(e){l.Progress.start(),this.moveNode=__assign({},e),this.moveNodeCall()},e.prototype.configureNode=function(e){this.triggerSingleton("show-modal",new p(this.currentTreeNode,e,this.nodeConfigured))},e.prototype.addNode=function(){l.Progress.start(),u(this.currentTreeNode)?this.createChildNode():this.createNode()},e.prototype.keyEvent=function(e){var t=this;if(u(this.currentTreeNode)&&h(e,v.C,v.Plus,v.Left,v.Right,v.Up,v.Down,v.Enter)&&c(document.activeElement,"li.tree-node")){if(e.preventDefault(),h(e,v.Plus)&&this.addNode(),h(e,v.C)&&this.configureNode(),h(e,v.Left)&&this.currentTreeNode.openNode(!1),h(e,v.Right)&&this.currentTreeNode.openNode(!0),h(e,v.Down,v.Up)){var n=this.getVisibleNodes(),o=h(e,v.Down)?1:-1,r=n[n.findIndex(function(e){return e===t.currentTreeNode})+o];if(r){this.nodeSelected(r);var i=this.element.querySelector(".tree-node > .selected");l.scrollElementIntoView(i)}}h(e,v.Enter)&&this.currentTreeNode.focusAndEdit()}},e.prototype.projectPage=function(){return'\n            <panel class="fullscreen v-flex">\n                <navigation class="no-grow"/>\n                <horizontal-split class="grow" id="app-split">\n                  <sidebar class="v-flex">\n                    <tree-actions/>\n                    <scroll-spy class="grow" {{loading}}>\n                      <aside class="menu">\n                        <selectable-tree-label label="Structure" selected={true} type="structure"/>\n                        <ul class="tree-view is-marginless" {{nodes}}/>\n                        <selectable-tree-label label="Schemas" selected={false} type="schema"/>\n                        <ul class="tree-view is-marginless" {{schemaNodes}}/>\n                      </aside>\n                    </scroll-spy>\n                  </sidebar>\n                  <section class="v-flex value-section">\n                     <value-editor class="grow v-flex"/>\n                  </section>\n                </horizontal-split>\n                <footer class="no-grow app-footer"/>\n            </panel>'},e.prototype.getVisibleNodes=function(){return this.allNodes(this.nodes).filter(function(e){return!e.parent||e.allParentsOpen()})},e.prototype.allNodes=function(e){return[].concat.apply([],e.map(l.flattenTree))},e.prototype.findNode=function(e,t){return e.find(function(e){return parseInt(e.id(),10)===t})},__decorate([o()],e.prototype,"nodes",void 0),__decorate([o()],e.prototype,"schemaNodes",void 0),__decorate([o({bequeath:!0})],e.prototype,"project",void 0),__decorate([o()],e.prototype,"loading",void 0),__decorate([i({url:"/projects/{{projectId}}",headers:l.headers})],e.prototype,"fetchProject",null),__decorate([r("open-project-settings")],e.prototype,"openProjectSettings",null),__decorate([r("node-defocused")],e.prototype,"nodeDeselected",null),__decorate([r("node-focused")],e.prototype,"nodeSelected",null),__decorate([r("node-opened")],e.prototype,"nodeOpened",null),__decorate([r("node-closed")],e.prototype,"nodeClosed",null),__decorate([r("root-type-selected")],e.prototype,"rootTypeSelected",null),__decorate([r("node-action")],e.prototype,"nodeAction",null),__decorate([i({url:"/node/{{currentTreeNode.id}}",method:a.POST,body:"newNode",headers:l.headers})],e.prototype,"createChildNode",null),__decorate([i({url:"/projects/{{projectId}}/{{currentRootType}}",method:a.POST,body:"newNode",headers:l.headers})],e.prototype,"createNode",null),__decorate([i({url:"/node/{{currentTreeNode.id}}",method:a.DELETE,headers:l.headers})],e.prototype,"deleteNode",null),__decorate([i({url:"/node/{{currentTreeNode.id}}/rename",method:a.PUT,body:"renameNode",headers:l.headers})],e.prototype,"renameNodeCall",null),__decorate([r("node-edited")],e.prototype,"editNode",null),__decorate([i({url:"/node/{{moveNode.from}}/move",method:a.PUT,body:"moveNode",headers:l.headers})],e.prototype,"moveNodeCall",null),__decorate([r("node-configured")],e.prototype,"nodeConfigured",null),__decorate([r("node-drop")],e.prototype,"dragNode",null),__decorate([i({url:"/node/{{currentTreeNode.id}}/configure",method:a.GET,headers:l.headers})],e.prototype,"configureNode",null),__decorate([s({event:"keydown",selector:".tree-view"})],e.prototype,"keyEvent",null),__decorate([t()],e.prototype,"projectPage",null),e}(e);l.ProjectPage=n}(quill||(quill={})),function(n){var o=feather.annotations.Template,r=feather.observe.Bind,i=feather.hub.Subscribe,a=feather.event.On,s=feather.xhr.Rest,l=feather.xhr.Method,c=feather.ui.toast.Theme,e=n.components.AjaxForm,u=feather.ui.toast.Toast,d=feather.ui.toast.ToastManager,p=feather.event.Scope,t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.credentials={},t.signup={},t.forgotPassword={},t.forgotPasswordInfo="forgot-password.info",t.identifierConfig={label:"ui.signin.identifier",name:"signin.identifier",placeholder:"john@freemail.com",icon:"envelope-o",autofocus:!0,onChange:function(e){return t.credentials.identifier=e}},t.passwordConfig={label:"ui.signin.password",name:"signin.password",icon:"lock",type:"password",onChange:function(e){return t.credentials.password=e}},t.firstnameConfig={label:"ui.signup.firstname",icon:"user-o",name:"signup.firstname",placeholder:"John",onChange:function(e){return t.signup.firstname=e}},t.lastnameConfig={label:"ui.signup.lastname",icon:"user-o",name:"signup.lastname",placeholder:"Smith",onChange:function(e){return t.signup.lastname=e}},t.emailConfig={label:"ui.signup.email",name:"signup.email",icon:"envelope-o",placeholder:"john@mail.com",onChange:function(e){return t.signup.email=e}},t.signupPasswordConfig={label:"ui.signup.password",name:"signup.password",icon:"lock",onChange:function(e){return t.signup.password=e}},t.forgotPasswordConfig={label:"ui.forgot-password.email",name:"forgot-password.identifier",icon:"envelope-o",onChange:function(e){return t.forgotPassword.identifier=e}},t}return __extends(t,e),t.prototype.loginClicked=function(){n.Progress.start(),this.doLogin()},t.prototype.pressedEnter=function(e){e.keyCode===n.Keys.ENTER&&(n.Progress.start(),this.doLogin())},t.prototype.doLogin=function(e){n.setToken(e),this.route("/ "),n.Progress.stop()},t.prototype.requestUnauthorized=function(e){n.Progress.stop(),d.showToast(new u(e.errors[0].title,e.errors[0].message,c.Error))},t.prototype.signupClicked=function(){this.triggerDown("field-error-clear"),n.Progress.start(),this.doSignup()},t.prototype.doSignup=function(e){n.setToken(e),n.Progress.stop(),this.route("/")},t.prototype.forgotPasswordClicked=function(){n.Progress.start(),this.requestPasswordChange()},t.prototype.requestPasswordChange=function(){n.Progress.stop(),d.showToast(new u("ui.forgot-password.email-sent.title","ui.forgot-password.email-sent.message",c.Info)),this.route("/login")},t.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="login">\n                    <tabs>\n                      <div class="form-components" title="ui.login.tabs.login" icon="key" active>\n                        <Text config="{identifierConfig}"/>\n                        <Text config="{passwordConfig}"/>\n                        <div class="block has-text-right">\n                            <a class="button is-primary login-action" key="ui.signin.button"/>\n                        </div>\n                      </div>\n                      <div class="form-components" title="ui.login.tabs.signup" icon="pencil-square-o">\n                        <Text config="{firstnameConfig}"/>\n                        <Text config="{lastnameConfig}"/>\n                        <Text config="{emailConfig}"/>\n                        <Text config="{signupPasswordConfig}"/>\n                        <div class="block has-text-right">\n                             <a class="button is-primary signup-action" key="ui.signup.button"/>\n                        </div>\n                      </div>\n                      <div class="form-components" title="ui.login.tabs.forgot-password" icon="unlock">\n                        <html-fragment html-key="ui.forgot-password.info"/>\n                        <Text config="{forgotPasswordConfig}"/>\n                        <div class="block has-text-right">\n                             <a class="button is-primary forgot-password-action" key="ui.forgot-password.button"/>\n                        </div>\n                      </div>\n                  </tabs>\n                </div>\n            </scroll-pane>\n            '},__decorate([r()],t.prototype,"forgotPasswordInfo",void 0),__decorate([a({event:"tap",selector:".login-action"})],t.prototype,"loginClicked",null),__decorate([a({event:"keypress",selector:'input[type="password"]',scope:p.Direct})],t.prototype,"pressedEnter",null),__decorate([s({url:"/signin",method:l.POST,body:"credentials",headers:n.headers})],t.prototype,"doLogin",null),__decorate([i("xhr-failure-401")],t.prototype,"requestUnauthorized",null),__decorate([a({event:"tap",selector:".signup-action"})],t.prototype,"signupClicked",null),__decorate([s({url:"/signup",method:l.POST,body:"signup",headers:n.headers})],t.prototype,"doSignup",null),__decorate([a({event:"tap",selector:".forgot-password-action"})],t.prototype,"forgotPasswordClicked",null),__decorate([s({url:"/account",method:l.PUT,body:"forgotPassword",headers:n.headers})],t.prototype,"requestPasswordChange",null),__decorate([o("default")],t.prototype,"loginPage",null),t}(e);n.LoginPage=t}(quill||(quill={})),function(n){var o=feather.annotations.Template,r=feather.observe.Bind,i=feather.hub.Subscribe,a=feather.event.On,s=feather.xhr.Rest,l=feather.xhr.Method,c=feather.ui.toast.Theme,e=n.components.AjaxForm,u=feather.ui.toast.Toast,d=feather.ui.toast.ToastManager,t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.newPassword={id:n.getQueryStringParam("id")},t.changePasswordInfo="ui.change-password.info",t.passwordConfig={label:"ui.change-password.password",name:"new-password.password",icon:"lock",type:"password",onChange:function(e){return t.newPassword.password=e}},t.passwordRepeatConfig={label:"ui.change-password.password-repeat",name:"new-password.passwordRepeat",icon:"lock",type:"password",onChange:function(e){return t.newPassword.passwordRepeat=e}},t}return __extends(t,e),t.prototype.init=function(){n.removeToken()},t.prototype.submitClicked=function(){n.Progress.start(),this.doPasswordChange()},t.prototype.doPasswordChange=function(){n.Progress.stop(),this.route("/login"),d.showToast(new u("ui.change-password.success.title","ui.change-password.success.message",c.Error))},t.prototype.unauthorized=function(e,t){n.Progress.stop(),d.showToast(new u("ui.change-password.fail.title","ui.change-password.fail.message",c.Error)),this.route("/login")},t.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="change-password">\n                  <p key="ui.change-password.info"/>\n                  <div class="form-components">\n                    <Text config="{passwordConfig}"/>\n                    <Text config="{passwordRepeatConfig}"/>\n                    <div class="block has-text-right">\n                        <a class="button is-primary change-action" key="ui.change-password.button"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            '},__decorate([r()],t.prototype,"changePasswordInfo",void 0),__decorate([a({event:"tap",selector:".change-action"})],t.prototype,"submitClicked",null),__decorate([s({url:"/account/new-password",method:l.PUT,body:"newPassword",headers:n.headers})],t.prototype,"doPasswordChange",null),__decorate([i("xhr-failure-401")],t.prototype,"unauthorized",null),__decorate([o("default")],t.prototype,"loginPage",null),t}(e);n.PassordChangePage=t}(quill||(quill={})),function(e){var t,n,o,r,i,a,s;t=e.ui||(e.ui={}),n=e.annotations.Construct,o=e.annotations.Template,r=e.observe.Bind,i=e.event.On,a=e.hub.Subscribe,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!0,e}return __extends(e,t),e.prototype.init=function(){this.render()},e.prototype.nodeSelected=function(e){this.disabled=void 0===e},e.prototype.buttonClicked=function(e,t){this.triggerUp("node-action",t.getAttribute("action"))},e.prototype.markup=function(){return'\n            <div class="level is-mobile is-marginless tree-actions">\n              <div class="level-left">\n                 <a class="button is-small tooltip"\n                    action="node-add"\n                    tooltip="ui.tooltip.tree-actions.add">\n                    <Icon name="plus" icon-class="is-small"/>\n                 </a>\n                 <a class="button is-small tooltip"\n                    action="node-edit"\n                    tooltip="ui.tooltip.tree-actions.rename" {{disabled}}>\n                    <Icon name="pencil" icon-class="is-small"/>\n                 </a>\n                 <a class="button is-small tooltip"\n                    action="node-configure"\n                    tooltip="ui.tooltip.tree-actions.configure" {{disabled}}>\n                    <Icon name="cog" icon-class="is-small"/>\n                 </a>\n              </div>\n              <div class="level-right">\n                 <a class="button is-small tooltip"\n                    action="node-delete"\n                    tooltip="ui.tooltip.tree-actions.delete" {{disabled}}>\n                    <Icon name="trash-o" icon-class="is-small"/>\n                 </a>\n              </div>\n            </div>'},__decorate([r()],e.prototype,"disabled",void 0),__decorate([a("defocus-other-nodes")],e.prototype,"nodeSelected",null),__decorate([i({event:"tap",selector:"a[action]:not([disabled])"})],e.prototype,"buttonClicked",null),__decorate([o()],e.prototype,"markup",null),e=__decorate([n({selector:"tree-actions"})],e)}(e.ui.events.GestureWidget),t.TreeActions=s}(feather||(feather={})),function(e){var n=feather.annotations.Construct,o=feather.annotations.Template,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return""},__decorate([o()],t.prototype,"markup",null),t=__decorate([n({selector:"content"})],t)}(feather.ui.events.GestureWidget);e.Content=t}(quill||(quill={})),function(n){var e=feather.core.Widget,o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.observe.Bind,a=feather.routing.Route,s=feather.hub.Subscribe,l=feather.xhr.Rest,c=feather.ui.toast.ToastManager,u=feather.ui.toast.Toast,d=feather.ui.toast.Theme,p=feather.objects.setDeepValue,t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.user=null,e.translations={},e}return __extends(e,t),e.prototype.init=function(){this.fetchTranslations()},e.prototype.fetchTranslations=function(e){var t=this;e.messages.forEach(function(e){return p(t.translations,e.key,e.value)}),this.render()},e.prototype.checkLogin=function(e){this.user=e,this.route("/project/"+this.user.lastProject)},e.prototype.unauthorized=function(){this.route("/login")},e.prototype.genericFetchError=function(e,t){c.showToast(new u("API request has failed",e,d.Error))},e.prototype.projectPage=function(e){this.user?this.goToPage(new n.ProjectPage(e.id)):this.checkLogin()},e.prototype.loginPage=function(){this.goToPage(new n.LoginPage)},e.prototype.notFoundPage=function(){this.goToPage(new n.NotFoundPage)},e.prototype.changePasswordPage=function(){this.goToPage(new n.PassordChangePage)},e.prototype.goToPage=function(e){this.pages.splice(0,1,e)},e.prototype.homePage=function(){this.checkLogin()},e.prototype.applicationHTML=function(){return'<progress-bar></progress-bar>\n                    <panel class="fullscreen v-flex" {{pages}}></panel>\n                    <localization translations={translations}/>\n                    <modal-manager/>'},__decorate([i()],e.prototype,"pages",void 0),__decorate([i({bequeath:!0})],e.prototype,"user",void 0),__decorate([l({url:"/translations",headers:n.headers})],e.prototype,"fetchTranslations",null),__decorate([l({url:"/account",headers:n.headers})],e.prototype,"checkLogin",null),__decorate([s("xhr-failure-401")],e.prototype,"unauthorized",null),__decorate([a("/project/:id")],e.prototype,"projectPage",null),__decorate([a("/login")],e.prototype,"loginPage",null),__decorate([a("/404")],e.prototype,"notFoundPage",null),__decorate([a("/changepassword")],e.prototype,"changePasswordPage",null),__decorate([a("/")],e.prototype,"homePage",null),__decorate([r()],e.prototype,"applicationHTML",null),e=__decorate([o({selector:"body.quill-app"})],e)}(e);n.QuillApplication=t}(quill||(quill={})),feather.start();