window.console||(window.console={}),console.log||(console.log=function(){});var __extends=function(e,t){function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__rest=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]]);return n},__decorate=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},feather;!function(e){!function(e){function t(e){return e&&"[object Function]"===n.call(e)}var n={}.toString;e.compose=function(e){return function(t){return 1===e.length?e[0](t):e.reduce(function(e,t){return t(e)},t)}},e.isFunction=t,e.isDef=function(e){return void 0!==e},e.isUndef=function(t){return!e.isDef(t)},e.strFactory=function(e){return t(e)?e():e}}(e.functions||(e.functions={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e,t){var n=t[e];t[e]=function(){r.set(t,!0);var e=n.apply(t,arguments);return r.set(t,!1),i(t,"splice",a),e}}function n(t,n){var o=n[t];"splice"===t?n.splice=function(e,r){var a=[].slice.call(arguments,2),s=o.apply(n,arguments);return i(n,t,[e,r,a,s]),s}:"sort"===t&&(n.sort=function(r){var a=e.range(0,n.length-1),s=r?[n.map(function(e,t){return t}).sort(function(e,t){return r(n[e],n[t])}).map(function(e){return a[e]})]:a,c=o.call(n,r);return i(n,t,s),c})}var o=new WeakMap,r=new WeakMap,a=[0,0,[],[]];e.from=function(e){return[].slice.call(e)},e.removeFromArray=function(e,t){for(var n=0,o=t.length,r=e.length;r--;)if(~t.indexOf(e[r]))n++;else if(n){if(e.splice(r+1,n),0==(o-=n)){n=0;break}n=0}n&&e.splice(0,n)};var i=function(e,t,n){if(!0!==r.get(e))for(var a=0,i=o.get(e);a<i.length;a++)i[a][t].apply(e,n)};e.notifyListeners=function(e){return i(e,"splice",a)},e.range=function(e,t){for(var n=t-e+1,o=new Array(n),r=0,a=o.length;r<a;r++)o[r]=r+e;return o},e.observeArray=function(e,r){var a=o.get(e);a?a.push(r):(o.set(e,[r]),e.pop=function(){return e.splice(e.length-1,1)[0]},e.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.splice.apply(e,[e.length,0].concat(t)),e.length},e.fill=function(){throw Error("observed arrays cannot be filled. items must be unique, use Array.splice instead!")},e.reverse=function(){var t=e.slice();return e.sort(function(e,n){return t.indexOf(n)-t.indexOf(e)}),e},e.shift=function(){return e.splice(0,1)[0]},e.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.splice.apply(e,[0,0].concat(t)),e.length},n("splice",e),n("sort",e),t("forEach",e))}}(e.arrays||(e.arrays={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,t){if(""===t)return e;var n,o,r;for(n=0,o=(r=t.split(".")).length;n<o;n++)if(e=e[r[n]],i(e))return;return e}function o(e,t){if(i(t))return[];var n=Object.getPrototypeOf(t),r=e.get(n)||[];return n&&r.push.apply(r,o(e,n)),r}function r(e,n){if(i(n))return{};var o=Object.getPrototypeOf(n),a=__assign({},e.get(o)||{});return o&&t.merge(a,r(e,o)),a}var a=e.arrays.observeArray,i=e.functions.isUndef;t.isObject=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)},t.values=function(e){return"values"in Object?Object.values(e):Array.apply(null,Object.keys(e).map(function(t){return e[t]}))},t.deepValue=n,t.setDeepValue=function(e,t,n){var o,r,a;for(o=0,r=(a=t.split(".")).length-1;o<r;o++)e=e[a[o]]||(e[a[o]]={});return e[a.pop()]=n},t.collectAnnotationsFromArray=o,t.merge=function(e,n){return void 0===e&&(e={}),Object.keys(n).forEach(function(o){var r=e[o],a=n[o];Array.isArray(r)?r.push.apply(r,a):t.isObject(r)?t.merge(r,a):e[o]=a}),e},t.collectAnnotationsFromTypeMap=r,t.pathCallbacks=new WeakMap;var s=function(e,t,n,o){var r=n.split(".").pop(),a=e[r];Object.defineProperty(e,r,{get:function(){return a},set:function(e){return a=e,l(a,t,n,o),o(n),a}}),l(a,t,n,o)},c=function(e,t){var n=e.indexOf(".["),o=~n?e.substring(0,n):e;return t.filter(function(e){return o.startsWith(e)||e.startsWith(o)})};t.createObjectPropertyListener=function(e,o,r){var a=t.pathCallbacks.get(e),i=o.split(".").shift(),l=t.ensure(t.pathCallbacks,e,(u={},u[o]=[r],u));a||setTimeout(function(){return s(e,e,i,function(t){c(t,Object.keys(l)).forEach(function(t){l[t].forEach(function(o){o(n(e,t))})})})},0);var u};var l=function(e,n,o,r){if(t.isObject(e)){var i=Object.keys(t.pathCallbacks.get(n));Object.keys(e).forEach(function(t){var a=o+"."+t;c(a,i).length>0&&s(e,n,a,r)})}else Array.isArray(e)&&(e.forEach(function(e,t){return l(e,n,o+".["+t+"]",r)}),a(e,{sort:function(){return r(o)},splice:function(e,t,a){r(o),a.forEach(function(e,t){return l(e,n,o+".["+t+"]",r)})}}))};t.ensure=function(e,n,o){var r=e.get(n);return r?Array.isArray(r)&&Array.isArray(o)?r.push.apply(r,o):t.isObject(r)&&t.merge(r,o):e.set(n,r=o),r}}(e.objects||(e.objects={}))}(feather||(feather={}));var feather;!function(e){!function(e){var t=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","matchesSelector"].reduce(function(e,t){return Element.prototype[t]||e});e.selectorMatches=function(e,n){return t.call(e,n)},e.allChildNodes=function(e){var t,n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),o=[];do{((t=n.currentNode).nodeType!==Node.TEXT_NODE||t.textContent.trim())&&o.push(t)}while(n.nextNode());return o},e.allTextNodes=function(e){for(var t,n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=o.nextNode();)n.push(t);return n}}(e.dom||(e.dom={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.objects.deepValue;t.format=function(e,t){return e.replace(/{{.*?}}/g,function(e){return n(t,e.substring(2,e.length-2))})},t.namedRegexMatch=function(e,t,n){var o=t.exec(e);if(o)return o.reduce(function(e,t,o){return o>0&&(e[n[o-1]]=t),e},{})}}(e.strings||(e.strings={}))}(feather||(feather={}));var feather;!function(feather){var boot;!function(boot){var isDef=feather.functions.isDef,from=feather.arrays.from,ComponentInfo=function(e,t,n,o){this.selector=e,this.singleton=t,this.attributes=n,this.component=o};boot.ComponentInfo=ComponentInfo;var attributeParser=function(node,context){return function(key){var value=node.getAttribute(key),m=(value||"").match(/^{(.+?)}\/?$/i);if(m){var js=m[1];value=context[js]||function(str){return eval(str)}.bind(context)(js),isDef(value)&&node.removeAttribute(key)}return value}},WidgetFactory=function(){function e(){}return e.start=function(t,n){void 0===t&&(t=document),feather.annotations.TemplateFactory.warmUp();for(var o=e.widgetRegistry,r=0,a=o.length;r<a;r++){var i=o[r],s=from(t.querySelectorAll(i.selector));e.initComponents(s,o[r],n)}t===document&&feather.routing.runRoutes()},e.initComponents=function(t,n,o){for(var r=0,a=t.length;r<a;r++){var i=t[r],s=n.attributes.map(attributeParser(i,o||window)),c=new(Function.prototype.bind.apply(n.component,[null].concat(s)));n.singleton&&e.singletonRegistry.push(c),o&&(c.parentWidget=o,o.childWidgets.push(c)),c.bindToElement(i)}},e.register=function(e,t){this.widgetRegistry.push(new ComponentInfo(e.selector,e.singleton,e.attributes||[],t))},e.widgetRegistry=[],e.singletonRegistry=[],e}();boot.WidgetFactory=WidgetFactory}(boot=feather.boot||(feather.boot={}))}(feather||(feather={})),function(e){e.start=function(){return e.boot.WidgetFactory.start()}}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.objects.collectAnnotationsFromArray,o=e.objects.ensure,r=new WeakMap,a=new WeakMap,i=function(){function e(){}return e.prototype.attachMediaListeners=function(){var e=this;n(r,this).forEach(function(t){var n=window.matchMedia(t.query),r=function(n){n.matches&&e[t.method].call(e,n)};n.addListener(r),o(a,e,[{mediaQuery:n,listener:r}]),r(n)})},e.prototype.cleanUp=function(){var e=a.get(this);if(e)for(var t=0,n=e;t<n.length;t++){var o=n[t];o.mediaQuery.removeListener(o.listener)}},e}();t.MediaQueryAware=i,t.Media=function(e){return function(t,n){o(r,t,[]).push({method:n,query:e})}}}(e.media||(e.media={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(n){for(var r,i=n.replace(t.selfClosingTags,t.openTags),s=y(t.getFragment(i)),l=a(s),u={};r=p.exec(n);)u[r[1].toLowerCase()]=r[1];for(var d=e.boot.WidgetFactory.widgetRegistry,h=[],f=0,v=d.length,m=l.length;f<v;f++){for(var _=[],b=d[f],w=0;w<m;w++){var k=l[w];k.nodeType===Node.ELEMENT_NODE&&c(k,d[f].selector)&&_.push(w)}_.length>0&&h.push({info:b,nodes:_})}return new g(s,o(l),u,h)}function o(e){var t,n=[];return e.forEach(function(e,o){if(e.nodeType===Node.TEXT_NODE){var a=e.textContent,i=u.exec(a);null!==i&&n.push(new v(o,3,i[1]))}else if(e.nodeType===Node.ELEMENT_NODE)for(var s=0,c=r(e.attributes);s<c.length;s++){var l=c[s],p=l.nodeName;if(t=p.match(u))e.removeAttribute(t[0]),n.push(new v(o,1,t[1]));else if("class"===p)for(var d=0,h=r(e.classList);d<h.length;d++){var f=h[d];(t=f.match(u))&&(e.classList.remove(t[0]),n.push(new v(o,0,t[1])))}else{var g=l.value;(t=g.match(u))&&(e.setAttribute(p,""),n.push(new v(o,2,t[1],p)))}}}),n}var r=e.arrays.from,a=e.dom.allChildNodes,i=e.objects.collectAnnotationsFromTypeMap,s=e.objects.ensure,c=e.dom.selectorMatches,l=e.dom.allTextNodes,u=/{{(.*?)}}/,p=/{{(.*?)}}/g;t.TEXT_CURLIES=/(.*?){{(.*?)}}/gim;var d=new Map,h={};t.selfClosingTags=/<(\w+)((\s+([^=\s\/<>]+|\w+=('[^']*'|"[^"]*"|[^"']\S*)))*)\s*\/>/gi,t.openTags="<$1$2></$1>";var f=function(e,t,n,o,r){var a=this;this.node=e,this.type=t,this.attribute=n,this.property=o,this.transformFns=r,this.hasMethods=function(){return a.transformFns.length>0}};t.Hook=f;var v=function(e,t,n,o,r,a){this.nodePosition=e,this.type=t,this.curly=n,this.attribute=o,this.property=r,this.transformFns=a};t.HookInfo=v;var g=function(){function e(e,t,n,o){this.node=e,this.hookInfos=t,this.hookMap=n,this.preComponents=o;for(var r=0,a=t.length;r<a;r++){var i=t[r],s=this.hookMap[i.curly.toLowerCase()].split(/:/);i.property=s.shift(),i.transformFns=s}}return e.prototype.asParsedTemplate=function(){for(var e=this.node.cloneNode(!0),t=a(e),n=this.hookInfos.map(function(e){return new f(t[e.nodePosition],e.type,e.attribute,e.property,e.transformFns)}),o=this.preComponents,r=o.length,i=[],s=0;s<r;s++){for(var c=o[s],l=c.nodes.length,u=[],p=0;p<l;p++)u[p]=t[c.nodes[p]];i[s]={info:c.info,nodes:u}}return{doc:e,first:t[1],hooks:n,components:i}},e}();t.PreparsedTemplate=g;var y=function(e){return l(e).forEach(function(e){var t=e.textContent.split(/({{.*?}})/gm);if(t.length>1){var n=e.parentNode,o=document.createDocumentFragment();t.forEach(function(e){""!==e&&o.appendChild(document.createTextNode(e))}),n.replaceChild(o,e)}}),e},m=document.createRange();t.getFragment=function(e){return m.createContextualFragment(e)},t.getPreparsedTemplate=n;var _=function(){function e(){}return e.getTemplate=function(e,t){var o=i(d,e)[t].call(e),r=h[o];return r||(r=n(o),h[o]=r),r.asParsedTemplate()},e.warmUp=function(){d.forEach(function(e,t){return Object.keys(e).forEach(function(o){var r=e[o];try{var a=r.call({});h[a]=n(a)}catch(e){console.warn("Template method "+r+" in "+t.constructor.name+" is not a pure function.",e)}})})},e}();t.TemplateFactory=_,t.Template=function(e){return void 0===e&&(e="default"),function(t,n){s(d,t,(o={},o[e]=t[n],o));var o}}}(e.annotations||(e.annotations={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,n,o){var a=e.element;t.addListener(a,n,function(t){var n=t.target;do{for(var i=0,s=o;i<s.length;i++){var c=s[i];n.nodeType===Node.ELEMENT_NODE&&(!c.selector&&n===a||r(n,c.selector))&&(c.preventDefault&&t.preventDefault(),c.bubble||t.stopImmediatePropagation(),e[c.method].call(e,t,n))}if(n===a)break}while(n=n.parentElement)})}var o,r=e.dom.selectorMatches,a=e.objects.collectAnnotationsFromArray,i=e.media.MediaQueryAware,s=e.objects.ensure,c=e.objects.merge,l=e.functions.isUndef;!function(e){e[e.Direct=0]="Direct",e[e.Delegate=1]="Delegate"}(o=t.Scope||(t.Scope={}));var u=(h={},h[o.Direct]=new WeakMap,h[o.Delegate]=new WeakMap,h),p=new WeakMap;t.addListener=function(e,t,n){e.addEventListener(t,n),s(p,e,[{event:t,fn:n}])};var d=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlers=function(e){return a(u[e],t).reduce(function(e,t){return c(e,(n={},n[t.event]=[t],n));var n},{})},t}return __extends(r,e),r.prototype.attachEvents=function(){this.attachDelegates(this.handlers(o.Delegate)),this.attachDirect(this.handlers(o.Direct))},r.prototype.attachDirect=function(e){var n=this,r=this.element;Object.keys(e).forEach(function(a){for(var i=e[a],s=0,c=i;s<c.length;s++)!function(e){var o=e.selector?r.querySelector(e.selector):r;o?t.addListener(o,a,function(t){return e.preventDefault&&t.preventDefault(),e.bubble||t.stopImmediatePropagation(),n[e.method].call(n,t,o)}):console.warn(e.selector+" didn't match anything inside the template")}(c[s]);n.eventRegistered(n,a,i,o.Direct)})},r.prototype.attachDelegates=function(e){var t=this;Object.keys(e).forEach(function(r){var a=e[r];n(t,r,a),t.eventRegistered(t,r,a,o.Delegate)})},r.prototype.eventRegistered=function(e,t,n,o){},r.prototype.cleanUp=function(){e.prototype.cleanUp.call(this);var t=p.get(this.element);if(t){for(var n=0,o=t;n<o.length;n++){var r=o[n];this.element.removeEventListener(r.event,r.fn)}p.delete(this.element)}},r}(i);t.EventAware=d,t.On=function(e){return function(t,n){var r=l(e.scope)?o.Delegate:e.scope,a=s(u[r],t,[]);e.event.split(/\s+/).forEach(function(t){return a.push({event:t,method:n,preventDefault:e.preventDefault,bubble:e.bubble,scope:r,selector:e.selector})})}};var h}(e.event||(e.event={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.event.EventAware,o=e.objects.ensure,r=e.objects.collectAnnotationsFromTypeMap,a=e.boot.WidgetFactory;t.subscribers=new WeakMap;var i=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.childWidgets=[],t}return __extends(n,e),n.prototype.triggerUp=function(e,t){this.trigger(e,t),this.parentWidget&&this.parentWidget.triggerUp(e,t)},n.prototype.triggerSingleton=function(e,t){a.singletonRegistry.forEach(function(n){return n.trigger(e,t)})},n.prototype.triggerDown=function(e,t){if(this.trigger(e,t),this.childWidgets)for(var n=0,o=this.childWidgets;n<o.length;n++)o[n].triggerDown(e,t)},n.prototype.trigger=function(e,n){var o=r(t.subscribers,this)[e];if(o)for(var a=0,i=o;a<i.length;a++){var s=i[a];Object.getPrototypeOf(this)[s].call(this,n)}},n}(n);t.Subscribable=i,t.Subscribe=function(e,n){return function(r,a,i){if(!0===n){var s=i.value,c=[];i.value=function(e){var t=this;c.push(e),requestAnimationFrame(function(){s.call(t,c),c.splice(0,c.length)})}}o(t.subscribers,r,(l={},l[e]=[a],l));var l}}}(e.hub||(e.hub={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.hub.Subscribable,o=e.strings.namedRegexMatch,r=e.objects.collectAnnotationsFromArray,a=e.objects.ensure,i=e.arrays.removeFromArray,s=new WeakMap,c=[],l=/[:*]\w+/gi,u=window.history&&window.history.pushState&&null===document.querySelector('[routing="hash"]'),p=[[/:\w+/gi,"([\\w\\d-]+)"],[/\*\w+/gi,"(.+)"]];t.namedMatch=function(e,t){var n=e.match(l);if(n&&n.length){n=n.map(function(e){return e.substr(1)});var r=p.reduce(function(e,t){return e.replace(t[0],t[1])},e),a=new RegExp("^"+r+"$","gi");return o(t,a,n)}if(new RegExp("^"+e+"$","gi").exec(t))return{}};var d=function(){var e=location.pathname;return u||("/"!==e?location.replace("/#"+e):e=location.hash?location.hash.replace(/^#/,""):"/"),e},h=function(e){for(var n=0,o=c;n<o.length;n++)for(var a=o[n],i=0,l=r(s,a);i<l.length;i++){var u=l[i],p=t.namedMatch(u.route,e);p&&a[u.handler].call(a,p)}};window.addEventListener(u?"popstate":"hashchange",function(){return h(d())},!1);var f=function(e){u?(history.pushState(null,"",e),h(d())):location.hash=e},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentRoute=d,t.route=function(e){return f(e)},t}return __extends(t,e),t.prototype.initRoutes=function(){!~c.indexOf(this)&&s.has(Object.getPrototypeOf(this))&&c.push(this)},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),i(c,[this])},t}(n);t.RouteAware=v,t.runRoutes=function(){window.blockRouting||h(d())},t.Route=function(e){return function(t,n){a(s,t,[{route:e,handler:n}])}}}(e.routing||(e.routing={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,t,n,o){var r=e[n];if(Array.isArray(r))p(r,{sort:function(){return o(r)},splice:function(){return o(r)}});else{var a=E.get(e),i=a&&a[n],s=w(E,e,(f={},f[n]=[o],f));if(i||Object.defineProperty(e,n,{get:function(){return r},set:function(o){if(o!==r){F(e,n,t,o,!1);var a=r;r=o;for(var i=0,c=s[n];i<c.length;i++)(0,c[i])(o,a)}return o}}),t.affectsArrays.length){var c,l=t.affectsArrays.length,u=e,d=void 0;do{for(d=0;d<l;d++)c=u[t.affectsArrays[d]],y(c)&&w(E,e,(v={},v[n]=[function(){return h(c)}],v))}while(y(u=u.parentWidget))}}var f,v}function o(e,t,n,o,r){if(2!==t.type&&1!==t.type)throw Error('Bool value can only be bound to attributes ie. hidden="{{myBool}}. Consider using filters to convert them to strings (true|false|yes|no etc)"');var a=t.node,i=t.attribute||t.property,s=function(e){return"boolean"==typeof a[i]?a[i]=!!n(e):S(a,i,!!n(e),""),s};r(this,o,t.property,s(e))}function r(e,t,n,o,r){var a=t.node;if(3===t.type){var i,s=[a],c=function(e){var t=n(e);if(i!==t){if(o.html){var r=M(t),l=s.slice(),u=l[0].parentNode;s=d(r.childNodes),u.replaceChild(r,l.shift()),l.forEach(function(e){return e.parentNode.removeChild(e)})}else a.textContent=n(e);i=t}return c};r(this,o,t.property,c(e))}else if(0===t.type){var l=function(e,t){if(y(e)){var o=n(e);o&&t(o)}},u=function(e,t){return l(t,function(e){return a.classList.remove(e)}),l(e,function(e){return a.classList.add(e)}),u};r(this,o,t.property,u(e))}else if(2===t.type||1===t.type){var p,h=t.attribute||t.property,f=function(e){var t=n(e);return t!==p&&(S(a,h,y(t),t),p=t),f};r(this,o,t.property,f(e))}}function a(e,t,n,o,r){var a=n.node,i=a.firstElementChild,s=[];return{sort:function(e){for(var n=[],o=0;o<e.length;o++)s[e[o]]&&a.appendChild(t[o].element),n[o]=s[e[o]];s=n},splice:function(n,c,l,u){void 0===u&&(u=[]);var p=d(s),h=e.childWidgets,v=r();if(s.splice.apply(s,[n,c].concat(l.map(function(e){return!1}))),c&&(u.forEach(function(e){return a.removeChild(e.element)}),f(h,u),j(u)),l.length){h.push.apply(h,l);for(var g=0,y=l;g<y.length;g++){var m=y[g];if(m.parentWidget=e,!m.element){var _=m.getParsed(o.templateName);m.bindToElement(_.first)}}}p.splice.apply(p,[n,c].concat(l.map(function(e){return!0})));for(var b=0,w=t.length;b<w;b++)if(p[b]=v(t[b]),p[b]&&!s[b]){var k=s.indexOf(!0,b),x=~k?t[k].element:i;a.insertBefore(t[b].element,x)}else!p[b]&&s[b]&&a.removeChild(t[b].element);s=p}}}function i(e,t,n,o){var r=e.splice(0,e.length);p(e,a(this,e,t,n,o)),e.push.apply(e,r)}function s(e,t,n){var a=this,i=function(e){return function(e,t,n,o){return i}},s=e.split(".").shift(),c=b(this,e),l=(typeof n(c)).toLowerCase(),u=k(P,this)[s],p=function(e){return"boolean"===l?o.call(a,e,t,n,u,i):/string|number|undefined/.test(l)?r.call(a,e,t,n,u,i):console.log("Deeply bound properties work only with strings, numbers or booleans. For arrays you can use a transformer: {{var:myTransformer}}?"),p};x(this,e,p(c))}function c(e,t,a,s){var c=Array.isArray(e)?"array":(typeof e).toLowerCase(),l=this[t.property];"boolean"===c?o.call(this,l,t,s,a,n):/string|number|undefined/.test(c)?r.call(this,l,t,s,a,n):"array"===c||v(e)?(v(e)||(s=W),i.call(this,l,t,a,s)):console.log("Bindings are only supported on arrays, booleans, strings and numbers")}function l(e,t,n,o){if(o=o.split(".").shift(),e){var r=k(P,e)[o];r&&r.bequeath?e.attachHooks.call(e,[n],t):l(e.parentWidget,t,n,o)}else console.log("@Bind() "+o+" annotation missing or 'bequeath' not set?",n,o,P)}var u=e.routing.RouteAware,p=e.arrays.observeArray,d=e.arrays.from,h=e.arrays.notifyListeners,f=e.arrays.removeFromArray,v=e.functions.isFunction,g=e.functions.compose,y=e.functions.isDef,m=e.functions.isUndef,_=e.objects.isObject,b=e.objects.deepValue,w=e.objects.ensure,k=e.objects.collectAnnotationsFromTypeMap,x=e.objects.createObjectPropertyListener,C=e.objects.values,T=e.boot.WidgetFactory,M=e.annotations.getFragment,E=new WeakMap,P=new WeakMap,D=new WeakMap,O=new WeakMap,S=function(e,t,n,o){"value"===t?e.value=n?o:"":n?e.setAttribute(t,o):e.removeAttribute(t)},A=function(e){var t=e.id||e.name||e.title||e.constructor.name;return v(t)?t():t},N=function(e,t){var n=[t],o=e;do{n.unshift(A(o))}while(o=o.parentWidget);return n.join(".")},j=function(e){setTimeout(function(){for(var t=0,n=e;t<n.length;t++)n[t].cleanUp()},50)},L=function(e,t,n){return localStorage.setItem(N(e,t),JSON.stringify({value:n}))},F=function(e,t,n,o,r){n&&n.localStorage&&(r?(O.has(o)&&clearTimeout(O.get(o)),O.set(o,setTimeout(function(){var n=k(D,e)[t];o=o.map(e[n.write]),L(e,t,o)},80))):L(e,t,o))},W=function(e){return function(){return!0}},I=function(e){var t=k(P,e);t&&Object.keys(t).forEach(function(n){if(t[n].localStorage)try{var o=localStorage.getItem(N(e,n));if(o){var r=JSON.parse(o).value;if(Array.isArray(r)){var a=k(D,e)[n];e[n]=r.map(e[a.read])}else e[n]=r}}catch(e){console.warn(e)}})},q=function(e,t){for(var n=T.singletonRegistry,o=0;o<n.length;o++){var r=n[o][t];if(r)return r.bind(e)}throw Error("Couldn't resolve transformer function "+t)},R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachHooks=function(e,t){var o,r,a=this,i=t||this,u=k(P,this);if(u){var d=C(u);o=d.filter(function(e){return 0!==e.affectsArrays.length}),r=d.filter(function(e){return e.localStorage&&Array.isArray(a[e.property])})}m(t)&&I(this);for(var h=0,f=e;h<f.length;h++){var y=f[h],w=y.property,x=u[w],T=g(y.transformFns.map(function(e){var t=i[e];return t?t.bind(a):q(a,e)})),M=this[w],E=_(M);~w.indexOf(".")||E&&y.hasMethods()?(M=b(this,w),m(M)?l(this.parentWidget,this,y,w):s.call(this,w,y,T)):!E||y.hasMethods()?v(M)?console.log("Binding to functions is not supported. Use new filters."):m(x)?l(this.parentWidget,this,y,w):c.call(this,T(M),y,x,T):console.log("Binding to objects is not supported. Use new widgets or specify inner property: x.y.z")}if(o)for(var D=0,O=o;D<O.length;D++){var S=O[D];n(this,S,S.property,function(){return 0})}if(r)for(var A=this,N=0,j=r;N<j.length;N++)!function(e){var t=A[e.property],n=function(){return F(a,e.property,e,t,!0)};p(t,{sort:n,splice:n})}(j[N])},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),E.delete(this)},t}(u);t.Observable=R,t.Bind=function(e){return function(t,n){var o=__assign({},{templateName:"default",localStorage:!1,affectsArrays:[],property:n,html:!1},e||{});w(P,t,(r={},r[n]=o,r));var r}},t.Write=function(e){return function(t,n){w(D,t,(o={},o[e]={write:n},o));var o}},t.Read=function(e){return function(t,n){w(D,t,(o={},o[e]={read:n},o));var o}}}(e.observe||(e.observe={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.boot.WidgetFactory;t.Construct=function(e){return function(t){return n.register(e,t)}}}(e.annotations||(e.annotations={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.strings.format,o=e.objects.deepValue,r=e.objects.merge,a=e.functions.strFactory;t.Method={GET:"GET",POST:"POST",DELETE:"DELETE",PUT:"PUT"},t.defaultRestConfig={url:null,method:t.Method.GET,timeout:5e3,async:!0,withCredentials:!0,responseFilter:function(e){return e?JSON.parse(e):null},requestFilter:function(e){return e?JSON.stringify(e):null},headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}},t.sendRequest=function(e,n,o){var a=new XMLHttpRequest;if(e=r(__assign({},t.defaultRestConfig),e),a.open(e.method,e.url,e.async),a.timeout=e.timeout,a.setRequestHeader)for(var i=0,s=Object.keys(e.headers);i<s.length;i++){var c=s[i];a.setRequestHeader(c,e.headers[c])}a.addEventListener("readystatechange",function(){if(4===a.readyState){var t=~~(a.status/100);2===t||3===t?n(e.responseFilter(a.responseText)):o(e.responseFilter(a.responseText),a)}});for(var l=0,u=["timeout","error","abort"];l<u.length;l++){var p=u[l];a.addEventListener(p,function(e){o(e)})}return e.progress&&a.addEventListener("progress",e.progress,!1),a.send(e.requestFilter(e.body)),a},t.Rest=function(e){return function(r,i,s){var c=s.value;s.value=function(){var r=this,i=__assign({},e,{progress:function(e){return r.triggerDown("xhr-progress",e)},body:e.body&&o(this,e.body),headers:e.headers&&Object.keys(e.headers).reduce(function(t,n){return __assign({},t,(o={},o[n]=a(e.headers[n]),o));var o},{})||{},url:n(e.url,this)});return t.sendRequest(i,s.value.original.bind(this),function(e,t){if(t&&t.status)r.triggerDown("xhr-failure-"+t.status,e,t);else if(e){var n=e.type;r.triggerDown("xhr-failure-"+n)}})},s.value.original=c}}}(e.xhr||(e.xhr={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.TemplateFactory,o=e.observe.Observable,r=e.boot.WidgetFactory,a=e.arrays.removeFromArray,i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.bindToElement=function(e){this.element=e,this.init(e),this.attachEvents(),this.initRoutes(),this.attachMediaListeners()},t.prototype.render=function(e){void 0===e&&(e="default");var t=this.getParsed(e);this.element.appendChild(t.doc)},t.prototype.getParsed=function(e){for(var t=n.getTemplate(this,e),o=t.components,a=0,i=o.length;a<i;a++){var s=o[a];r.initComponents(s.nodes,s.info,this)}return this.attachHooks(t.hooks),t},t.prototype.init=function(e){},t.prototype.cleanUp=function(){var t=this;setTimeout(function(){e.prototype.cleanUp.call(t);for(var n=0,o=t.childWidgets;n<o.length;n++)o[n].cleanUp();a(r.singletonRegistry,[t])},10)},t}(o);t.Widget=i}(e.core||(e.core={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){t.focusElement=function(e){var t=function(){return e.focus()};/Android/.test(navigator.appVersion)?setTimeout(function(){return t()},10):t()},t.withDefaults=function(t,n){return Object.keys(n).reduce(function(o,r){return __assign({},o,(a={},a[r]=e.functions.isDef(t[r])?t[r]:n[r],a));var a},t)}}(t.utils||(t.utils={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.core.Widget,o=e.dom.selectorMatches,r=e.event.addListener;/ios/.test(navigator.userAgent)&&(document.ontouchmove=function(e){e.preventDefault()});var a=function(e){return{passive:/mouse|touch/.test(e.type),capture:!1}};t.tapDistance=10,t.addMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.addEventListener(e,n,o)})},t.removeMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.removeEventListener(e,n,o)})};var i,s=["clientX","clientY","pageX","pageY"];!function(e){e[e.start=0]="start",e[e.move=1]="move",e[e.stop=2]="stop"}(i=t.PanPhase||(t.PanPhase={}));var c={touchstart:{move:["touchmove"],stop:["touchend"]},mousedown:{move:["mousemove"],stop:["mouseup"]},pointerdown:{move:["pointermove"],stop:["pointerup"]}};t.normalizePointer=function(e){return{x:e.clientX||(e.touches?e.touches[0].pageX:0),y:e.clientY||(e.touches?e.touches[0].pageY:0)}};var l=document.documentElement,u=function(e,t,n){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return s.forEach(function(e){return o[e]=t[e]}),o},p="onpointerdown"in document.documentElement,d=/android|iphone|webos|ipad|ipod|blackberry/i.test(navigator.userAgent);t.tapEvents=p?["pointerdown"]:d?["touchstart"]:["touchstart","mousedown"];var h={tap:{events:t.tapEvents,handlerFactory:function(e){return function(e){if(!/mouse|pointer/.test(e.type)||1===e.which){var n=a(e);n.passive&&e.preventDefault();var o=t.normalizePointer(e),r=o,i=function(e){r=t.normalizePointer(e)},s=function(a){Math.abs(r.x-o.x)<t.tapDistance&&Math.abs(r.y-o.y)<t.tapDistance&&e.target.dispatchEvent(u("tap",a)),t.removeMultipleEventListeners(c[e.type].stop,l,s,n),t.removeMultipleEventListeners(c[e.type].move,l,i,n)};t.addMultipleEventListeners(c[e.type].move,l,i,n),t.addMultipleEventListeners(c[e.type].stop,l,s,n)}}},options:a({})},panX:{events:t.tapEvents,handlerFactory:function(e){return function(e){var n=a(e);if(!/mouse/.test(e.type)||1===e.which){n.passive&&e.preventDefault();var o=t.normalizePointer(e),r=Date.now(),s=document.documentElement,l=o,p=0,d=function(n,a){void 0===a&&(a=i.move);var s=+Date.now()-+r;a===i.move&&("touchmove"===n.type&&n.preventDefault(),l=t.normalizePointer(n),p=l.x-o.x),e.target.dispatchEvent(u("panX",n,{diffX:p,time:s,phase:a}))},h=function(o){d(o,i.stop),t.removeMultipleEventListeners(c[e.type].move,s,d,n),t.removeMultipleEventListeners(c[e.type].stop,s,h,n)};d(e,i.start),t.addMultipleEventListeners(c[e.type].move,s,d,n),t.addMultipleEventListeners(c[e.type].stop,s,h,n)}}},options:a({})},textchange:{events:"keyup input focus blur focusin focusout cut paste change".split(" "),handlerFactory:function(e){var t=e.value;return function(e){e.target.value!==t&&(t=e.target.value,e.target.dispatchEvent(u("textchange",e)))}},options:a({})}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachDelegates=function(t){var n=this;e.prototype.attachDelegates.call(this,t),Object.keys(t).forEach(function(e){var a=h[e];if(a){var i=t[e],s=n,c=n.element,l=a.handlerFactory(c);a.events.forEach(function(e){return r(c,e,function(e){var t=e.target;do{for(var n=0,r=i;n<r.length;n++){var a=r[n];if(1===t.nodeType&&(!a.selector&&t===c||o(t,a.selector)))return a.preventDefault&&e.preventDefault(),a.bubble||e.stopPropagation(),l.call(s,e)}if(t===c)break}while(t=t.parentElement)})})}})},t}(n);t.GestureWidget=f}(t.events||(t.events={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.hub.Subscribe,o=e.observe.Bind,r=function(t){function r(n,o){void 0===o&&(o={});var r=t.call(this)||this;return r.error=!1,r.config=e.ui.utils.withDefaults(n,o),r}return __extends(r,t),r.prototype.fieldError=function(e){this.config.name===e&&(this.error=!0)},r.prototype.fieldErrorCleared=function(){this.error=!1},__decorate([o({})],r.prototype,"config",void 0),__decorate([o({})],r.prototype,"error",void 0),__decorate([n("field-error")],r.prototype,"fieldError",null),__decorate([n("field-error-clear")],r.prototype,"fieldErrorCleared",null),r}(e.ui.events.GestureWidget);t.FormComponent=r}(t.types||(t.types={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.core.Widget,r=e.objects.deepValue,a=function(e){function t(t){var n=e.call(this)||this;return n.translations={},n.translate=function(e){return r(n.translations,e)||e},n.translations=t,n}return __extends(t,e),t=__decorate([n({selector:"localization",singleton:!0,attributes:["translations"]})],t)}(o);t.Localization=a}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.observe.Bind,a=e.annotations.Template,i=function(e){function t(t,n){var o=e.call(this)||this;return o.fontAwesomeClass=function(e){return"fa-"+e},o.alignRightClass=function(e){return e?"is-right":void 0},o.name=t,o.alignRight=void 0!==n,o}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return'\n              <span class="icon is-small {{alignRight:alignRightClass}}">\n                <i class="fa {{name:fontAwesomeClass}}"></i>\n              </span>'},__decorate([r()],t.prototype,"name",void 0),__decorate([r()],t.prototype,"alignRight",void 0),__decorate([a()],t.prototype,"markup",null),t=__decorate([o({selector:"icon",attributes:["name","align-right"]})],t)}(n);t.Icon=i}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n,o=e.core.Widget,r=e.annotations.Construct,a=function(e){return"body"===e.tagName||"hidden"===getComputedStyle(e,null).getPropertyValue("overflow")?e:a(e.parentElement)};!function(e){e[e.None=0]="None",e[e.Right=2]="Right",e[e.Left=4]="Left",e[e.Bottom=8]="Bottom",e[e.Top=16]="Top"}(n||(n={}));var i,s=function(e,t,n,o){var r=(t.x-e.x)*(o.y-n.y)-(t.y-e.y)*(o.x-n.x);if(0===r)return!1;var a=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),i=a/r,s=(a=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/r;return!(i<0||i>1||s<0||s>1)},c=function(e,t){var o=0;return(s({x:e.left,y:e.top},{x:e.right,y:e.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom})||s({x:e.left,y:e.bottom},{x:e.right,y:e.bottom},{x:t.right,y:t.top},{x:t.right,y:t.bottom}))&&(o|=n.Right),(s({x:e.left,y:e.top},{x:e.right,y:e.top},{x:t.left,y:t.top},{x:t.left,y:t.bottom})||s({x:e.left,y:e.bottom},{x:e.right,y:e.bottom},{x:t.left,y:t.top},{x:t.left,y:t.bottom}))&&(o|=n.Left),(s({x:e.left,y:e.top},{x:e.left,y:e.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top})||s({x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top}))&&(o|=n.Top),(s({x:e.left,y:e.top},{x:e.left,y:e.bottom},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom})||s({x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}))&&(o|=n.Bottom),o},l=function(e,t,n){var o="transform: translate("+t+"px, "+n+"px)";e.setAttribute("style",o)};"MutationObserver"in window&&(i=new MutationObserver(function(e){e.forEach(function(e){var t=e.target;if("hidden"===e.attributeName)if(t.hasAttribute(e.attributeName))t.removeAttribute("style");else{var o=a(t.parentElement),r=t.getBoundingClientRect(),i=o.getBoundingClientRect(),s=c(r,i);s&n.Right&&l(t,i.right-r.right,0),s&n.Left&&l(t,i.left-r.left,0),s&n.Top&&l(t,0,i.top-r.top),s&n.Bottom&&l(t,0,i.bottom-r.bottom)}})}));var u={attributes:!0,childList:!1,characterData:!1},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){i&&setTimeout(function(){return i.observe(e,u)},1)},t=__decorate([r({selector:".open-in-view"})],t)}(o);t.OpenInView=p}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n,o=e.ui.events.GestureWidget,r=e.annotations.Template,a=e.observe.Bind,i=e.event.On,s=e.event.Scope,c=e.hub.Subscribe,l=e.dom.selectorMatches;!function(e){e[e.file="fa-file-o"]="file",e[e.text="fa-font"]="text",e[e.object="fa-sitemap"]="object",e[e.date="fa-calendar"]="date",e[e.number="fa-table"]="number",e[e.enum="fa-ellipsis"]="enum",e[e.html="fa-code"]="html",e[e.config="fa-gear"]="config",e[e.boolean="fa-toggle-on"]="boolean",e[e.array="fa-database"]="array",e[e.folderOpen="fa-folder-open-o"]="folderOpen",e[e.folderClosed="fa-folder-o"]="folderClosed"}(n=t.TreeNodeIcon||(t.TreeNodeIcon={}));var u=function(e){function t(t,o,r){void 0===r&&(r=n.file);var a=e.call(this)||this;return a.children=[],a.selected=!1,a.open=!1,a.editing=!1,a.id=function(){return a.text},a.iconClass=function(e){return 0===a.children.length?a.icon:e?n.folderOpen:n.folderClosed},a.openClass=function(e){return 0===a.children.length?"":e?"open":void 0},a.hasChildrenClass=function(e){return e.length>0?"fa-caret-right":void 0},a.openIconClass=function(e){return e?"down":""},a.selectedClass=function(e){return e?"selected":void 0},a.icon=r,a.text=t,a.value=o,a}return __extends(t,e),t.prototype.openNode=function(e,t){e.stopImmediatePropagation(),this.open=!this.open,this.open?this.triggerUp("node-opened",this.value):this.triggerUp("node-closed",this.value)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(n=this.children).push.apply(n,e);var n},t.prototype.selectNode=function(e,t){l(e.target,"i")||(e.stopImmediatePropagation(),this.selected?(this.selected=!1,this.triggerUp("node-defocused",this)):(this.selected=!0,this.triggerUp("node-focused",this)))},t.prototype.settingsClicked=function(e,t){e.stopImmediatePropagation(),this.triggerUp("node-settings",this)},t.prototype.deselect=function(e){e!==this&&(this.selected&&(this.selected=!1),this.editing&&(this.editing=!1))},t.prototype.startEditing=function(e,t){if(!l(e.target,"i")){var n=this.element.querySelector("input");n.value=this.text,e.stopImmediatePropagation(),this.triggerUp("node-focused",this),this.editing=!0,this.selected=!0,n.focus()}},t.prototype.stopEditing=function(e){this.editing&&(13===e.keyCode?(this.text=e.target.value,this.editing=!1,this.triggerUp("node-edited",this)):27===e.keyCode&&(this.editing=!1))},t.prototype.cancelEditing=function(e){this.editing&&(this.editing=!1)},t.prototype.markup=function(){return'<li class="tree-node">\n              <div class="{{selected:selectedClass}} {{open:openClass}} clickable" {{editing}}>\n                <i class="icon fa node-handle {{children:hasChildrenClass}} {{open:openIconClass}}"></i>\n                <i class="icon fa node-icon {{open:iconClass}}"></i>\n                <span class="node-text">{{text}}</span>\n                <input class="node-editor">\n              </div>\n              <ul {{children}}></ul>\n            </li>'},__decorate([a()],t.prototype,"children",void 0),__decorate([a()],t.prototype,"selected",void 0),__decorate([a({localStorage:!0})],t.prototype,"open",void 0),__decorate([a()],t.prototype,"icon",void 0),__decorate([a()],t.prototype,"text",void 0),__decorate([a()],t.prototype,"editing",void 0),__decorate([i({event:"tap",selector:".node-handle"})],t.prototype,"openNode",null),__decorate([i({event:"tap",selector:".clickable"})],t.prototype,"selectNode",null),__decorate([i({event:"tap",selector:".node-settings"})],t.prototype,"settingsClicked",null),__decorate([c("defocus-other-nodes")],t.prototype,"deselect",null),__decorate([i({event:"dblclick",selector:".clickable"})],t.prototype,"startEditing",null),__decorate([i({event:"keydown",selector:"input",scope:s.Direct})],t.prototype,"stopEditing",null),__decorate([i({event:"blur",selector:"input",scope:s.Direct})],t.prototype,"cancelEditing",null),__decorate([r()],t.prototype,"markup",null),t}(o);t.TreeNode=u}(t.tree||(t.tree={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,a=e.ui.events.removeMultipleEventListeners,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.tapEvents,c=function(e){function t(){var t=e.call(this)||this;return t.closeHandler=t.closeHandler.bind(t),t}return __extends(t,e),t.prototype.clicked=function(){this.toggle.hasAttribute("hidden")?this.open():this.close()},t.prototype.close=function(){this.toggle.setAttribute("hidden",""),this.element.removeAttribute("open"),a(s,document,this.closeHandler)},t.prototype.open=function(){this.toggle.removeAttribute("hidden"),this.element.setAttribute("open",""),i(s,document,this.closeHandler)},t.prototype.init=function(e){this.toggle=e.querySelector(".toggle"),this.toggle.setAttribute("hidden","")},t.prototype.closeHandler=function(e){this.toggle.hasAttribute("hidden")||this.toggle.contains(e.target)||this.close()},__decorate([r({event:"tap",selector:".button"})],t.prototype,"clicked",null),t=__decorate([o({selector:".toggler"})],t)}(n);t.Toggler=c}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.core.Widget,o=e.annotations.Template,r=e.observe.Bind,a=function(e){function t(t){var n=e.call(this)||this;return n.message=t,n}return __extends(t,e),t.prototype.messageItemMarkup=function(){return'<li>\n                  <span class="icon is-small">\n                    <i class="fa fa-caret-right"></i>\n                  </span>\n                  <span>{{message:translate}}</span>\n                </li>'},__decorate([r()],t.prototype,"message",void 0),__decorate([o()],t.prototype,"messageItemMarkup",null),t}(n);t.ToastItem=a}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On;!function(e){e[e.Info="info"]="Info",e[e.Error="error"]="Error",e[e.Warning="warning"]="Warning"}(t.Theme||(t.Theme={}));var i=function(e){function n(n,o,r,a,i){var s=e.call(this)||this;return s.message="",s.messages=[],s.added=!1,Array.isArray(o)?(c=s.messages).push.apply(c,o.map(function(e){return new t.ToastItem(e)})):s.message=o,s.title=n,s.action=i,s.actionName=a,s.theme=r,s;var c}return __extends(n,e),n.prototype.actionClicked=function(){this.action()},n.prototype.animationEnded=function(){t.ToastManager.removeToast(this)},n.prototype.deleteClicked=function(){t.ToastManager.removeToast(this)},n.prototype.toastMarkup=function(){var e=this.actionName?'<span class="action-link clickable">{{actionName:translate}}</span>':"";return'<li {{added}} class="{{theme}}">\n              <h4 class="message-header"><p>{{title:translate}}</p><button class="delete is-small"></button></h4>\n              <div class="toast-message">\n                '+(this.message?"<p>{{message:translate}}</p>":"")+"\n                <ul {{messages}}></ul>\n                "+e+"\n              </div>\n            </li>"},__decorate([r()],n.prototype,"message",void 0),__decorate([r()],n.prototype,"messages",void 0),__decorate([r()],n.prototype,"title",void 0),__decorate([r()],n.prototype,"actionName",void 0),__decorate([r()],n.prototype,"theme",void 0),__decorate([r()],n.prototype,"added",void 0),__decorate([a({event:"tap",selector:".action-link"})],n.prototype,"actionClicked",null),__decorate([a({event:"animationend"})],n.prototype,"animationEnded",null),__decorate([a({event:"tap",selector:".delete"})],n.prototype,"deleteClicked",null),__decorate([o()],n.prototype,"toastMarkup",null),n}(n);t.Toast=i}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.annotations.Template,a=e.observe.Bind,i=e.arrays.removeFromArray,s=function(e){function t(){var t=e.call(this)||this;return t.toasts=[],n.instance=t,t}return __extends(t,e),n=t,t.prototype.init=function(){this.render()},t.showToast=function(e){var t=n.instance.toasts.filter(function(t){return t.title===e.title});i(n.instance.toasts,t),n.instance.toasts.push(e),setTimeout(function(){return e.added=!0},10)},t.removeToast=function(e){var t=n.instance.toasts.indexOf(e);~t&&n.instance.toasts.splice(t,1)},t.prototype.datePickerMarkup=function(){return'<ul class="toasts" {{toasts}}></ul>'},__decorate([a()],t.prototype,"toasts",void 0),__decorate([r()],t.prototype,"datePickerMarkup",null),t=n=__decorate([o({selector:".toast-manager"})],t);var n}(n);t.ToastManager=s}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(t){var n=e.call(this)||this;return n.active=!1,n.activeClass=function(e){return e?"is-active":void 0},n.iconClass=function(e){return"fa-"+e},n.text=t.getAttribute("title"),n.icon=t.getAttribute("icon"),n.el=t,n.setActive(t.hasAttribute("active")),n}return __extends(t,e),t.prototype.setActive=function(e){this.active=e,e?this.el.removeAttribute("hidden"):this.el.setAttribute("hidden","")},t.prototype.clicked=function(){this.triggerUp("activate-tab",this)},t.prototype.deactivate=function(e){this.setActive(e===this)},t.prototype.markup=function(){return'\n            <li class="{{active:activeClass}}">\n              <a>\n                <span class="icon is-small"><i class="fa {{icon:iconClass}}"></i></span>\n                <span>{{text:translate}}</span>\n              </a>\n            </li>\n            '},__decorate([r()],t.prototype,"active",void 0),__decorate([r()],t.prototype,"text",void 0),__decorate([r()],t.prototype,"icon",void 0),__decorate([a({event:"tap"})],t.prototype,"clicked",null),__decorate([i("tabs-activate")],t.prototype,"deactivate",null),__decorate([o()],t.prototype,"markup",null),t}(n);t.Tab=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.observe.Bind,a=e.arrays.from,i=e.annotations.Template,s=e.hub.Subscribe,c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabs=[],t}return __extends(n,e),n.prototype.init=function(e){(n=this.tabs).push.apply(n,a(e.children).map(function(e){return new t.Tab(e)})),this.render(),this.element.insertBefore(this.element.lastElementChild,this.element.firstElementChild);var n},n.prototype.deactivate=function(e){this.triggerDown("tabs-activate",e)},n.prototype.markup=function(){return'\n              <div class="tabs is-center">\n                  <ul {{tabs}}></ul>\n              </div>'},__decorate([r()],n.prototype,"tabs",void 0),__decorate([s("activate-tab")],n.prototype,"deactivate",null),__decorate([i()],n.prototype,"markup",null),n=__decorate([o({selector:"tabs"})],n)}(n);t.Tabs=c}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n,o=e.ui.events.GestureWidget,r=e.annotations.Construct,a=e.event.On,i=e.hub.Subscribe,s=e.ui.events.tapDistance,c=e.ui.events.PanPhase;!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next",e[e.None=2]="None"}(n=t.Direction||(t.Direction={}));var l=function(e){function t(t){var n=e.call(this)||this;return n.width=+t,n}return __extends(t,e),t.prototype.onPan=function(e){var t=this.element;if(!t.classList.contains("animate")){var o=__assign({},e.detail),r=o.diffX,a=o.time;switch(o.phase){case c.start:this.direction=n.None,this.transitionEnd();break;case c.move:t.style.transform="translateX("+r+"px)";break;case c.stop:Math.abs(r)>s&&(t.classList.add("animate"),a<200?this.navigate(r):this.width-Math.abs(r)<.5*this.width?this.navigate(r):t.style.transform="translateX(0)")}}},t.prototype.navigate=function(e){var t=this.element;e>0?(this.direction=n.Previous,t.style.transform="translateX("+this.width+"px)"):(this.direction=n.Next,t.style.transform="translateX("+-this.width+"px)")},t.prototype.transitionEnd=function(){this.element.classList.remove("animate"),this.direction!==n.None&&this.triggerUp("snap-scroll-moved",this.direction)},t.prototype.snapScrollReset=function(){var e=this.element;e.classList.remove("animate"),e.style.transform="translateX(0)"},t.prototype.snapScrollPrevious=function(){this.element.classList.add("animate"),this.navigate(1)},t.prototype.snapScrollNext=function(){this.element.classList.add("animate"),this.navigate(-1)},__decorate([a({event:"panX",selector:".snap-scroll"})],t.prototype,"onPan",null),__decorate([a({event:"transitionend"})],t.prototype,"transitionEnd",null),__decorate([i("snap-scroll-reset")],t.prototype,"snapScrollReset",null),__decorate([i("snap-scroll-previous")],t.prototype,"snapScrollPrevious",null),__decorate([i("snap-scroll-next")],t.prototype,"snapScrollNext",null),t=__decorate([r({selector:".snap-scroll",attributes:["width"]})],t)}(o);t.SnapScroll=l}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,a=e.ui.events.PanPhase,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,c=e.ui.events.tapEvents,l=e.observe.Bind,u=e.annotations.Template,p=function(e){function t(){var t=e.call(this)||this;return t.id="horizontal-split",t.width=200,t.draggingClass=function(e){return e?"dragging":void 0},t.closeHandler=t.closeHandler.bind(t),t}return __extends(t,e),t.prototype.init=function(e){this.render(),e.appendChild(e.children[1]),this.applyWidth(this.width)},t.prototype.clicked=function(e,t){var n=this.element.firstElementChild;if(e.target===n){var o=n.classList;o.toggle("open"),o.contains("open")?i(c,document,this.closeHandler):s(c,document,this.closeHandler)}},t.prototype.closeHandler=function(e){var t=this.element.firstElementChild;e.target===t||t.contains(e.target)||(t.classList.remove("open"),s(c,document,this.closeHandler))},t.prototype.onPanX=function(e){switch(__assign({},e.detail).phase){case a.start:this.dragging=!0;break;case a.move:this.applyWidth(this.width=e.clientX);break;case a.stop:this.dragging=!1}},t.prototype.applyWidth=function(e){this.element.firstElementChild.style.width=this.width+"px"},t.prototype.markup=function(){return'<div class="dragger {{dragging:draggingClass}}" width="{{width}}"></div>'},__decorate([l()],t.prototype,"dragging",void 0),__decorate([l({localStorage:!0})],t.prototype,"width",void 0),__decorate([r({event:c.join(" "),selector:"sidebar"})],t.prototype,"clicked",null),__decorate([r({event:"panX",selector:".dragger"})],t.prototype,"onPanX",null),__decorate([u()],t.prototype,"markup",null),t=__decorate([o({selector:"horizontal-split"})],t)}(n);t.HorizontalSplit=p}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.arrays.from,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){var t=document.createElement("div");t.classList.add("inner-scroll-pane"),r(e.childNodes).forEach(function(e){return t.appendChild(e)}),e.appendChild(t)},t=__decorate([o({selector:"scroll-pane"})],t)}(n);t.ScrollPane=a}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([o({selector:"panel"})],t)}(n);t.Panel=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([o({selector:"sidebar"})],t)}(n);t.Sidebar=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(e){!function(e){var t={months:"JanuaryFebruaryMarchAprilMayJuneJuliAugustSeptemberOctoberNovemberDecember".split(/(?=[A-Z])/),weekdays:"SundayMondayTuesdayWednesdayThursdayFridaySaturday".split(/(?=[A-Z])/)},n=function(e,t){return e.indexOf(e.filter(function(e){return~e.indexOf(t)})[0])},o=["th","st","nd","rd"],r=function(e,t){return(e+t).slice(-e.length)},a={D:["Date"],M:["Month","addOne"],Y:["FullYear"],YY:["FullYear","year",-2],MMM:["Month","month",3],MMMM:["Month","month"],h:["Hours","hours"],H:["Hours"],m:["Minutes"],s:["Seconds"],S:["Milliseconds"],w:["Day"],d:["Date","marker"],a:["Hours","ampm"],www:["Day","days",3],wwww:["Day","days"],t:["Time"]};"DMhHmsw".split("").forEach(function(e){return a[e+e]=[a[e][0],a[e][1],a[e][2],"00"]});var i=/[A-Za-z]+/g,s=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,c=function(){function e(e,t){var r=this;this.month=function(e){return r.months[e]},this.monthRev=function(e){return n(r.months,e)},this.year=function(e){return e},this.yearRev=function(e){return+e+2e3},this.addOne=function(e){return e+1},this.addOneRev=function(e){return e-1},this.days=function(e){return r.weekdays[e]},this.daysRev=function(e){return n(r.weekdays,e)},this.ampm=function(e){return e/12|0?"PM":"AM"},this.ampmRev=function(e,t,n){return t.getHours()+("PM"===e?12:0)},this.hours=function(e){return e%12},this.marker=function(e){return e+o[e%10>3?0:(e%100-e%10==10?0:1)*e%10]},this.markerRev=function(e){return+e},this.months=e,this.weekdays=t}return e.prototype.format=function(e,t){var n=this,o=function(t,o,a,i){var s=e["get"+t]();return o&&(s=o.split(".").reduce(function(e,t){return e[t]},n)(s)),s+="",i&&(s=r(i,s)),a&&(s=a<0?s.slice(a):s.substr(0,a)),s};return t.replace(i,function(e){return a[e]?o.apply(n,a[e]):e})},e.prototype.parse=function(e,t){var n,o,r,i=this,c=new Date,l=[],u=t.replace(s,"\\$&").replace(/[A-Za-z]+/g,function(e){return(n=a[e])?(o="set"+n[0],c[o]?(l.push(n),"(#)"):"#"):e}),p=new RegExp("^"+u.replace(new RegExp("#","g"),"\\w+")+"$"),d=p.exec(e);if(!d)throw Error("Date parsing failed for "+p);return d.forEach(function(e,t){0!==t&&(o=l[t-1],r=i[o[1]+"Rev"],c["set"+o[0]](r?r(e,c):e))}),c},e}();e.DateFormat=c,e.format=function(e,n){return new c(t.months,t.weekdays).format(e,n)},e.parse=function(e,n){return new c(t.months,t.weekdays).parse(e,n)},e.dayOffset=function(e,t){return new Date(+e+24*t*60*60*1e3)},e.monthOffset=function(e,t){var n=new Date(+e);return n.setMonth(n.getMonth()+t),n},e.yearOffset=function(e,t){var n=new Date(+e);return n.setFullYear(n.getFullYear()+t),n};!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(e.Weekday||(e.Weekday={})),e.precedingDay=function(e,t){var n=new Date(+e);return n.setDate(n.getDate()-(e.getDay()+(7-t))%7),n}}(e.date||(e.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.ui.date.format,i=e.event.On,s=function(e){function t(t){var n=e.call(this)||this;return n.asLongMonth=function(){return a(n.date,"MMM")},n.asYear=function(){return a(n.date,"Y")},n.date=t,n}return __extends(t,e),t.prototype.renderMonth=function(){return'<li class="month-of-year">{{date:asLongMonth}}</li>'},t.prototype.renderYear=function(){return'<li class="year">{{date:asYear}}</li>'},t.prototype.clickedMonth=function(){this.triggerUp("go-to-date",this.date)},__decorate([r()],t.prototype,"date",void 0),__decorate([o("month")],t.prototype,"renderMonth",null),__decorate([o("year")],t.prototype,"renderYear",null),__decorate([i({event:"tap"})],t.prototype,"clickedMonth",null),t}(n);t.MonthOrYear=s}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.ui.date.format,i=e.event.On,s=function(e){function t(t,n){var o=e.call(this)||this;return o.offMonth=function(e){return e.getMonth()!==o.month?"off":void 0},o.asNumber=function(){return o.date.getDate()},o.asWeekday=function(){return a(o.date,"www").slice(0,2)},o.today=function(e,t){return void 0===t&&(t=new Date),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?"today":void 0},o.date=t,o.month=n,o}return __extends(t,e),t.prototype.weekdayMarkup=function(){return'<li class="column weekday">{{date:asWeekday}}</li>'},t.prototype.dateMarkup=function(){return'<li class="{{date:offMonth}} {{date:today}}">{{date:asNumber}}</li>'},t.prototype.clickedDay=function(){this.element.classList.contains("weekday")||this.triggerUp("select-to-date",this.date)},__decorate([r()],t.prototype,"date",void 0),__decorate([o("weekday")],t.prototype,"weekdayMarkup",null),__decorate([o("date")],t.prototype,"dateMarkup",null),__decorate([i({event:"tap",bubble:!0})],t.prototype,"clickedDay",null),t}(n);t.Day=s}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n,o=e.core.Widget,r=e.annotations.Template,a=e.observe.Bind,i=e.arrays.range,s=e.ui.date.Day;!function(e){e[e.Previous=0]="Previous",e[e.Normal=1]="Normal",e[e.Next=2]="Next"}(n=t.Position||(t.Position={}));var c=function(e){function o(t,o){var r=e.call(this)||this;return r.dates=[],r.positionClass=function(e){return n[e].toLowerCase()},r.startDate=t,r.position=o,r}return __extends(o,e),o.prototype.init=function(e){var n=this,o=t.precedingDay(this.startDate,t.Weekday.Monday),r=i(0,41).map(function(e){return new s(t.dayOffset(o,e),n.startDate.getMonth())});(a=this.dates).push.apply(a,r);var a},o.prototype.monthMarkup=function(){return'<ul class="month is-marginless {{position:positionClass}}" {{dates}}></ul>'},__decorate([a({templateName:"date"})],o.prototype,"dates",void 0),__decorate([a()],o.prototype,"position",void 0),__decorate([r()],o.prototype,"monthMarkup",null),o}(o);t.Month=c}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(n){var o=e.annotations.Construct,r=e.annotations.Template,a=e.observe.Bind,i=e.ui.date.precedingDay,s=e.ui.date.Weekday,c=e.ui.date.Position,l=e.ui.date.Day,u=e.hub.Subscribe,p=e.event.On,d=e.ui.events.addMultipleEventListeners,h=e.ui.events.removeMultipleEventListeners,f=e.ui.events.tapEvents,v=e.arrays.range,g=function(e){function g(t){var o=e.call(this,t,{name:"",dateformat:"DD.MM.Y"})||this;return o.startDate=new Date,o.weekdays=[],o.monthsOfYear=[],o.years=[],o.months=[],o.showMonthsOfYear=!1,o.showYears=!1,o.hidden=!0,o.value="",o.month=function(e){return n.format(e,"MMMM")},o.year=function(e){return n.format(e,"Y")},o.openOrClosed=function(e){return e?"open":void 0},o.value=n.format(t.date,o.config.dateformat),o.startDate=t.date,o.currentDate=t.date,o.closeHandler=o.closeHandler.bind(o),o}return __extends(g,e),g.prototype.init=function(e){e.classList.add("form-field","label-on-top"),this.render();var t=new Date(+this.startDate);t.setDate(1);var o=new Date(+this.startDate);o.setDate(1),o.setMonth(0);var r=i(t,s.Monday),a=v(0,6).map(function(e){return new l(n.dayOffset(r,e),t.getMonth())});(u=this.weekdays).push.apply(u,a),this.months.push(new n.Month(n.monthOffset(t,-1),c.Previous),new n.Month(n.monthOffset(t,0),c.Normal),new n.Month(n.monthOffset(t,1),c.Next)),this.setCurrentMonthAndYear();var u},g.prototype.setCurrentMonthAndYear=function(){this.currentDate=new Date(+this.months[1].startDate),this.makeMonthAndYearPanel()},g.prototype.previousMonth=function(){this.triggerDown("snap-scroll-previous"),this.showMonthsOfYear=!1,this.showYears=!1},g.prototype.nextMonth=function(){this.triggerDown("snap-scroll-next"),this.showMonthsOfYear=!1,this.showYears=!1},g.prototype.monthClicked=function(){this.showMonthsOfYear=!this.showMonthsOfYear,this.showYears=!1},g.prototype.yearClicked=function(){this.showYears=!this.showYears,this.showMonthsOfYear=!1},g.prototype.iconClicked=function(){var e=this;this.hidden=!this.hidden,this.hidden?(h(f,document,this.closeHandler),this.closeInnerPanels()):setTimeout(function(){return d(f,document,e.closeHandler)},10)},g.prototype.selectDate=function(e){this.value=n.format(e,this.config.dateformat),this.hidden=!0,this.config.onChange(this.value),h(f,document,this.closeHandler)},g.prototype.goToDate=function(e){var t=new n.Month(n.monthOffset(e,-1),c.Previous),o=new n.Month(n.monthOffset(e,0),c.Normal),r=new n.Month(n.monthOffset(e,1),c.Next);this.months.splice(0,3,t,o,r),this.setCurrentMonthAndYear(),this.closeInnerPanels()},g.prototype.closeInnerPanels=function(){this.showYears=!1,this.showMonthsOfYear=!1,this.triggerDown("snap-scroll-reset")},g.prototype.panelSwitched=function(e){var o=this.months;if(e===t.Direction.Previous){var r=new n.Month(n.monthOffset(o[0].startDate,-1),c.Previous);o[0].position=c.Normal,o[1].position=c.Next,o.unshift(r),o.pop()}else{var a=new n.Month(n.monthOffset(o[2].startDate,1),c.Next);o[1].position=c.Previous,o[2].position=c.Normal,o.push(a),o.shift()}this.setCurrentMonthAndYear(),this.triggerDown("snap-scroll-reset")},g.prototype.makeMonthAndYearPanel=function(){var e=this.currentDate,t=v(0,11).map(function(t){return new n.MonthOrYear(n.monthOffset(e,-e.getMonth()+t))}),o=v(-4,7).map(function(t){return new n.MonthOrYear(n.yearOffset(e,t))});(r=this.monthsOfYear).splice.apply(r,[0,12].concat(t)),(a=this.years).splice.apply(a,[0,12].concat(o));var r,a},g.prototype.closeHandler=function(e){var t=this.element,n=e.target;this.hidden||t.querySelector(".open-in-view").contains(n)||t.querySelector(".icon").contains(n)||(this.hidden=!0,this.closeInnerPanels())},g.prototype.datePickerMarkup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control has-icons-right">\n                  <input class="input" type="text" name="{{config.name}}" value="{{value}}" placeholder="{{config.dateformat}}">\n                  <span class="icon is-small is-right"><i class="fa fa-calendar"></i></span>\n                </p>\n                <div class="calendar open-in-view" {{hidden}}>\n                    <nav class="nav">\n                      <span class="nav-left clickable is-small is-left"><i class="fa fa-angle-left"></i></span>\n                      <span class="nav-center is-marginless">\n                        <span class="month clickable">{{currentDate:month}}<i class="fa fa-angle-down"></i></span>\n                        <span class="year clickable">{{currentDate:year}}<i class="fa fa-angle-down"></i></span>\n                      </span>\n                      <span class="nav-right clickable is-small is-right"><i class="fa fa-angle-right"></i></span>\n                    </nav>\n                    <ul class="columns weekday is-mobile is-desktop is-gapless is-marginless" {{weekdays}}></ul>\n                    <div class="months is-gapless snap-scroll" width="200" {{months}}></div>\n                    <div class="month-selector is-marginless is-gapless {{showMonthsOfYear:openOrClosed}}" {{monthsOfYear}}></div>\n                    <div class="year-selector is-marginless is-gapless {{showYears:openOrClosed}}" {{years}}></div>\n                </div>\n            </div>\n            '},__decorate([a({templateName:"weekday"})],g.prototype,"weekdays",void 0),__decorate([a({templateName:"month"})],g.prototype,"monthsOfYear",void 0),__decorate([a({templateName:"year"})],g.prototype,"years",void 0),__decorate([a()],g.prototype,"months",void 0),__decorate([a()],g.prototype,"currentDate",void 0),__decorate([a()],g.prototype,"showMonthsOfYear",void 0),__decorate([a()],g.prototype,"showYears",void 0),__decorate([a()],g.prototype,"hidden",void 0),__decorate([a()],g.prototype,"value",void 0),__decorate([p({event:"tap",selector:".nav-left"})],g.prototype,"previousMonth",null),__decorate([p({event:"tap",selector:".nav-right"})],g.prototype,"nextMonth",null),__decorate([p({event:"tap",selector:".nav-center .month"})],g.prototype,"monthClicked",null),__decorate([p({event:"tap",selector:".nav-center .year"})],g.prototype,"yearClicked",null),__decorate([p({event:"tap",selector:"input + .icon",bubble:!0})],g.prototype,"iconClicked",null),__decorate([u("select-to-date")],g.prototype,"selectDate",null),__decorate([u("go-to-date")],g.prototype,"goToDate",null),__decorate([u("snap-scroll-moved")],g.prototype,"panelSwitched",null),__decorate([r()],g.prototype,"datePickerMarkup",null),g=__decorate([o({selector:"datepicker",attributes:["config"]})],g)}(e.ui.types.FormComponent);n.DatePicker=g}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.annotations.Template,r=e.ui.types.FormComponent,a=e.event.On,i=e.observe.Bind,s=function(e){function t(t){var n=e.call(this,t)||this;return n.asLabel=function(e){return e?n.config.labelOn:n.config.labelOff},n.checked=t.checked,n}return __extends(t,e),t.prototype.clicked=function(){this.checked=this.input.checked,this.config.onChange(this.checked)},t.prototype.init=function(e){this.render(),this.input=e.querySelector("input")},t.prototype.asCheckbox=function(){return'\n            <div class="field">\n                <label class="label">{{config.label}}</label>\n                <label>\n                  <input type="checkbox" checked="{{checked}}">\n                  <span class="clickable">{{checked:asLabel}}</span>\n                </label>\n            </div>'},__decorate([i()],t.prototype,"checked",void 0),__decorate([a({event:"change",selector:"label + label"})],t.prototype,"clicked",null),__decorate([o()],t.prototype,"asCheckbox",null),t=__decorate([n({selector:"checkbox",attributes:["config"]})],t)}(r);t.Checkbox=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.hub.Subscribe,c=e.ui.utils.focusElement,l=["fontSize","fontFamily","fontWeight","letterSpacing","textTransform"],u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value="",t}return __extends(t,e),t.prototype.onTextChange=function(){this.value=this.input.value,this.input.style.width=this.span.getBoundingClientRect().width+5+"px"},t.prototype.init=function(e){var t=this;this.render(),this.input=e.querySelector("input"),this.span=e.querySelector("span"),setTimeout(function(){var e=window.getComputedStyle(t.input);l.forEach(function(n){return t.span.style[n]=e[n]})},50)},t.prototype.clear=function(e){this.value=this.input.value="",e&&c(this.input)},t.prototype.markup=function(){return'\n                <span>{{value}}</span>\n                <input type="text">'},__decorate([o({})],t.prototype,"value",void 0),__decorate([i({event:"textchange",selector:"input",bubble:!0})],t.prototype,"onTextChange",null),__decorate([s("autogrow-clear")],t.prototype,"clear",null),__decorate([r()],t.prototype,"markup",null),t=__decorate([n({selector:"auto-grow-input"})],t)}(a);t.AutoGrowInput=u}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.observe.Bind,o=e.annotations.Template,r=e.ui.events.GestureWidget,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(t,n,o){var r=e.call(this)||this;return r.selected=!1,r.selectedClass=function(e){return e?"selected":void 0},r.iconClass=function(e){return"fa-"+e},r.name=t,r.icon=n,r.value=o,r}return __extends(t,e),t.prototype.init=function(e){this.selectable=e.classList.contains("selectable")},t.prototype.copy=function(){return new t(this.name,this.icon,this.value)},t.prototype.selectedValue=function(){this.triggerUp("value-selected",this),this.selected=!0},t.prototype.clickedValue=function(){this.triggerUp("value-clicked",this),this.selected=!this.selected},t.prototype.deselect=function(e){this.selectable&&this!==e&&(this.selected=!1)},t.prototype.select=function(e){this.selectable&&this===e&&(this.selected=!0)},t.prototype.asValue=function(){return'<li class="clickable {{selected:selectedClass}}"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t.prototype.asDropdownValue=function(){return'<li class="clickable"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t.prototype.asSelectedValue=function(){return'<li class="selectable {{selected:selectedClass}}"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},__decorate([n()],t.prototype,"name",void 0),__decorate([n()],t.prototype,"selected",void 0),__decorate([n()],t.prototype,"icon",void 0),__decorate([a({event:"tap",selector:".selectable"})],t.prototype,"selectedValue",null),__decorate([a({event:"tap",selector:".clickable"})],t.prototype,"clickedValue",null),__decorate([i("deselect-other-values")],t.prototype,"deselect",null),__decorate([i("select-value")],t.prototype,"select",null),__decorate([o("value")],t.prototype,"asValue",null),__decorate([o("dropdown-value")],t.prototype,"asDropdownValue",null),__decorate([o("selectable-value")],t.prototype,"asSelectedValue",null),t}(r);t.ChooserValue=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.event.On,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,c=e.ui.events.tapEvents,l=e.hub.Subscribe,u=function(e){function t(t){var n=e.call(this,t)||this;n.hidden=!0,n.selectedValue=[],n.values=[],n.selectedIndex=-1;var o=t.initialValue||t.values[0];return n.selectedValue.push(t.converter(o)),(r=n.values).push.apply(r,t.values.map(function(e){return t.converter(e)})),n.closeHandler=n.closeHandler.bind(n),n.keyHandler=n.keyHandler.bind(n),n;var r}return __extends(t,e),t.prototype.init=function(e){e.classList.add("single-value"),this.render()},t.prototype.onSelected=function(e){this.selectedValue.splice(0,this.selectedValue.length,e.copy()),this.closeHandler(),this.config.onChange(e.value)},t.prototype.onClicked=function(){this.clicked()},t.prototype.clicked=function(){this.hidden?this.open():this.closeHandler()},t.prototype.keyHandler=function(e){27===e.keyCode&&this.closeHandler(),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var t=this.values.length;if(t&&(40===e.keyCode&&(e.preventDefault(),++this.selectedIndex>t-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),--this.selectedIndex<0&&(this.selectedIndex=t-1)),40===e.keyCode||38===e.keyCode)){e.preventDefault();var n=this.values[this.selectedIndex];this.triggerDown("select-value",n),this.triggerDown("deselect-other-values",n)}},t.prototype.open=function(){this.triggerDown("deselect-other-values"),this.hidden=!1,i(c,document,this.closeHandler),i(["keydown"],document,this.keyHandler)},t.prototype.closeHandler=function(e){this.hidden||e&&this.element.querySelector(".values").contains(e.target)||(s(c,document,this.closeHandler),s(["keydown"],document,this.keyHandler),this.hidden=!0,this.selectedIndex=-1)},t.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <div class="selected-values dropdown">\n                  <ul {{selectedValue}}></ul>\n                  <div class="buttons">\n                    <Icon class="clickable" name="angle-down"/>\n                  </div>\n                </div>\n                <ul class="values" {{hidden}} {{values}}></ul>\n            </div>'},__decorate([o()],t.prototype,"hidden",void 0),__decorate([o()],t.prototype,"value",void 0),__decorate([o({templateName:"dropdown-value"})],t.prototype,"selectedValue",void 0),__decorate([o({templateName:"selectable-value"})],t.prototype,"values",void 0),__decorate([l("value-selected")],t.prototype,"onSelected",null),__decorate([l("value-clicked")],t.prototype,"onClicked",null),__decorate([a({event:"tap",selector:".selected-values"})],t.prototype,"clicked",null),__decorate([r()],t.prototype,"markup",null),t=__decorate([n({selector:"dropdown",attributes:["config"]})],t)}(e.ui.types.FormComponent);t.Dropdown=u}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.event.On,i=e.event.Scope,s=e.xhr.Rest,c=e.ui.utils.focusElement,l=e.ui.events.addMultipleEventListeners,u=e.ui.events.removeMultipleEventListeners,p=e.ui.events.tapEvents,d=e.hub.Subscribe,h=e.arrays.removeFromArray,f=function(e){function t(t){var n=e.call(this,t,{maxItems:6})||this;return n.values=[],n.selectedValues=[],n.hidden=!0,n.fetching=!1,n.selectedIndex=-1,n.fetchingClass=function(e){return e?"fetching":void 0},n.selectedCount=function(e){return e.length},t.initialValue&&(Array.isArray(t.initialValue)?(o=n.selectedValues).push.apply(o,t.initialValue.map(function(e){return t.converter(e)})):n.selectedValues.push(t.converter(t.initialValue))),n.url=t.url,n.closeHandler=n.closeHandler.bind(n),n;var o}return __extends(t,e),t.prototype.init=function(e){this.config.singleValue&&e.classList.add("single-value"),this.render()},t.prototype.textChanged=function(e){this.url&&(this.keyword=e.target.value,/^\s*$/.test(this.keyword)?this.values.splice(0,this.values.length):(this.fetching=!0,this.open(),this.lastFetch&&this.lastFetch.abort(),this.lastFetch=this.fetchData()))},t.prototype.fetchData=function(e){var t=this;this.fetching=!1,(n=this.values).splice.apply(n,[0,this.values.length].concat(e.slice(0,this.config.maxItems).map(function(e){return t.config.converter(e)})));var n},t.prototype.onValueClicked=function(e){this.config.singleValue&&(this.selectedValues.pop(),this.previous=e),c(this.element.querySelector("input"))},t.prototype.onSelected=function(e){this.previous=void 0,this.config.singleValue?this.selectedValues.splice(0,this.selectedValues.length,e.copy()):this.selectedValues.push(e.copy()),this.notifyChange(),this.closeHandler(),this.triggerDown("autogrow-clear",!0),this.triggerDown("deselect-other-values",e)},t.prototype.notifyChange=function(){var e=this.selectedValues.map(function(e){return e.value});this.config.onChange(this.config.singleValue?e[0]:e)},t.prototype.emptySpaceClicked=function(e,t){e.target===t&&c(this.element.querySelector("input"))},t.prototype.blurred=function(){this.hidden&&(this.closeHandler(),this.restorePrevious())},t.prototype.restorePrevious=function(){this.config.singleValue&&void 0!==this.previous&&this.selectedValues.splice(0,this.selectedValues.length,this.previous.copy())},t.prototype.focused=function(e){this.textChanged(e)},t.prototype.deleteClicked=function(){this.previous=void 0;var e=this.selectedValues,t=e.filter(function(e){return e.selected});0===t.length?e.splice(0,e.length):h(e,t),this.notifyChange()},t.prototype.controlKeyPressed=function(e,t){8===e.keyCode&&!e.target.value.length&&this.selectedValues.length>0&&this.selectedValues.pop(),27===e.keyCode&&(t.blur(),t.value="",this.closeHandler(),this.restorePrevious()),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var n=this.values.length;if(n&&(40===e.keyCode&&(e.preventDefault(),++this.selectedIndex>n-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),--this.selectedIndex<0&&(this.selectedIndex=n-1)),40===e.keyCode||38===e.keyCode)){var o=this.values[this.selectedIndex];this.triggerDown("select-value",o),this.triggerDown("deselect-other-values",o)}},t.prototype.open=function(){this.hidden=!1,l(p,document,this.closeHandler)},t.prototype.closeHandler=function(e){this.hidden||e&&this.element.contains(e.target)||(u(p,document,this.closeHandler),this.hidden=!0,this.selectedIndex=-1)},t.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <div class="selected-values">\n                  <ul count="{{selectedValues:selectedCount}}" {{selectedValues}}>\n                    <li><auto-grow-input/></li>\n                  </ul>\n                  <div class="buttons">\n                    <button class="delete is-small"></button>\n                  </div>\n                </div>\n                <ul class="values {{fetching:fetchingClass}}" {{hidden}} {{values}}></ul>\n            </div>'},__decorate([o({templateName:"selectable-value"})],t.prototype,"values",void 0),__decorate([o({templateName:"value"})],t.prototype,"selectedValues",void 0),__decorate([o()],t.prototype,"hidden",void 0),__decorate([o()],t.prototype,"fetching",void 0),__decorate([a({event:"textchange",selector:'input[type="text"]'})],t.prototype,"textChanged",null),__decorate([s({url:"{{config.url}}{{keyword}}"})],t.prototype,"fetchData",null),__decorate([d("value-clicked")],t.prototype,"onValueClicked",null),__decorate([d("value-selected")],t.prototype,"onSelected",null),__decorate([a({event:"tap",selector:".selected-values > ul",bubble:!0})],t.prototype,"emptySpaceClicked",null),__decorate([a({event:"blur",selector:'input[type="text"]',scope:i.Direct})],t.prototype,"blurred",null),__decorate([a({event:"focus",selector:'input[type="text"]',scope:i.Direct})],t.prototype,"focused",null),__decorate([a({event:"tap",selector:".delete"})],t.prototype,"deleteClicked",null),__decorate([a({event:"keydown",selector:"input"})],t.prototype,"controlKeyPressed",null),__decorate([r()],t.prototype,"markup",null),t=__decorate([n({selector:"chooser",attributes:["config"]})],t)}(e.ui.types.FormComponent);t.Chooser=f}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.annotations.Template,r=e.ui.types.FormComponent,a=e.event.On,i=function(e){function t(t){var n=e.call(this,t,{placeholder:"",type:"text",icon:null,value:"",autofocus:!1})||this;return n.iconClass=function(e){return"fa-"+e},n.errorClass=function(e){return e?"is-warning":void 0},n}return __extends(t,e),t.prototype.init=function(){this.config.icon?this.render("with-icon"):this.render("without-icon")},t.prototype.onTextChange=function(e,t){this.config.onChange(t.value)},t.prototype.withIcon=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control has-icons-left">\n                  <input type="{{config.type}}"\n                         class="input {{error:errorClass}}"\n                         value="{{config.value}}"\n                         placeholder="{{config.placeholder}}"\n                         autofocus="{{config.autofocus}}">\n                  <span class="icon is-small is-left">\n                    <i class="fa {{config.icon:iconClass}}"></i>\n                  </span>\n                </p>\n            </div>'},t.prototype.withoutIcon=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control">\n                  <input type="{{config.type}}"\n                         class="input"\n                         value="{{config.value}}"\n                         placeholder="{{config.placeholder}}"\n                         autofocus="{{config.autofocus}}">\n                </p>\n            </div>'},__decorate([a({event:"textchange",selector:"input"})],t.prototype,"onTextChange",null),__decorate([o("with-icon")],t.prototype,"withIcon",null),__decorate([o("without-icon")],t.prototype,"withoutIcon",null),t=__decorate([n({selector:"text",attributes:["config"]})],t)}(r);t.TextInput=i}(e.ui||(e.ui={}))}(feather||(feather={}));var quill;!function(e){!function(e){e[e.ENTER=13]="ENTER"}(e.Keys||(e.Keys={}))}(quill||(quill={}));var quill;!function(e){var t=feather.ui.tree.TreeNodeIcon,n={},o=function(){for(var e,t=/\+/g,o=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},a=window.location.search.substring(1);e=o.exec(a);)n[r(e[1])]=r(e[2])};window.addEventListener("popstate",o),o(),e.getQueryStringParam=function(e){return n[e]},e.iconFor=function(e){switch(e){case"string":return t.text;case"number":return t.number;case"enum":return t.enum;case"list":return t.array;case"node":return t.object;case"boolean":return t.boolean}}}(quill||(quill={}));var quill;!function(e){e.headers=(t={"X-Api-Key":"AbCdEfGhIjK1","Content-Type":"application/json","Accept-Language":"en_IE.UTF-8"},t["X-Auth-Token"]=localStorage.getItem("X-Auth-Token"),t),e.setToken=function(t){localStorage.setItem("X-Auth-Token",t.token),e.headers["X-Auth-Token"]=t.token},e.removeToken=function(){localStorage.removeItem("X-Auth-Token"),e.headers["X-Auth-Token"]=void 0};var t}(quill||(quill={}));var _this=this;window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(_this.document||_this.ownerDocument).querySelectorAll(e),o=_this;do{for(t=n.length;--t>=0&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o});var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.observe.Bind,r=feather.annotations.Template,a=function(e){function t(t){var n=e.call(this)||this;return n.key=t,n}return __extends(t,e),t.prototype.init=function(e){e.classList.remove("key"),this.render()},t.prototype.markup=function(){return"{{key:translate}}"},__decorate([o()],t.prototype,"key",void 0),__decorate([r()],t.prototype,"markup",null),t=__decorate([n({selector:"[key]",attributes:["key"]})],t)}(t);e.Translate=a}(quill||(quill={}));var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.observe.Bind,r=feather.annotations.Template,a=function(e){function t(){var t=e.call(this)||this;return t.fetching=!1,t.runningClass=function(e){return e?"running":void 0},a.instance=t,t}return __extends(t,e),a=t,t.prototype.init=function(){this.render()},t.prototype.markup=function(){return'<div class="progress-runner {{fetching:runningClass}}"></div>'},t.start=function(){a.instance.fetching=!0},t.stop=function(){a.instance.fetching=!1},__decorate([o()],t.prototype,"fetching",void 0),__decorate([r()],t.prototype,"markup",null),t=a=__decorate([n({selector:"progress-bar"})],t);var a}(t);e.Progress=a}(quill||(quill={}));var quill;!function(e){!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.annotations.Template,r=feather.observe.Bind,a=function(e){function t(t){var n=e.call(this)||this;return n.key=t,n}return __extends(t,e),t.prototype.init=function(e){e.classList.remove("html-key"),this.render()},t.prototype.text=function(){return"{{key:translate}}"},__decorate([r({html:!0})],t.prototype,"key",void 0),__decorate([o()],t.prototype,"text",null),t=__decorate([n({selector:"html-fragment",attributes:["html-key"]})],t)}(t);e.HtmlFragment=a}(e.components||(e.components={}))}(quill||(quill={}));var quill;!function(e){!function(t){var n=feather.ui.events.GestureWidget,o=feather.ui.toast.Theme,r=feather.ui.toast.ToastManager,a=feather.ui.toast.Toast,i=feather.hub.Subscribe,s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.validationFailed=function(t){var n=this;e.Progress.stop();var i=t.errors.map(function(e){return"validation"===e.type&&n.triggerDown("field-error",e.title),e.message});if(t.errors.length){var s=t.errors[0].title.split(".").shift();r.showToast(new a("ui."+s+".failed",i,o.Warning))}},n.prototype.requestFailed=function(t){e.Progress.stop(),r.showToast(new a("ui.error.server",t.errors[0].message,o.Error))},n.prototype.timeout=function(){e.Progress.stop(),r.showToast(new a("ui.error.timeout","ui.error.timeout.message",o.Error))},__decorate([i("xhr-failure-400")],n.prototype,"validationFailed",null),__decorate([i("xhr-failure-500")],n.prototype,"requestFailed",null),__decorate([i("xhr-failure-timeout")],n.prototype,"timeout",null),n}(n);t.AjaxForm=s}(e.components||(e.components={}))}(quill||(quill={}));var quill;!function(e){!function(e){var t=feather.ui.events.GestureWidget,n=feather.annotations.Construct,o=feather.hub.Subscribe,r=feather.event.On,a=feather.observe.Bind,i=feather.annotations.Template,s=feather.arrays.removeFromArray,c=function(e){function t(t,n,o){var r=e.call(this)||this;return r.label=t,r.selected=n,r.type=o,c.labels.push(r),r}return __extends(t,e),c=t,t.prototype.init=function(){this.render()},t.prototype.click=function(){var e=this;this.selected=!0,this.triggerUp("root-type-selected",this.type),c.labels.forEach(function(t){t!==e&&(t.selected=!1)})},t.prototype.nodeSelected=function(e){e&&(this.selected=!1)},t.prototype.markup=function(){return'<p class="menu-label clickable" {{selected}}>\n                <span class="icon is-small">\n                    <i class="fa fa-angle-double-right"></i>\n                </span>\n                {{label}}\n            </p>'},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),s(c.labels,[this])},t.labels=[],__decorate([a()],t.prototype,"selected",void 0),__decorate([a()],t.prototype,"label",void 0),__decorate([r({event:"tap"})],t.prototype,"click",null),__decorate([o("defocus-other-nodes")],t.prototype,"nodeSelected",null),__decorate([i()],t.prototype,"markup",null),t=c=__decorate([n({selector:"selectable-tree-label",attributes:["label","selected","type"]})],t);var c}(t);e.SelectableTreeLabel=c}(e.components||(e.components={}))}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Template,n=feather.event.On,o=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return __extends(o,e),o.prototype.backButtonClicked=function(){this.route("/")},o.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="small-info-page">\n                  <h1 key="ui.page.notfound.title"/>\n                  <p key="ui.page.notfound.body"/>\n                  <div class="form-components">\n                    <div class="block has-text-right">\n                        <a class="button is-primary back-action" key="ui.page.notfound.button"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            '},__decorate([n({event:"tap",selector:".back-action",preventDefault:!0})],o.prototype,"backButtonClicked",null),__decorate([t("default")],o.prototype,"loginPage",null),o}(feather.ui.events.GestureWidget);e.NotFoundPage=o}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Construct,n=feather.annotations.Template,o=feather.event.On,r=feather.ui.events.GestureWidget,a=feather.hub.Subscribe,i=feather.ui.events.addMultipleEventListeners,s=feather.ui.events.removeMultipleEventListeners,c=feather.ui.events.tapEvents,l=feather.xhr.Rest,u=function(r){function u(){var e=r.call(this)||this;return e.closeHandler=e.closeHandler.bind(e),e}return __extends(u,r),u.prototype.init=function(){this.render()},u.prototype.toggle=function(e,t){this.toggleActiveState(),t.classList.contains("is-active")?i(c,document,this.closeHandler):s(c,document,this.closeHandler)},u.prototype.closeHandler=function(e){this.element.contains(e.target)||(this.toggleActiveState(),s(c,document,this.closeHandler))},u.prototype.toggleActiveState=function(){var e=this.element.querySelector(".nav-toggle");e.classList.toggle("is-active"),e.nextElementSibling.classList.toggle("is-active")},u.prototype.logoutClicked=function(){this.doLogout()},u.prototype.doLogout=function(){e.removeToken(),this.route("/login")},u.prototype.logoutFailed=function(){e.removeToken(),this.route("/login")},u.prototype.markup=function(){return'\n            <nav class="nav">\n              <div class="nav-left">\n                <a class="nav-item" href="/" id="logo">\n                    <img src="/assets/images/quill.svg" alt="Quill Logo">\n                    <span>Quill</span><span>{{project.name}}</span>\n                </a>\n              </div>\n              <span class="nav-toggle">\n                <span></span>\n                <span></span>\n                <span></span>\n              </span>\n              <div class="nav-right nav-menu">\n                <a class="nav-item logout">Logout <span class="username">{{user.firstname}}</span></a>\n                <a class="nav-item">Documentation</a>\n                <div  class="nav-item">\n                    <p class="control has-icons-right" id="search">\n                      <input class="input" type="text" placeholder="Search...">\n                      <Icon name="search" align-right="right"></Icon>\n                    </p>\n                </div>\n              </div>\n            </nav>\n            '},__decorate([o({event:"tap",selector:".nav-toggle"})],u.prototype,"toggle",null),__decorate([o({event:"tap",selector:"a.logout"})],u.prototype,"logoutClicked",null),__decorate([l({url:"/signout",headers:e.headers})],u.prototype,"doLogout",null),__decorate([a("xhr-failure")],u.prototype,"logoutFailed",null),__decorate([n()],u.prototype,"markup",null),u=__decorate([t({selector:"navigation",singleton:!0})],u)}(r);e.Navigation=u}(quill||(quill={}));var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Template,o=feather.observe.Bind,r=feather.hub.Subscribe,a=feather.ui.tree.TreeNode,i=feather.xhr.Rest,s=feather.xhr.Method,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=function(){return""+t.value.id},t}return __extends(t,e),t}(a);e.CustomTreeNode=c;var l=function(t){var n=new c(t.name,t,e.iconFor(t.type));return(o=n.children).push.apply(o,t.children.map(l)),n;var o},u={id:0,name:"",structure:[],schema:[]},p=function(t){function a(e){var n=t.call(this)||this;return n.nodes=[],n.schemaNodes=[],n.project=u,n.currentRootType="structure",n.id=function(){return n.projectId},n.newNode={name:"New node",sort:0},n.projectId=e,n}return __extends(a,t),a.prototype.init=function(){this.fetchProject()},a.prototype.fetchProject=function(e){this.project=e,(t=this.nodes).push.apply(t,e.structure.map(l));var t},a.prototype.nodeDeselected=function(e){this.currentTreeNode=void 0},a.prototype.nodeSelected=function(e){this.currentTreeNode=e,this.triggerDown("defocus-other-nodes",e)},a.prototype.rootTypeSelected=function(e){this.currentRootType=e,this.triggerDown("defocus-other-nodes")},a.prototype.nodeAction=function(e){switch(e){case"node-add":this.currentTreeNode?this.createChildNode():this.createNode();break;case"node-delete":this.deleteNode()}},a.prototype.createChildNode=function(){},a.prototype.deleteNode=function(){},a.prototype.createNode=function(){},a.prototype.projectPage=function(){return'\n              <panel class="fullscreen v-flex">  \n                  <navigation class="no-grow"></navigation>\n                  <horizontal-split class="grow" id="app-split">\n                    <sidebar class="v-flex">\n                      <tree-actions></tree-actions>\n                      <scroll-pane class="grow">\n                        <aside class="menu">\n                          <selectable-tree-label label="Structure" selected={true} type="structure"></selectable-tree-label>\n                          <ul class="tree-view is-marginless" {{nodes}}></ul>\n                          <selectable-tree-label label="Schemas" selected={false} type="schema"></selectable-tree-label>\n                          <ul class="tree-view is-marginless" {{schemaNodes}}></ul>\n                        </aside>\n                      </scroll-pane>\n                    </sidebar>\n                    <section class="v-flex">\n                      <scroll-pane class="grow">\n                      </scroll-pane>\n                    </section>\n                  </horizontal-split>\n                  <footer class="no-grow"/>\n              </panel>\n            '},__decorate([o()],a.prototype,"nodes",void 0),__decorate([o()],a.prototype,"schemaNodes",void 0),__decorate([o({bequeath:!0})],a.prototype,"project",void 0),__decorate([i({url:"/projects/{{projectId}}",headers:e.headers})],a.prototype,"fetchProject",null),__decorate([r("node-defocused")],a.prototype,"nodeDeselected",null),__decorate([r("node-focused")],a.prototype,"nodeSelected",null),__decorate([r("root-type-selected")],a.prototype,"rootTypeSelected",null),__decorate([r("node-action")],a.prototype,"nodeAction",null),__decorate([i({url:"/projects/{{projectId}}/node/{{currentTreeNode.id}}",method:s.POST,headers:e.headers})],a.prototype,"createChildNode",null),__decorate([i({url:"/projects/{{projectId}}/node/{{currentTreeNode.id}}",method:s.DELETE,headers:e.headers})],a.prototype,"deleteNode",null),__decorate([i({url:"/projects/{{projectId}}/{{currentRootType}}",method:s.POST,body:"newNode",headers:e.headers})],a.prototype,"createNode",null),__decorate([n()],a.prototype,"projectPage",null),a}(t);e.ProjectPage=p}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Template,n=feather.observe.Bind,o=feather.hub.Subscribe,r=feather.event.On,a=feather.xhr.Rest,i=feather.xhr.Method,s=feather.ui.toast.Theme,c=e.components.AjaxForm,l=feather.ui.toast.Toast,u=feather.ui.toast.ToastManager,p=feather.event.Scope,d=function(c){function d(){var e=null!==c&&c.apply(this,arguments)||this;return e.credentials={},e.signup={},e.forgotPassword={},e.forgotPasswordInfo="forgot-password.info",e.identifierConfig={label:"ui.signin.identifier",name:"signin.identifier",placeholder:"john@freemail.com",icon:"envelope-o",autofocus:!0,onChange:function(t){return e.credentials.identifier=t}},e.passwordConfig={label:"ui.signin.password",name:"signin.password",icon:"lock",type:"password",onChange:function(t){return e.credentials.password=t}},e.firstnameConfig={label:"ui.signup.firstname",icon:"user-o",name:"signup.firstname",placeholder:"John",onChange:function(t){return e.signup.firstname=t}},e.lastnameConfig={label:"ui.signup.lastname",icon:"user-o",name:"signup.lastname",placeholder:"Smith",onChange:function(t){return e.signup.firstname=t}},e.emailConfig={label:"ui.signup.email",name:"signup.email",icon:"envelope-o",placeholder:"john@mail,com",onChange:function(t){return e.signup.email=t}},e.signupPasswordConfig={label:"ui.signup.password",name:"signup.password",icon:"lock",onChange:function(t){return e.signup.password=t}},e.forgotPasswordConfig={label:"ui.forgot-password.email",name:"forgot-password.identifier",icon:"envelope-o",onChange:function(t){return e.forgotPassword.identifier=t}},e}return __extends(d,c),d.prototype.loginClicked=function(){e.Progress.start(),this.doLogin()},d.prototype.pressedEnter=function(t){t.keyCode===e.Keys.ENTER&&(e.Progress.start(),this.doLogin())},d.prototype.doLogin=function(t){e.setToken(t),this.route("/ "),e.Progress.stop()},d.prototype.unauthorized=function(t){e.Progress.stop(),u.showToast(new l(t.errors[0].title,t.errors[0].message,s.Error))},d.prototype.signupClicked=function(){this.triggerDown("field-error-clear"),e.Progress.start(),this.doSignup()},d.prototype.doSignup=function(t){e.setToken(t),e.Progress.stop(),this.route("/")},d.prototype.forgotPasswordClicked=function(){e.Progress.start(),this.requestPasswordChange()},d.prototype.requestPasswordChange=function(){e.Progress.stop(),u.showToast(new l("ui.forgot-password.email-sent","ui.forgot-password.email-sent.message",s.Info)),this.route("/login")},d.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="login">\n                    <tabs>\n                      <div class="form-components" title="ui.login.tabs.login" icon="key" active>\n                        <Text config="{identifierConfig}"/>\n                        <Text config="{passwordConfig}"/>\n                        <div class="block has-text-right">\n                            <a class="button is-primary login-action" key="ui.signin.button"/>\n                        </div>\n                      </div>\n                      <div class="form-components" title="ui.login.tabs.signup" icon="pencil-square-o">\n                        <Text config="{firstnameConfig}"/>\n                        <Text config="{lastnameConfig}"/>\n                        <Text config="{emailConfig}"/>\n                        <Text config="{signupPasswordConfig}"/>\n                        <div class="block has-text-right">\n                             <a class="button is-primary signup-action" key="ui.signup.button"/>\n                        </div>\n                      </div>\n                      <div class="form-components" title="ui.login.tabs.forgot-password" icon="unlock">\n                        <html-fragment html-key="ui.forgot-password.info"></html-fragment>\n                        <Text config="{forgotPasswordConfig}"/>\n                        <div class="block has-text-right">\n                             <a class="button is-primary forgot-password-action" key="ui.forgot-password.button"/>\n                        </div>\n                      </div>\n                  </tabs>\n                </div>\n            </scroll-pane>\n            '},__decorate([n()],d.prototype,"forgotPasswordInfo",void 0),__decorate([r({event:"tap",selector:".login-action"})],d.prototype,"loginClicked",null),__decorate([r({event:"keypress",selector:'input[type="password"]',scope:p.Direct})],d.prototype,"pressedEnter",null),__decorate([a({url:"/signin",method:i.POST,body:"credentials",headers:e.headers})],d.prototype,"doLogin",null),__decorate([o("xhr-failure-401")],d.prototype,"unauthorized",null),__decorate([r({event:"tap",selector:".signup-action"})],d.prototype,"signupClicked",null),__decorate([a({url:"/signup",method:i.POST,body:"signup",headers:e.headers})],d.prototype,"doSignup",null),__decorate([r({event:"tap",selector:".forgot-password-action"})],d.prototype,"forgotPasswordClicked",null),__decorate([a({url:"/account",method:i.PUT,body:"forgotPassword",headers:e.headers})],d.prototype,"requestPasswordChange",null),__decorate([t("default")],d.prototype,"loginPage",null),d}(c);e.LoginPage=d}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Template,n=feather.observe.Bind,o=feather.hub.Subscribe,r=feather.event.On,a=feather.xhr.Rest,i=feather.xhr.Method,s=feather.ui.toast.Theme,c=e.components.AjaxForm,l=feather.ui.toast.Toast,u=feather.ui.toast.ToastManager,p=function(c){function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.newPassword={id:e.getQueryStringParam("id")},t.changePasswordInfo="ui.change-password.info",t}return __extends(p,c),p.prototype.init=function(){e.removeToken()},p.prototype.submitClicked=function(){e.Progress.start(),this.doPasswordChange()},p.prototype.doPasswordChange=function(){e.Progress.stop(),this.route("/login"),u.showToast(new l("ui.change-password.success.title","ui.change-password.success.message",s.Error))},p.prototype.unauthorized=function(t,n){e.Progress.stop(),u.showToast(new l("ui.change-password.fail.title","ui.change-password.fail.message",s.Error)),this.route("/login")},p.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="change-password">\n                  <p key="ui.change-password.info"/>\n                  <div class="form-components">\n                    <Text label="ui.change-password.password"\n                          name="change-password.password"\n                          placeholder="ui.change-password.placeholder"\n                          type="password"\n                          icon="lock"\n                          autofocus\n                          bind="newPassword.password"></Text>\n                    <Text label="ui.change-password.password-repeat"\n                          name="change-password.password-repeat"\n                          type="password"\n                          icon="lock"\n                          bind="newPassword.passwordRepeat"></Text>\n                    <div class="block has-text-right">\n                        <a class="button is-primary change-action" key="ui.change-password.button"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            '},__decorate([n()],p.prototype,"changePasswordInfo",void 0),__decorate([r({event:"tap",selector:".change-action"})],p.prototype,"submitClicked",null),__decorate([a({url:"/account/password",method:i.PUT,body:"newPassword",headers:e.headers})],p.prototype,"doPasswordChange",null),__decorate([o("xhr-failure-401")],p.prototype,"unauthorized",null),__decorate([t("default")],p.prototype,"loginPage",null),p}(c);e.PassordChangePage=p}(quill||(quill={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!0,t}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.nodeSelected=function(e){this.disabled=void 0===e},t.prototype.buttonClicked=function(e,t){this.triggerUp("node-action",t.getAttribute("action"))},t.prototype.markup=function(){return'\n              <div class="level is-mobile is-marginless">\n                <div class="level-left">\n                   <a class="button is-small" action="node-add"><Icon name="plus"></Icon></a>\n                   <a class="button is-small" action="node-edit" {{disabled}}><Icon name="pencil"></Icon></a>\n                </div>\n                <div class="level-right">\n                   <a class="button is-small" action="node-delete" {{disabled}}><Icon name="trash-o"/></a>\n                </div>\n              </div>\n            '},__decorate([r()],t.prototype,"disabled",void 0),__decorate([i("defocus-other-nodes")],t.prototype,"nodeSelected",null),__decorate([a({event:"tap",selector:"a[action]:not([disabled])"})],t.prototype,"buttonClicked",null),__decorate([o()],t.prototype,"markup",null),t=__decorate([n({selector:"tree-actions"})],t)}(e.ui.events.GestureWidget);t.TreeActions=s}(e.ui||(e.ui={}))}(feather||(feather={}));var quill;!function(e){var t=feather.annotations.Construct,n=feather.annotations.Template,o=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return __extends(o,e),o.prototype.init=function(){this.render()},o.prototype.markup=function(){return""},__decorate([n()],o.prototype,"markup",null),o=__decorate([t({selector:"content"})],o)}(feather.ui.events.GestureWidget);e.Content=o}(quill||(quill={}));var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.annotations.Template,r=feather.observe.Bind,a=feather.routing.Route,i=feather.hub.Subscribe,s=feather.xhr.Rest,c=feather.ui.toast.ToastManager,l=feather.ui.toast.Toast,u=feather.ui.toast.Theme,p=feather.objects.setDeepValue,d=function(t){function d(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.user=null,e.translations={},e}return __extends(d,t),d.prototype.init=function(){this.fetchTranslations()},d.prototype.fetchTranslations=function(e){var t=this;e.messages.forEach(function(e){return p(t.translations,e.key,e.value)}),this.render()},d.prototype.checkLogin=function(e){this.user=e,this.route("/project/"+this.user.lastProject)},d.prototype.unauthorized=function(){this.route("/login")},d.prototype.genericFetchError=function(e,t){c.showToast(new l("API request has failed",e,u.Error))},d.prototype.projectPage=function(t){this.user?this.pages.splice(0,1,new e.ProjectPage(t.id)):this.checkLogin()},d.prototype.loginPage=function(){this.pages.splice(0,1,new e.LoginPage)},d.prototype.notFoundPage=function(){this.pages.splice(0,1,new e.NotFoundPage)},d.prototype.changePasswordPage=function(){this.pages.splice(0,1,new e.PassordChangePage)},d.prototype.homePage=function(){this.checkLogin()},d.prototype.applicationHTML=function(){return'<progress-bar></progress-bar>\n                    <panel class="fullscreen v-flex" {{pages}}></panel>\n                    <localization translations={translations}/>\n            '},__decorate([r()],d.prototype,"pages",void 0),__decorate([r({bequeath:!0})],d.prototype,"user",void 0),__decorate([s({url:"/translations",headers:e.headers})],d.prototype,"fetchTranslations",null),__decorate([s({url:"/account",headers:e.headers})],d.prototype,"checkLogin",null),__decorate([i("xhr-failure-401")],d.prototype,"unauthorized",null),__decorate([a("/project/:id")],d.prototype,"projectPage",null),__decorate([a("/login")],d.prototype,"loginPage",null),__decorate([a("/404")],d.prototype,"notFoundPage",null),__decorate([a("/changepassword")],d.prototype,"changePasswordPage",null),__decorate([a("/")],d.prototype,"homePage",null),__decorate([o()],d.prototype,"applicationHTML",null),d=__decorate([n({selector:"body.quill-app"})],d)}(t);e.QuillApplication=d}(quill||(quill={})),feather.start();