window.console||(window.console={}),console.log||(console.log=function(){});var __extends=function(e,t){function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},__rest=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},__decorate=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,feather,quill,quill,quill;!function(e){!function(t){var n={}.toString;function o(e){return e&&"[object Function]"===n.call(e)}t.compose=function(t){return function(e){return 1===t.length?t[0](e):t.reduce(function(e,t){return t(e)},e)}},t.isFunction=o,t.isDef=function(e){return void 0!==e},t.isUndef=function(e){return!t.isDef(e)},t.strFactory=function(e){return o(e)?e():e}}(e.functions||(e.functions={}))}(feather||(feather={})),function(e){!function(c){var u=new WeakMap,p=new WeakMap,d=[0,0,[],[]];function C(e){return[].slice.call(e)}function x(e,t){for(var n=0,o=t.length,r=e.length;r--;)if(~t.indexOf(e[r]))n++;else if(n){if(e.splice(r+1,n),0==(o-=n)){n=0;break}n=0}n&&e.splice(0,n)}c.from=C,c.removeFromArray=x;var h=function(e,t,n){if(!0!==p.get(e))for(var o=0,r=u.get(e);o<r.length;o++)r[o][t].apply(e,n)};c.notifyListeners=function(e){return h(e,"splice",d)},c.range=function(e,t){for(var n=new Array(t-e+1),o=0,r=n.length;o<r;o++)n[o]=o+e;return n},c.observeArray=function(o,e){var t,n,r,i,a,s,l=u.get(o);l?l.push(e):(u.set(o,[e]),o.pop=function(){return o.splice(o.length-1,1)[0]},o.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.splice.apply(o,[o.length,0].concat(e)),o.length},o.fill=function(){throw Error("observed arrays cannot be filled. items must be unique, use Array.splice instead!")},o.reverse=function(){var n=o.slice();return o.sort(function(e,t){return n.indexOf(t)-n.indexOf(e)}),o},o.shift=function(){return o.splice(0,1)[0]},o.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.splice.apply(o,[0,0].concat(e)),o.length},s=(a=o).splice,a.splice=function(e,t){var n=[].slice.call(arguments,2),o=s.apply(a,arguments);return h(a,"splice",[e,t,n,o]),o},i=(r=o).sort,r.sort=function(n){var t=c.range(0,r.length-1),e=n?[r.map(function(e,t){return t}).sort(function(e,t){return n(r[e],r[t])}).map(function(e){return t[e]})]:t,o=i.call(r,n);return h(r,"sort",e),o},n=(t=o)["forEach"],t.forEach=function(){p.set(t,!0);var e=n.apply(t,arguments);return p.set(t,!1),h(t,"splice",d),e})};c.defaultArrayListener=function(g,y,e,m,b){var _=e.node,w=_.firstElementChild,k=[];return{sort:function(e){for(var t=[],n=0;n<e.length;n++)k[e[n]]&&_.appendChild(y[n].element),t[n]=k[e[n]];k=t},splice:function(e,t,n,o){void 0===o&&(o=[]);var r,i=C(k),a=g.childWidgets,s=b();if(k.splice.apply(k,[e,t].concat(n.map(function(e){return!1}))),t&&(o.forEach(function(e){return _.removeChild(e.element)}),x(a,o),r=o,setTimeout(function(){for(var e=0,t=r;e<t.length;e++)t[e].cleanUp()},50)),n.length){a.push.apply(a,n);for(var l=0,c=n;l<c.length;l++){var u=c[l];if(u.parentWidget=g,!u.element){var p=u.getParsed(m.templateName);u.bindToElement(p.first)}}}i.splice.apply(i,[e,t].concat(n.map(function(e){return!0})));for(var d=0,h=y.length;d<h;d++)if(i[d]=s(y[d]),i[d]&&!k[d]){var f=k.indexOf(!0,d),v=~f?y[f].element:w;_.insertBefore(y[d].element,v)}else!i[d]&&k[d]&&_.removeChild(y[d].element);k=i}}}}(e.arrays||(e.arrays={}))}(feather||(feather={})),function(t){!function(s){var e=t.arrays.observeArray,i=t.functions.isUndef,a=t.functions.isFunction;function l(e,t){if(""===t)return e;var n,o,r;for(n=0,o=(r=t.split(".")).length;n<o;n++){if(e=e[r[n]],i(e))return;if(a(e))return e()}return e}s.isObject=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)},s.values=function(t){return"values"in Object?Object.values(t):Array.apply(null,Object.keys(t).map(function(e){return t[e]}))},s.deepValue=l,s.setDeepValue=function(e,t,n){var o,r,i;for(o=0,r=(i=t.split(".")).length-1;o<r;o++)e=e[i[o]]||(e[i[o]]={});return e[i.pop()]=n},s.collectAnnotationsFromArray=function e(t,n){if(i(n))return[];var o=Object.getPrototypeOf(n),r=t.get(o)||[];return o&&r.push.apply(r,e(t,o)),r},s.merge=function(o,r){return void 0===o&&(o={}),Object.keys(r).forEach(function(e){var t=o[e],n=r[e];Array.isArray(t)?t.push.apply(t,n):s.isObject(t)?s.merge(t,n):o[e]=n}),o},s.collectAnnotationsFromTypeMap=function e(t,n){if(i(n))return{};var o=Object.getPrototypeOf(n),r=__assign({},t.get(o)||{});return o&&s.merge(r,e(t,o)),r},s.pathCallbacks=new WeakMap;var c=function(e,t,n,o){var r=n.split(".").pop(),i=e[r];Object.defineProperty(e,r,{get:function(){return i},set:function(e){return p(i=e,t,n,o),o(n),i}}),p(i,t,n,o)},u=function(e,t){var n=e.indexOf(".["),o=~n?e.substring(0,n):e;return t.filter(function(e){return o.startsWith(e)||e.startsWith(o)})};s.createObjectPropertyListener=function(n,e,t){var o,r=e.split(".").shift(),i=s.pathCallbacks.get(n)&&s.pathCallbacks.get(n)[e],a=s.ensure(s.pathCallbacks,n,((o={})[e]=[t],o));i||c(n,n,r,function(e){u(e,Object.keys(a)).forEach(function(t){a[t].forEach(function(e){e(l(n,t))})})})};var p=function(n,o,r,i){if(s.isObject(n)){var a=Object.keys(s.pathCallbacks.get(o));Object.keys(n).forEach(function(e){var t=r+"."+e;0<u(t,a).length&&c(n,o,t,i)})}else Array.isArray(n)&&(n.forEach(function(e,t){return p(e,o,r+".["+t+"]",i)}),e(n,{sort:function(){return i(r)},splice:function(e,t,n){i(r),n.forEach(function(e,t){return p(e,o,r+".["+t+"]",i)})}}))};s.ensure=function(e,t,n){var o=e.get(t);return o?Array.isArray(o)&&Array.isArray(n)?o.push.apply(o,n):s.isObject(o)&&s.merge(o,n):e.set(t,o=n),o}}(t.objects||(t.objects={}))}(feather||(feather={})),function(e){var t,n;t=e.dom||(e.dom={}),n=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","matchesSelector"].reduce(function(e,t){return Element.prototype[t]||e}),t.selectorMatches=function(e,t){return n.call(e,t)},t.allChildNodes=function(e){for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),o=[];((t=n.currentNode).nodeType!==Node.TEXT_NODE||t.textContent.trim())&&o.push(t),n.nextNode(););return o},t.allTextNodes=function(e){for(var t,n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=o.nextNode();)n.push(t);return n}}(feather||(feather={})),function(e){var t,n;t=e.strings||(e.strings={}),n=e.objects.deepValue,t.format=function(e,t){return e.replace(/{{.*?}}/g,function(e){return n(t,e.substring(2,e.length-2))})},t.namedRegexMatch=function(e,t,o){var n=t.exec(e);if(n)return n.reduce(function(e,t,n){return 0<n&&(e[o[n-1]]=t),e},{})}}(feather||(feather={})),function(e){!function(a){var s=e.functions.isFunction,l=e.objects.collectAnnotationsFromTypeMap,r=e.objects.ensure,c=new WeakMap,i=new WeakMap;a.getPath=function(e,t){for(var n,o,r=[t],i=e;r.unshift((o=void 0,o=(n=i).id||n.name||n.title||n.constructor.name,s(o)?o():o)),i=i.parentWidget;);return r.join(".")};var u=function(e,t,n){return localStorage.setItem(a.getPath(e,t),JSON.stringify({value:n}))};a.maybeStore=function(t,n,e,o,r){e&&e.localStorage&&(r?(i.has(o)&&clearTimeout(i.get(o)),i.set(o,setTimeout(function(){var e=l(c,t)[n];o=o.map(t[e.write]),u(t,n,o)},80))):u(t,n,o))},a.loadLocalStorageValue=function(e,r){var i=l(e,r);i&&Object.keys(i).forEach(function(e){if(i[e].localStorage)try{var t=localStorage.getItem(a.getPath(r,e));if(t){var n=JSON.parse(t).value;if(Array.isArray(n)){var o=l(c,r)[e];r[e]=n.map(r[o.read])}else r[e]=n}}catch(e){console.warn(e)}})},a.Write=function(o){return function(e,t){var n;r(c,e,((n={})[o]={write:t},n))}},a.Read=function(o){return function(e,t){var n;r(c,e,((n={})[o]={read:t},n))}}}(e.observe||(e.observe={}))}(feather||(feather={})),function(feather){var boot;!function(boot){var isDef=feather.functions.isDef,from=feather.arrays.from,ComponentInfo=function(e,t,n,o){this.selector=e,this.singleton=t,this.attributes=n,this.component=o};boot.ComponentInfo=ComponentInfo;var attributeParser=function(node,context){return function(key){var value=node.getAttribute(key),m=(value||"").match(/^{(.+?)}\/?$/i);if(m){var js=m[1];value=context[js]||function(str){return eval(str)}.bind(context)(js),isDef(value)&&node.removeAttribute(key)}return value}},WidgetFactory=function(){function l(){}return l.start=function(e,t){void 0===e&&(e=document),feather.annotations.TemplateFactory.warmUp();for(var n=l.widgetRegistry,o=0,r=n.length;o<r;o++){var i=n[o],a=from(e.querySelectorAll(i.selector));l.initComponents(a,n[o],t)}e===document&&feather.routing.runRoutes()},l.initComponents=function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o],a=t.attributes.map(attributeParser(i,n||window)),s=new(Function.prototype.bind.apply(t.component,[null].concat(a)));t.singleton&&l.singletonRegistry.push(s),n&&(s.parentWidget=n).childWidgets.push(s),s.bindToElement(i)}},l.register=function(e,t){this.widgetRegistry.push(new ComponentInfo(e.selector,e.singleton,e.attributes||[],t))},l.widgetRegistry=[],l.singletonRegistry=[],l}();boot.WidgetFactory=WidgetFactory}(boot=feather.boot||(feather.boot={}))}(feather||(feather={})),function(e){e.start=function(){return e.boot.WidgetFactory.start()}}(feather||(feather={})),function(e){var t,n,r,i,a,o;t=e.media||(e.media={}),n=e.objects.collectAnnotationsFromArray,r=e.objects.ensure,i=new WeakMap,a=new WeakMap,o=function(){function e(){}return e.prototype.attachMediaListeners=function(){var o=this;n(i,this).forEach(function(t){var e=window.matchMedia(t.query),n=function(e){e.matches&&o[t.method].call(o,e)};e.addListener(n),r(a,o,[{mediaQuery:e,listener:n}]),n(e)})},e.prototype.cleanUp=function(){var e=a.get(this);if(e)for(var t=0,n=e;t<n.length;t++){var o=n[t];o.mediaQuery.removeListener(o.listener)}},e}(),t.MediaQueryAware=o,t.Media=function(n){return function(e,t){r(i,e,[]).push({method:t,query:n})}}}(feather||(feather={})),function(E){!function(y){var m,e,b=E.arrays.from,_=E.dom.allChildNodes,r=E.objects.collectAnnotationsFromTypeMap,i=E.objects.ensure,w=E.dom.selectorMatches,t=E.dom.allTextNodes,k=/{{(.*?)}}/,C=/{{(.*?)}}/g,a=new Map,s={};y.selfClosingTags=/<(\w+)((\s+([^=\s\/<>]+|\w+=('[^']*'|"[^"]*"|[^"']\S*)))*)\s*\/>/gi,y.openTags="<$1$2></$1>",(e=m=y.HookType||(y.HookType={}))[e.CLASS=0]="CLASS",e[e.PROPERTY=1]="PROPERTY",e[e.ATTRIBUTE=2]="ATTRIBUTE",e[e.TEXT=3]="TEXT";var p=function(e,t,n,o,r){var i=this;this.node=e,this.type=t,this.attribute=n,this.property=o,this.transformFns=r,this.hasMethods=function(){return 0<i.transformFns.length}};y.Hook=p;var x=function(e,t,n,o,r,i){this.nodePosition=e,this.type=t,this.curly=n,this.attribute=o,this.property=r,this.transformFns=i};y.HookInfo=x;var T=function(){function e(e,t,n,o){this.node=e,this.hookInfos=t,this.hookMap=n,this.preComponents=o;for(var r=0,i=t.length;r<i;r++){var a=t[r],s=this.hookMap[a.curly.toLowerCase()].split(/:/);a.property=s.shift(),a.transformFns=s}}return e.prototype.asParsedTemplate=function(){for(var e=this.node.cloneNode(!0),t=_(e),n=this.hookInfos.map(function(e){return new p(t[e.nodePosition],e.type,e.attribute,e.property,e.transformFns)}),o=this.preComponents,r=o.length,i=[],a=0;a<r;a++){for(var s=o[a],l=s.nodes.length,c=[],u=0;u<l;u++)c[u]=t[s.nodes[u]];i[a]={info:s.info,nodes:c}}return{doc:e,first:t[1],hooks:n,components:i}},e}();y.PreparsedTemplate=T;var P=function(e){return t(e).forEach(function(e){var t=e.textContent.split(/({{.*?}})/gm);if(1<t.length){var n=e.parentNode,o=document.createDocumentFragment();t.forEach(function(e){""!==e&&o.appendChild(document.createTextNode(e))}),n.replaceChild(o,e)}}),e},n=document.createRange();function l(e){for(var t,n=e.replace(y.selfClosingTags,y.openTags),o=P(y.getFragment(n)),r=_(o),i={};t=C.exec(e);)i[t[1].toLowerCase()]=t[1];for(var d,h,a=E.boot.WidgetFactory.widgetRegistry,s=[],l=0,c=a.length,u=r.length;l<c;l++){for(var p=[],f=a[l],v=0;v<u;v++){var g=r[v];g.nodeType===Node.ELEMENT_NODE&&w(g,a[l].selector)&&p.push(v)}0<p.length&&s.push({info:f,nodes:p})}return new T(o,(h=[],r.forEach(function(e,t){if(e.nodeType===Node.TEXT_NODE){var n=e.textContent,o=k.exec(n);null!==o&&h.push(new x(t,m.TEXT,o[1]))}else if(e.nodeType===Node.ELEMENT_NODE)for(var r=0,i=b(e.attributes);r<i.length;r++){var a=i[r],s=a.nodeName;if(d=s.match(k))e.removeAttribute(d[0]),h.push(new x(t,m.PROPERTY,d[1]));else if("class"===s)for(var l=0,c=b(e.classList);l<c.length;l++){var u=c[l];(d=u.match(k))&&(e.classList.remove(d[0]),h.push(new x(t,m.CLASS,d[1])))}else{var p=a.value;(d=p.match(k))&&(e.setAttribute(s,""),h.push(new x(t,m.ATTRIBUTE,d[1],s)))}}}),h),i,s)}y.getFragment=function(e){return n.createContextualFragment(e)},y.getPreparsedTemplate=l;var o=function(){function e(){}return e.getTemplate=function(e,t){var n=r(a,e)[t].call(e),o=s[n];return o||(o=l(n),s[n]=o),o.asParsedTemplate()},e.warmUp=function(){a.forEach(function(o,r){return Object.keys(o).forEach(function(e){var t=o[e];try{var n=t.call({});s[n]=l(n)}catch(e){console.warn("Template method "+t+" in "+r.constructor.name+" is not a pure function.",e)}})})},e}();y.TemplateFactory=o,y.Template=function(o){return void 0===o&&(o="default"),function(e,t){var n;i(a,e,((n={})[o]=e[t],n))}}}(E.annotations||(E.annotations={}))}(feather||(feather={})),function(h){!function(l){var c,e,u=h.dom.selectorMatches,n=h.objects.collectAnnotationsFromArray,t=h.media.MediaQueryAware,i=h.objects.ensure,o=h.objects.merge,a=h.functions.isUndef;(e=c=l.Scope||(l.Scope={}))[e.Direct=0]="Direct",e[e.Delegate=1]="Delegate";var s=((r={})[c.Direct]=new WeakMap,r[c.Delegate]=new WeakMap,r),p=new WeakMap;l.addListener=function(e,t,n){e.addEventListener(t,n),i(p,e,[{event:t,fn:n}])};var r,d=function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.handlers=function(e){return n(s[e],t).reduce(function(e,t){return o(e,((n={})[t.event]=[t],n));var n},{})},t}return __extends(e,r),e.prototype.attachEvents=function(){this.attachDelegates(this.handlers(c.Delegate)),this.attachDirect(this.handlers(c.Direct))},e.prototype.attachDirect=function(i){var a=this,s=this.element;Object.keys(i).forEach(function(e){for(var t=i[e],n=function(t){var n=t.selector?s.querySelector(t.selector):s;n?l.addListener(n,e,function(e){return t.preventDefault&&e.preventDefault(),t.bubble||e.stopImmediatePropagation(),a[t.method].call(a,e,n)}):console.warn(t.selector+" didn't match anything inside the template")},o=0,r=t;o<r.length;o++)n(r[o]);a.eventRegistered(a,e,t,c.Direct)})},e.prototype.attachDelegates=function(o){var r=this;Object.keys(o).forEach(function(e){var i,t,a,s,n=o[e];t=e,a=n,s=(i=r).element,l.addListener(s,t,function(e){var t=e.target;do{for(var n=0,o=a;n<o.length;n++){var r=o[n];t.nodeType===Node.ELEMENT_NODE&&(!r.selector&&t===s||u(t,r.selector))&&(r.preventDefault&&e.preventDefault(),r.bubble||e.stopImmediatePropagation(),i[r.method].call(i,e,t))}if(t===s)break}while(t=t.parentElement)}),r.eventRegistered(r,e,n,c.Delegate)})},e.prototype.eventRegistered=function(e,t,n,o){},e.prototype.cleanUp=function(){r.prototype.cleanUp.call(this);var e=p.get(this.element);if(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];this.element.removeEventListener(o.event,o.fn)}p.delete(this.element)}},e}(t);l.EventAware=d,l.On=function(r){return function(e,t){var n=a(r.scope)?c.Delegate:r.scope,o=i(s[n],e,[]);r.event.split(/\s+/).forEach(function(e){return o.push({event:e,method:t,preventDefault:r.preventDefault,bubble:r.bubble,scope:n,selector:r.selector})})}}}(h.event||(h.event={}))}(feather||(feather={})),function(n){!function(l){var e=n.event.EventAware,c=n.objects.ensure,a=n.objects.collectAnnotationsFromTypeMap,o=n.boot.WidgetFactory;l.subscribers=new WeakMap;var t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childWidgets=[],e}return __extends(e,t),e.prototype.triggerUp=function(e,t){this.trigger(e,t),this.parentWidget&&this.parentWidget.triggerUp(e,t)},e.prototype.triggerSingleton=function(t,n){o.singletonRegistry.forEach(function(e){return e.trigger(t,n)})},e.prototype.triggerDown=function(e,t){if(this.trigger(e,t),this.childWidgets)for(var n=0,o=this.childWidgets;n<o.length;n++)o[n].triggerDown(e,t)},e.prototype.trigger=function(e,t){var n=a(l.subscribers,this)[e];if(n)for(var o=0,r=n;o<r.length;o++){var i=r[o];Object.getPrototypeOf(this)[i].call(this,t)}},e}(e);l.Subscribable=t,l.Subscribe=function(a,s){return function(e,t,n){if(!0===s){var o=n.value,r=[];n.value=function(e){var t=this;r.push(e),requestAnimationFrame(function(){o.call(t,r),r.splice(0,r.length)})}}var i;c(l.subscribers,e,((i={})[a]=[t],i))}}}(n.hub||(n.hub={}))}(feather||(feather={})),function(v){!function(l){var e=v.hub.Subscribable,i=v.strings.namedRegexMatch,c=v.objects.collectAnnotationsFromArray,o=v.objects.ensure,n=v.arrays.removeFromArray,u=new WeakMap,p=[],a=/[:*]\w+/gi,t=window.history&&window.history.pushState&&null===document.querySelector('[routing="hash"]'),s=[[/:\w+/gi,"([\\w\\d-]+)"],[/\*\w+/gi,"(.+)"]];l.namedMatch=function(e,t){var n=e.match(a);if(n&&n.length){n=n.map(function(e){return e.substr(1)});var o=s.reduce(function(e,t){return e.replace(t[0],t[1])},e),r=new RegExp("^"+o+"$","gi");return i(t,r,n)}if(new RegExp("^"+e+"$","gi").exec(t))return{}};var r=function(){var e=location.pathname;return t||("/"!==e?location.replace("/#"+e):e=location.hash?location.hash.replace(/^#/,""):"/"),e},d=function(e){for(var t=0,n=p;t<n.length;t++)for(var o=n[t],r=0,i=c(u,o);r<i.length;r++){var a=i[r],s=l.namedMatch(a.route,e);s&&o[a.handler].call(o,s)}};window.addEventListener(t?"popstate":"hashchange",function(){return d(r())},!1);var h=function(e){t?(history.pushState(null,"",e),d(r())):location.hash=e},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentRoute=r,e.route=function(e){return h(e)},e}return __extends(e,t),e.prototype.initRoutes=function(){!~p.indexOf(this)&&u.has(Object.getPrototypeOf(this))&&p.push(this)},e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),n(p,[this])},e}(e);l.RouteAware=f,l.runRoutes=function(){window.blockRouting||d(r())},l.Route=function(n){return function(e,t){o(u,e,[{route:n,handler:t}])}}}(v.routing||(v.routing={}))}(feather||(feather={})),function(n){!function(N){var e=n.routing.RouteAware,O=n.annotations.HookType,j=n.arrays.observeArray,f=n.arrays.from,v=n.arrays.notifyListeners,q=n.functions.isFunction,L=n.functions.compose,R=n.functions.isDef,F=n.functions.isUndef,W=n.objects.isObject,I=n.objects.deepValue,g=n.objects.ensure,V=n.objects.collectAnnotationsFromTypeMap,c=n.objects.createObjectPropertyListener,B=n.objects.values,i=n.boot.WidgetFactory,y=n.annotations.getFragment,H=n.arrays.defaultArrayListener,m=new WeakMap,Y=new WeakMap,U=new WeakMap,z=function(){return function(){return!0}},b=function(e,t,n,o){"value"===t?e.value=n?o:"":n?e.setAttribute(t,o):e.removeAttribute(t)};function G(r,i,a,e){var t,n,s=r[a];if(Array.isArray(s))j(s,{sort:function(){return e(s)},splice:function(){return e(s)}});else{var o=m.get(r),l=o&&o[a],c=g(m,r,((t={})[a]=[e],t));if(l||Object.defineProperty(r,a,{get:function(){return s},set:function(e){if(e!==s){N.maybeStore(r,a,i,e,!1);var t=s;s=e;for(var n=0,o=c[a];n<o.length;n++)(0,o[n])(e,t)}return e}}),i&&i.affectsArrays.length){var u,p=i.affectsArrays.length,d=r,h=void 0;do{for(h=0;h<p;h++)u=d[i.affectsArrays[h]],R(u)&&g(m,r,((n={})[a]=[function(){return v(u)}],n))}while(R(d=d.parentWidget))}}}function X(e,t,n,o,r){if(t.type!==O.ATTRIBUTE&&t.type!==O.PROPERTY)throw Error('Bool value can only be bound to attributes ie. hidden="{{myBool}}. Consider using filters to convert them to strings (true|false|yes|no etc)"');var i=t.node,a=t.attribute||t.property,s=function(e){return"boolean"==typeof i[a]?i[a]=!!n(e):b(i,a,!!n(e),""),s};r(this,o,t.property,s(e))}function $(e,t,i,a,n){var s=t.node;if(t.type===O.TEXT){var l,c=[s],u=function(e){var t=i(e);if(l!==t){if(a.html){var n=y(t),o=c.slice(),r=o[0].parentNode;c=f(n.childNodes),r.replaceChild(n,o.shift()),o.forEach(function(e){return e.parentNode.removeChild(e)})}else s.textContent=i(e);l=t}return u};n(this,a,t.property,u(e))}else if(t.type===O.CLASS){var o,r=function(e){var t=i(e);return t!==o&&(R(o)&&s.classList.remove(o),R(t)&&s.classList.add(t),o=t),r};n(this,a,t.property,r(e))}else if(t.type===O.ATTRIBUTE||t.type===O.PROPERTY){var p,d=t.attribute||t.property,h=function(e){var t=i(e);return t!==p&&(b(s,d,R(t),t),p=t),h};n(this,a,t.property,h(e))}}function K(r,e,t,n){var i=this,o=function(e,t,n,o){return c(i,r,o)},a=r.split(".").shift(),s=(typeof n(t)).toLowerCase(),l=V(Y,this)[a];"boolean"===s?X.call(this,t,e,n,l,o):/string|number|undefined/.test(s)?$.call(this,t,e,n,l,o):console.log("Deeply bound properties work only with strings, numbers or booleans. For arrays you can use a transformer: {{var:myTransformer}}?")}function J(e,t){var n=t.node,o=function(t){return Object.keys(t).forEach(function(e){n.style[e]=t[e]}),o};c(this,e,o(this[e]))}function Q(e,t,n,o){if(o=o.split(".").shift(),e){var r=V(Y,e)[o];r&&r.bequeath?e.attachHooks.call(e,[n],t):Q(e.parentWidget,t,n,o)}else console.log("@Bind() "+o+" annotation missing or 'bequeath' not set?",n,o,Y)}var Z=function(e,t){for(var n=i.singletonRegistry,o=0;o<n.length;o++){var r=n[o][t];if(r)return r.bind(e)}throw Error("Couldn't resolve transformer function "+t)};function ee(n,e,t,o,r){var i,a=function(){var e=o(n[t.property].call(n));return i!==e&&(t.type===O.TEXT?t.node.textContent=e:t.type===O.CLASS?(i&&t.node.classList.remove(i),e&&t.node.classList.add(e)):t.type!==O.ATTRIBUTE&&t.type!==O.PROPERTY||(e?t.node.setAttribute(t.attribute,e):t.node.removeAttribute(t.attribute)),i=e),a};e.forEach(function(e){var t=r[e]||{property:e,affectsArrays:[]};G(n,t,e,a())})}var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachHooks=function(e,t){var n,o,r,i,a,s,l,c,u,p=this,d=t||this,h=V(Y,this);if(h){var f=B(h);n=f.filter(function(e){return 0!==e.affectsArrays.length}),o=f.filter(function(e){return e.localStorage&&Array.isArray(p[e.property])})}F(t)&&N.loadLocalStorageValue(Y,this);for(var v=0,g=e;v<g.length;v++){var y=g[v],m=y.property,b=L(y.transformFns.map(function(e){var t=d[e];return t?t.bind(p):Z(p,e)})),_=this[m],w=W(_);if(q(_)){var k=V(U,this)[m];R(k)?ee(this,k,y,b,h||{}):console.log("Binding to functions without @Computed() annotation is not supported. Use a property with a transformer {{x:myfunc}}.")}else if(~m.indexOf(".")||w&&y.hasMethods()){var C=I(this,m);F(C)?Q(this.parentWidget,this,y,m):K.call(this,m,y,C,b)}else{if(w){if("style"===y.attribute){J.call(this,m,y);continue}if(!y.hasMethods()){console.log("Binding to objects is not supported. Use new widgets or specify inner property: x.y.z");continue}}var x=h[m];F(x)?Q(this.parentWidget,this,y,m):(r=this,i=b(_),a=y,s=x,l=b,void 0,c=Array.isArray(i)?"array":(typeof i).toLowerCase(),u=r[a.property],"boolean"===c?X.call(r,u,a,l,s,G):/string|number|undefined/.test(c)?$.call(r,u,a,l,s,G):"array"===c||q(i)?(q(i)||(l=z),function(e,t,n,o){if(t.type===O.PROPERTY){var r=e.splice(0,e.length);j(e,H(this,e,t,n,o)),e.push.apply(e,r)}else console.log("Arrays can be bound only in a node: <div {{myarray}}></div>")}.call(r,u,a,s,l)):console.log("Bindings are only supported on arrays, booleans, strings and numbers"))}}if(n)for(var T=0,P=n;T<P.length;T++){var E=P[T];G(this,E,E.property,function(){return 0})}if(o)for(var M=function(e){var t=D[e.property],n=function(){return N.maybeStore(p,e.property,e,t,!0)};j(t,{sort:n,splice:n})},D=this,S=0,A=o;S<A.length;S++)M(A[S])},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),m.delete(this),U.delete(this)},t}(e);N.Observable=t,N.Bind=function(r){return function(e,t){var n,o=__assign({},{templateName:"default",localStorage:!1,affectsArrays:[],property:t,html:!1},r||{});g(Y,e,((n={})[t]=o,n))}},N.Computed=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return function(e,t){var n;g(U,e,((n={})[t]=o,n))}}}(n.observe||(n.observe={}))}(feather||(feather={})),function(e){var t,n;t=e.annotations||(e.annotations={}),n=e.boot.WidgetFactory,t.Construct=function(t){return function(e){return n.register(t,e)}}}(feather||(feather={})),function(e){var u,i,a,p,s;u=e.xhr||(e.xhr={}),i=e.strings.format,a=e.objects.deepValue,p=e.objects.merge,s=e.functions.strFactory,u.Method={GET:"GET",POST:"POST",DELETE:"DELETE",PUT:"PUT"},u.defaultRestConfig={url:null,method:u.Method.GET,timeout:5e3,async:!0,withCredentials:!0,responseFilter:function(e){return e?JSON.parse(e):null},requestFilter:function(e){return e?JSON.stringify(e):null},headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}},u.sendRequest=function(t,n,o){var r=new XMLHttpRequest;if(t=p(__assign({},u.defaultRestConfig),t),r.open(t.method,t.url,t.async),r.timeout=t.timeout,r.setRequestHeader)for(var e=0,i=Object.keys(t.headers);e<i.length;e++){var a=i[e];r.setRequestHeader(a,t.headers[a])}r.addEventListener("readystatechange",function(){if(4===r.readyState){var e=~~(r.status/100);2===e||3===e?n(t.responseFilter(r.responseText)):o(t.responseFilter(r.responseText),r)}});for(var s=0,l=["timeout","error","abort"];s<l.length;s++){var c=l[s];r.addEventListener(c,function(e){o(e)})}return t.progress&&r.addEventListener("progress",t.progress,!1),r.send(t.requestFilter(t.body)),r},u.Rest=function(r){return function(e,t,n){var o=n.value;n.value=function(){var o=this,e=__assign({},r,{progress:function(e){return o.triggerDown("xhr-progress",e)},body:r.body&&a(this,r.body),headers:r.headers&&Object.keys(r.headers).reduce(function(e,t){return __assign({},e,((n={})[t]=s(r.headers[t]),n));var n},{})||{},url:i(r.url,this)});return u.sendRequest(e,n.value.original.bind(this),function(e,t){if(t&&t.status)o.triggerDown("xhr-failure-"+t.status,e,t);else if(e){var n=e.type;o.triggerDown("xhr-failure-"+n)}})},n.value.original=o}}}(feather||(feather={})),function(l){!function(e){var r,t,a=l.annotations.TemplateFactory,n=l.observe.Observable,s=l.boot.WidgetFactory,i=l.arrays.removeFromArray;(t=r=e.RenderPlacement||(e.RenderPlacement={}))[t.append=0]="append",t[t.prepend=1]="prepend",t[t.replace=2]="replace";var o=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.bindToElement=function(e){this.element=e,this.init(e),this.attachEvents(),this.initRoutes(),this.attachMediaListeners()},e.prototype.render=function(e,t){void 0===e&&(e="default"),void 0===t&&(t=r.append);var n=this.getParsed(e);t===r.replace&&(this.element.innerHTML=""),t===r.prepend?this.element.insertBefore(n.doc,this.element.firstChild):this.element.appendChild(n.doc)},e.prototype.getParsed=function(e){for(var t=a.getTemplate(this,e),n=t.components,o=0,r=n.length;o<r;o++){var i=n[o];s.initComponents(i.nodes,i.info,this)}return this.attachHooks(t.hooks),t},e.prototype.init=function(e){},e.prototype.cleanUp=function(){var n=this;setTimeout(function(){o.prototype.cleanUp.call(n);for(var e=0,t=n.childWidgets;e<t.length;e++)t[e].cleanUp();i(s.singletonRegistry,[n])},10)},e}(n);e.Widget=o}(l.core||(l.core={}))}(feather||(feather={})),function(i){var e,t;e=i.ui||(i.ui={}),(t=e.utils||(e.utils={})).focusElement=function(e){var t=function(){return e.focus()};/Android/.test(navigator.appVersion)?setTimeout(function(){return t()},10):t()},t.withDefaults=function(o,r){return Object.keys(r).reduce(function(e,t){return __assign({},e,((n={})[t]=i.functions.isDef(o[t])?o[t]:r[t],n));var n},o)}}(feather||(feather={})),function(l){var e;(function(u){var e=l.core.Widget,c=l.dom.selectorMatches,r=l.event.addListener;/ios/.test(navigator.userAgent)&&(document.ontouchmove=function(e){e.preventDefault()});var p=function(e){return{passive:/mouse|touch/.test(e.type),capture:!1}};u.tapDistance=10,u.addMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.addEventListener(e,n,o)})},u.removeMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.removeEventListener(e,n,o)})};var d,t,i=["clientX","clientY","pageX","pageY"];(t=d=u.PanPhase||(u.PanPhase={}))[t.start=0]="start",t[t.move=1]="move",t[t.stop=2]="stop";var h={touchstart:{move:["touchmove"],stop:["touchend"]},mousedown:{move:["mousemove"],stop:["mouseup"]},pointerdown:{move:["pointermove"],stop:["pointerup"]}};u.normalizePointer=function(e){return{x:e.clientX||(e.touches?e.touches[0].pageX:0),y:e.clientY||(e.touches?e.touches[0].pageY:0)}};var s=document.documentElement,f=function(e,t,n){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return i.forEach(function(e){return o[e]=t[e]}),o},n="onpointerdown"in document.documentElement,o=/android|iphone|webos|ipad|ipod|blackberry/i.test(navigator.userAgent);u.tapEvents=n?["pointerdown"]:o?["touchstart"]:["touchstart","mousedown"];var v={tap:{events:u.tapEvents,handlerFactory:function(e){return function(t){if(!/mouse|pointer/.test(t.type)||1===t.which){var n=p(t);n.passive&&t.preventDefault();var o=u.normalizePointer(t),r=o,i=function(e){r=u.normalizePointer(e)},a=function(e){Math.abs(r.x-o.x)<u.tapDistance&&Math.abs(r.y-o.y)<u.tapDistance&&t.target.dispatchEvent(f("tap",e)),u.removeMultipleEventListeners(h[t.type].stop,s,a,n),u.removeMultipleEventListeners(h[t.type].move,s,i,n)};u.addMultipleEventListeners(h[t.type].move,s,i,n),u.addMultipleEventListeners(h[t.type].stop,s,a,n)}}},options:p({})},panX:{events:u.tapEvents,handlerFactory:function(e){return function(o){var t=p(o);if(!/mouse/.test(o.type)||1===o.which){t.passive&&o.preventDefault();var r=u.normalizePointer(o),i=Date.now(),n=document.documentElement,a=r,s=0,l=function(e,t){void 0===t&&(t=d.move);var n=+Date.now()-+i;t===d.move&&("touchmove"===e.type&&e.preventDefault(),a=u.normalizePointer(e),s=a.x-r.x),o.target.dispatchEvent(f("panX",e,{diffX:s,time:n,phase:t}))},c=function(e){l(e,d.stop),u.removeMultipleEventListeners(h[o.type].move,n,l,t),u.removeMultipleEventListeners(h[o.type].stop,n,c,t)};l(o,d.start),u.addMultipleEventListeners(h[o.type].move,n,l,t),u.addMultipleEventListeners(h[o.type].stop,n,c,t)}}},options:p({})},textchange:{events:"keyup input focus blur focusin focusout cut paste change".split(" "),handlerFactory:function(e){var t=e.value;return function(e){e.target.value!==t&&(t=e.target.value,e.target.dispatchEvent(f("textchange",e)))}},options:p({})}},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachDelegates=function(n){var o=this;e.prototype.attachDelegates.call(this,n),Object.keys(n).forEach(function(e){var t=v[e];if(t){var i=n[e],a=o,s=o.element,l=t.handlerFactory(s);t.events.forEach(function(e){return r(s,e,function(e){var t=e.target;do{for(var n=0,o=i;n<o.length;n++){var r=o[n];if(1===t.nodeType&&(!r.selector&&t===s||c(t,r.selector)))return r.preventDefault&&e.preventDefault(),r.bubble||e.stopPropagation(),l.call(a,e)}if(t===s)break}while(t=t.parentElement)})})}})},t}(e);u.GestureWidget=a})((e=l.ui||(l.ui={})).events||(e.events={}))}(feather||(feather={})),function(r){var e,t,n,i,o;e=r.ui||(r.ui={}),t=e.types||(e.types={}),n=r.hub.Subscribe,i=r.observe.Bind,o=function(o){function e(e,t){void 0===t&&(t={});var n=o.call(this)||this;return n.error=!1,n.config=r.ui.utils.withDefaults(e,t),n}return __extends(e,o),e.prototype.fieldError=function(e){this.config.name===e&&(this.error=!0)},e.prototype.fieldErrorCleared=function(){this.error=!1},__decorate([i({})],e.prototype,"config",void 0),__decorate([i({})],e.prototype,"error",void 0),__decorate([n("field-error")],e.prototype,"fieldError",null),__decorate([n("field-error-clear")],e.prototype,"fieldErrorCleared",null),e}(r.ui.events.GestureWidget),t.FormComponent=o}(feather||(feather={})),function(e){var t,o,n,r,i;t=e.ui||(e.ui={}),o=e.annotations.Construct,n=e.core.Widget,r=e.objects.deepValue,i=function(n){function e(e){var t=n.call(this)||this;return t.translations={},t.translate=function(e){return r(t.translations,e)||e},t.translations=e,t}return __extends(e,n),e=__decorate([o({selector:"localization",singleton:!0,attributes:["translations"]})],e)}(n),t.Localization=i}(feather||(feather={})),function(e){var t,n,o,i,a,r;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,i=e.observe.Bind,a=e.annotations.Template,r=function(r){function e(e,t,n){var o=r.call(this)||this;return o.fontAwesomeClass=function(e){return"fa-"+e},o.alignRightClass=function(e){return e?"is-right":void 0},o.name=e,o.alignRight=void 0!==t,o.iconClass=n||void 0,o}return __extends(e,r),e.prototype.init=function(){this.render()},e.prototype.markup=function(){return'\n              <span class="icon {{alignRight:alignRightClass}} {{iconClass}}">\n                <i class="fa {{name:fontAwesomeClass}}"></i>\n              </span>'},__decorate([i()],e.prototype,"name",void 0),__decorate([i()],e.prototype,"alignRight",void 0),__decorate([i()],e.prototype,"iconClass",void 0),__decorate([a()],e.prototype,"markup",null),e=__decorate([o({selector:"icon",attributes:["name","align-right","icon-class"]})],e)}(n),t.Icon=r}(feather||(feather={})),function(i){!function(g){var e=i.core.Widget,n=i.annotations.Construct;g.findClippedParent=function(e){var t=getComputedStyle(e,null);return"body"===e.tagName||"hidden"===t.getPropertyValue("overflow")||"hidden"===t.getPropertyValue("overflow-x")||"hidden"===t.getPropertyValue("overflow-y")?e:g.findClippedParent(e.parentElement)};var o,y=2,m=4,b=8,_=16,w=function(e,t,n,o){var r=(t.x-e.x)*(o.y-n.y)-(t.y-e.y)*(o.x-n.x);if(0===r)return!1;var i=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),a=i/r,s=(i=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/r;return!(a<0||1<a||s<0||1<s)};"MutationObserver"in window&&(o=new MutationObserver(function(e){e.forEach(function(e){var t,n,o,r,i,a,s,l=e.target;if("hidden"===e.attributeName)if(l.hasAttribute(e.attributeName))l.removeAttribute("style");else{var c=g.findClippedParent(l.parentElement),u=l.getBoundingClientRect(),p=c.getBoundingClientRect(),d=(a=p,s=0,(w({x:(i=u).left,y:i.top},{x:i.right,y:i.top},{x:a.right,y:a.top},{x:a.right,y:a.bottom})||w({x:i.left,y:i.bottom},{x:i.right,y:i.bottom},{x:a.right,y:a.top},{x:a.right,y:a.bottom}))&&(s|=y),(w({x:i.left,y:i.top},{x:i.right,y:i.top},{x:a.left,y:a.top},{x:a.left,y:a.bottom})||w({x:i.left,y:i.bottom},{x:i.right,y:i.bottom},{x:a.left,y:a.top},{x:a.left,y:a.bottom}))&&(s|=m),(w({x:i.left,y:i.top},{x:i.left,y:i.bottom},{x:a.left,y:a.top},{x:a.right,y:a.top})||w({x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:a.left,y:a.top},{x:a.right,y:a.top}))&&(s|=_),(w({x:i.left,y:i.top},{x:i.left,y:i.bottom},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom})||w({x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom}))&&(s|=b),s),h=l.classList;h.remove("overflow-right","overflow-left","overflow-top","overflow-bottom");var f=0,v=0;d&y&&(f=p.right-u.right,h.add("overflow-right")),d&m&&(f=p.left-u.left,h.add("overflow-left")),d&_&&(v=p.top-u.top,h.add("overflow-top")),d&b&&(v=p.bottom-u.bottom,h.add("overflow-bottom")),0===f&&0===v||(l.style.setProperty("--offset-x",-f+"px"),l.style.setProperty("--offset-y",-v+"px"),t=l,n=f,o=v,r=getComputedStyle(t,null).getPropertyValue("transform"),t.style.transform=r+" translate("+n+"px, "+o+"px)")}})}));var r={attributes:!0,childList:!1,characterData:!1},t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){o&&setTimeout(function(){return o.observe(e,r)},1)},t=__decorate([n({selector:".open-in-view"})],t)}(e);g.OpenInView=t}(i.ui||(i.ui={}))}(feather||(feather={})),function(d){var e;(function(e){var i,t,n=d.ui.events.GestureWidget,o=d.annotations.Template,a=d.observe.Bind,s=d.event.On,l=d.event.Scope,c=d.hub.Subscribe,u=d.dom.selectorMatches,p=d.observe.Computed;(t=i=e.TreeNodeIcon||(e.TreeNodeIcon={}))[t.file="fa-file-o"]="file",t[t.text="fa-font"]="text",t[t.object="fa-sitemap"]="object",t[t.date="fa-calendar"]="date",t[t.number="fa-table"]="number",t[t.enum="fa-ellipsis"]="enum",t[t.html="fa-code"]="html",t[t.config="fa-gear"]="config",t[t.boolean="fa-toggle-on"]="boolean",t[t.array="fa-database"]="array",t[t.folderOpen="fa-folder-open-o"]="folderOpen",t[t.folderClosed="fa-folder-o"]="folderClosed";var r=function(r){function e(e,t,n){void 0===n&&(n=i.file);var o=r.call(this)||this;return o.children=[],o.selected=!1,o.open=!1,o.editing=!1,o.id=function(){return o.text},o.iconClass=function(){return 0===o.children.length?o.icon:o.open?i.folderOpen:i.folderClosed},o.openClass=function(){return 0===o.children.length?void 0:o.open?"open":void 0},o.hasChildrenClass=function(e){return 0<e.length?"fa-caret-right":void 0},o.openIconClass=function(e){return e?"down":void 0},o.selectedClass=function(e){return e?"selected":void 0},o.icon=n,o.text=e,o.value=t,o}return __extends(e,r),e.prototype.openNode=function(e,t){e.stopImmediatePropagation(),this.open=!this.open,this.open?this.triggerUp("node-opened",this.value):this.triggerUp("node-closed",this.value)},e.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.children).push.apply(e,t)},e.prototype.selectNode=function(e,t){u(e.target,"i")||(e.stopImmediatePropagation(),this.selected?(this.selected=!1,this.triggerUp("node-defocused",this)):(this.selected=!0,this.triggerUp("node-focused",this)))},e.prototype.settingsClicked=function(e,t){e.stopImmediatePropagation(),this.triggerUp("node-settings",this)},e.prototype.deselect=function(e){e!==this&&(this.selected&&(this.selected=!1),this.editing&&(this.editing=!1))},e.prototype.startEditing=function(e,t){u(e.target,"i")||(e.stopImmediatePropagation(),this.focusAndEdit())},e.prototype.focusAndEdit=function(){var e=this.element.querySelector("input");e.value=this.text,this.triggerUp("node-focused",this),this.editing=!0,this.selected=!0,e.focus(),e.select()},e.prototype.stopEditing=function(e){this.editing&&(13===e.keyCode?(this.text=e.target.value,this.editing=!1,this.triggerUp("node-edited",this)):27===e.keyCode&&(this.editing=!1))},e.prototype.cancelEditing=function(e){this.editing&&(this.editing=!1)},e.prototype.markup=function(){return'<li class="tree-node">\n              <div class="{{selected:selectedClass}} {{openClass}} clickable" {{editing}}>\n                <i class="icon fa node-handle {{children:hasChildrenClass}} {{open:openIconClass}}"></i>\n                <i class="icon fa node-icon {{iconClass}}"></i>\n                <span class="node-text">{{text}}</span>\n                <input class="node-editor">\n              </div>\n              <ul {{children}}></ul>\n            </li>'},__decorate([a()],e.prototype,"children",void 0),__decorate([a()],e.prototype,"selected",void 0),__decorate([a({localStorage:!0})],e.prototype,"open",void 0),__decorate([a()],e.prototype,"icon",void 0),__decorate([a()],e.prototype,"text",void 0),__decorate([a()],e.prototype,"editing",void 0),__decorate([s({event:"tap",selector:".node-handle"})],e.prototype,"openNode",null),__decorate([s({event:"tap",selector:".clickable"})],e.prototype,"selectNode",null),__decorate([s({event:"tap",selector:".node-settings"})],e.prototype,"settingsClicked",null),__decorate([c("defocus-other-nodes")],e.prototype,"deselect",null),__decorate([s({event:"dblclick",selector:".clickable"})],e.prototype,"startEditing",null),__decorate([s({event:"keydown",selector:"input",scope:l.Direct})],e.prototype,"stopEditing",null),__decorate([s({event:"blur",selector:"input",scope:l.Direct})],e.prototype,"cancelEditing",null),__decorate([o()],e.prototype,"markup",null),__decorate([p("icon","children","open")],e.prototype,"iconClass",void 0),__decorate([p("open","children")],e.prototype,"openClass",void 0),e}(n);e.TreeNode=r})((e=d.ui||(d.ui={})).tree||(e.tree={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l,c;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=e.event.On,i=e.core.RenderPlacement,a=e.annotations.Template,s=e.observe.Bind,l=e.event.Scope,c=function(n){function e(e){var t=n.call(this)||this;return t.hidden=!0,t.tooltip=e,t}return __extends(e,n),e.prototype.init=function(e){this.render("tooltip",i.append)},e.prototype.over=function(e,t){var n=this;null==t.getAttribute("disabled")&&t.getAttribute("tooltip")&&(this.timeout=setTimeout(function(){return n.hidden=!1},700))},e.prototype.out=function(){clearTimeout(this.timeout),this.hidden=!0},e.prototype.markup=function(){return'<div class="tooltip open-in-view" {{hidden}}>{{tooltip:translate}}</div>'},__decorate([s()],e.prototype,"tooltip",void 0),__decorate([s()],e.prototype,"hidden",void 0),__decorate([r({event:"mouseenter",scope:l.Direct})],e.prototype,"over",null),__decorate([r({event:"mouseleave",scope:l.Direct})],e.prototype,"out",null),__decorate([a("tooltip")],e.prototype,"markup",null),e=__decorate([o({selector:"[tooltip]",attributes:["tooltip","disabled"]})],e)}(n),t.Tooltip=c}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,i=e.ui.events.removeMultipleEventListeners,a=e.ui.events.addMultipleEventListeners,s=e.ui.events.tapEvents,l=function(t){function e(){var e=t.call(this)||this;return e.closeHandler=e.closeHandler.bind(e),e}return __extends(e,t),e.prototype.clicked=function(){this.toggle.hasAttribute("hidden")?this.open():this.close()},e.prototype.close=function(){this.toggle.setAttribute("hidden",""),this.element.removeAttribute("open"),i(s,document,this.closeHandler)},e.prototype.open=function(){this.toggle.removeAttribute("hidden"),this.element.setAttribute("open",""),a(s,document,this.closeHandler)},e.prototype.init=function(e){this.toggle=e.querySelector(".toggle"),this.toggle.setAttribute("hidden","")},e.prototype.closeHandler=function(e){this.toggle.hasAttribute("hidden")||this.toggle.contains(e.target)||this.close()},__decorate([r({event:"tap",selector:".button"})],e.prototype,"clicked",null),e=__decorate([o({selector:".toggler"})],e)}(n),t.Toggler=l}(feather||(feather={})),function(e){var t,n,o,r,i,a;t=e.ui||(e.ui={}),n=t.toast||(t.toast={}),o=e.core.Widget,r=e.annotations.Template,i=e.observe.Bind,a=function(n){function e(e){var t=n.call(this)||this;return t.message=e,t}return __extends(e,n),e.prototype.messageItemMarkup=function(){return'<li>\n                  <span class="icon is-small">\n                    <i class="fa fa-caret-right"></i>\n                  </span>\n                  <span>{{message:translate}}</span>\n                </li>'},__decorate([i()],e.prototype,"message",void 0),__decorate([r()],e.prototype,"messageItemMarkup",null),e}(o),n.ToastItem=a}(feather||(feather={})),function(a){var e;(function(l){var e,t=a.ui.events.GestureWidget,n=a.annotations.Template,o=a.observe.Bind,r=a.event.On;(e=l.Theme||(l.Theme={}))[e.Info="info"]="Info",e[e.Error="error"]="Error",e[e.Warning="warning"]="Warning";var i=function(s){function e(e,t,n,o,r){var i,a=s.call(this)||this;return a.message="",a.messages=[],a.added=!1,Array.isArray(t)?(i=a.messages).push.apply(i,t.map(function(e){return new l.ToastItem(e)})):a.message=t,a.title=e,a.action=r,a.actionName=o,a.theme=n,a}return __extends(e,s),e.prototype.actionClicked=function(){this.action()},e.prototype.animationEnded=function(){l.ToastManager.removeToast(this)},e.prototype.deleteClicked=function(){l.ToastManager.removeToast(this)},e.prototype.toastMarkup=function(){var e=this.actionName?'<span class="action-link clickable">{{actionName:translate}}</span>':"";return'<li {{added}} class="{{theme}}">\n              <h4 class="message-header"><p>{{title:translate}}</p><button class="delete is-small"></button></h4>\n              <div class="toast-message">\n                '+(this.message?"<p>{{message:translate}}</p>":"")+"\n                <ul {{messages}}></ul>\n                "+e+"\n              </div>\n            </li>"},__decorate([o()],e.prototype,"message",void 0),__decorate([o()],e.prototype,"messages",void 0),__decorate([o()],e.prototype,"title",void 0),__decorate([o()],e.prototype,"actionName",void 0),__decorate([o()],e.prototype,"theme",void 0),__decorate([o()],e.prototype,"added",void 0),__decorate([r({event:"tap",selector:".action-link"})],e.prototype,"actionClicked",null),__decorate([r({event:"animationend"})],e.prototype,"animationEnded",null),__decorate([r({event:"tap",selector:".delete"})],e.prototype,"deleteClicked",null),__decorate([n()],e.prototype,"toastMarkup",null),e}(t);l.Toast=i})((e=a.ui||(a.ui={})).toast||(e.toast={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=t.toast||(t.toast={}),o=e.ui.events.GestureWidget,r=e.annotations.Construct,i=e.annotations.Template,a=e.observe.Bind,s=e.arrays.removeFromArray,l=function(t){function e(){var e=t.call(this)||this;return e.toasts=[],n.instance=e}return __extends(e,t),(n=e).prototype.init=function(){this.render()},e.showToast=function(t){var e=n.instance.toasts.filter(function(e){return e.title===t.title});s(n.instance.toasts,e),n.instance.toasts.push(t),setTimeout(function(){return t.added=!0},10)},e.removeToast=function(e){var t=n.instance.toasts.indexOf(e);~t&&n.instance.toasts.splice(t,1)},e.prototype.datePickerMarkup=function(){return'<ul class="toasts" {{toasts}}></ul>'},__decorate([a()],e.prototype,"toasts",void 0),__decorate([i()],e.prototype,"datePickerMarkup",null),e=n=__decorate([r({selector:".toast-manager"})],e);var n}(o),n.ToastManager=l}(feather||(feather={})),function(e){var t,n,o,r,i,a,s;t=e.ui||(e.ui={}),n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,i=e.event.On,a=e.hub.Subscribe,s=function(n){function e(e){var t=n.call(this)||this;return t.active=!1,t.activeClass=function(e){return e?"is-active":void 0},t.text=e.getAttribute("title"),t.icon=e.getAttribute("icon").replace(/^fa-/,""),t.el=e,t.setActive(e.hasAttribute("active")),t}return __extends(e,n),e.prototype.setActive=function(e){(this.active=e)?this.el.removeAttribute("hidden"):this.el.setAttribute("hidden","")},e.prototype.clicked=function(){this.triggerUp("activate-tab",this)},e.prototype.deactivate=function(e){this.setActive(e===this)},e.prototype.markup=function(){return'\n            <li class="{{active:activeClass}}">\n              <a>\n                <icon name={icon} iconClass="is-small"/>\n                <span>{{text:translate}}</span>\n              </a>\n            </li>\n            '},__decorate([r()],e.prototype,"active",void 0),__decorate([r()],e.prototype,"text",void 0),__decorate([i({event:"tap"})],e.prototype,"clicked",null),__decorate([a("tabs-activate")],e.prototype,"deactivate",null),__decorate([o()],e.prototype,"markup",null),e}(n),t.Tab=s}(feather||(feather={})),function(e){var o,t,r,i,a,s,l,n;o=e.ui||(e.ui={}),t=e.core.Widget,r=e.annotations.Construct,i=e.observe.Bind,a=e.arrays.from,s=e.annotations.Template,l=e.hub.Subscribe,n=function(n){function e(e){var t=n.call(this)||this;return t.tabs=[],t.tabClass=e||void 0,t}return __extends(e,n),e.prototype.init=function(e){var t;(t=this.tabs).push.apply(t,a(e.children).map(function(e){return new o.Tab(e)})),this.render(),this.element.insertBefore(this.element.lastElementChild,this.element.firstElementChild)},e.prototype.deactivate=function(e){this.triggerDown("tabs-activate",e)},e.prototype.markup=function(){return'\n              <div class="tabs is-center {{tabClass}}">\n                  <ul {{tabs}}></ul>\n              </div>'},__decorate([i()],e.prototype,"tabs",void 0),__decorate([i()],e.prototype,"tabClass",void 0),__decorate([l("activate-tab")],e.prototype,"deactivate",null),__decorate([s()],e.prototype,"markup",null),e=__decorate([r({selector:"tabs",attributes:["tabs-class"]})],e)}(t),o.Tabs=n}(feather||(feather={})),function(u){!function(e){var i,t,n=u.ui.events.GestureWidget,o=u.annotations.Construct,r=u.event.On,a=u.hub.Subscribe,s=u.ui.events.tapDistance,l=u.ui.events.PanPhase;(t=i=e.Direction||(e.Direction={}))[t.Previous=0]="Previous",t[t.Next=1]="Next",t[t.None=2]="None";var c=function(n){function e(e){var t=n.call(this)||this;return t.width=+e,t}return __extends(e,n),e.prototype.onPan=function(e){var t=this.element;if(!t.classList.contains("animate")){var n=__assign({},e.detail),o=n.diffX,r=n.time;switch(n.phase){case l.start:this.direction=i.None,this.transitionEnd();break;case l.move:t.style.transform="translateX("+o+"px)";break;case l.stop:Math.abs(o)>s&&(t.classList.add("animate"),r<200?this.navigate(o):this.width-Math.abs(o)<.5*this.width?this.navigate(o):t.style.transform="translateX(0)")}}},e.prototype.navigate=function(e){var t=this.element;0<e?(this.direction=i.Previous,t.style.transform="translateX("+this.width+"px)"):(this.direction=i.Next,t.style.transform="translateX("+-this.width+"px)")},e.prototype.transitionEnd=function(){this.element.classList.remove("animate"),this.direction!==i.None&&this.triggerUp("snap-scroll-moved",this.direction)},e.prototype.snapScrollReset=function(){var e=this.element;e.classList.remove("animate"),e.style.transform="translateX(0)"},e.prototype.snapScrollPrevious=function(){this.element.classList.add("animate"),this.navigate(1)},e.prototype.snapScrollNext=function(){this.element.classList.add("animate"),this.navigate(-1)},__decorate([r({event:"panX",selector:".snap-scroll"})],e.prototype,"onPan",null),__decorate([r({event:"transitionend"})],e.prototype,"transitionEnd",null),__decorate([a("snap-scroll-reset")],e.prototype,"snapScrollReset",null),__decorate([a("snap-scroll-previous")],e.prototype,"snapScrollPrevious",null),__decorate([a("snap-scroll-next")],e.prototype,"snapScrollNext",null),e=__decorate([o({selector:".snap-scroll",attributes:["width"]})],e)}(n);e.SnapScroll=c}(u.ui||(u.ui={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l,c,u,p;t=e.ui||(e.ui={}),n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,i=e.ui.events.PanPhase,a=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,l=e.ui.events.tapEvents,c=e.observe.Bind,u=e.annotations.Template,p=function(t){function e(){var e=t.call(this)||this;return e.id="horizontal-split",e.width=200,e.draggingClass=function(e){return e?"dragging":void 0},e.closeHandler=e.closeHandler.bind(e),e}return __extends(e,t),e.prototype.init=function(e){this.render(),e.appendChild(e.children[1]),this.applyWidth(this.width)},e.prototype.clicked=function(e,t){var n=this.element.firstElementChild;if(e.target===n){var o=n.classList;o.toggle("open"),o.contains("open")?a(l,document,this.closeHandler):s(l,document,this.closeHandler)}},e.prototype.closeHandler=function(e){var t=this.element.firstElementChild;e.target===t||t.contains(e.target)||(t.classList.remove("open"),s(l,document,this.closeHandler))},e.prototype.onPanX=function(e){switch(__assign({},e.detail).phase){case i.start:this.dragging=!0;break;case i.move:this.applyWidth(this.width=e.clientX);break;case i.stop:this.dragging=!1}},e.prototype.applyWidth=function(e){this.element.firstElementChild.style.width=this.width+"px"},e.prototype.markup=function(){return'<div class="dragger {{dragging:draggingClass}}" width="{{width}}"></div>'},__decorate([c()],e.prototype,"dragging",void 0),__decorate([c({localStorage:!0})],e.prototype,"width",void 0),__decorate([r({event:l.join(" "),selector:"sidebar"})],e.prototype,"clicked",null),__decorate([r({event:"panX",selector:".dragger"})],e.prototype,"onPanX",null),__decorate([u()],e.prototype,"markup",null),e=__decorate([o({selector:"horizontal-split"})],e)}(n),t.HorizontalSplit=p}(feather||(feather={})),function(e){var t,n,o,r,i;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=e.arrays.from,i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){var t=document.createElement("div");t.classList.add("inner-scroll-pane"),r(e.childNodes).forEach(function(e){return t.appendChild(e)}),e.appendChild(t)},t=__decorate([o({selector:"scroll-pane"})],t)}(n),t.ScrollPane=i}(feather||(feather={})),function(e){var t,n,o,r;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([o({selector:"panel"})],t)}(n),t.Panel=r}(feather||(feather={})),function(e){var t,n,o,r;t=e.ui||(e.ui={}),n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([o({selector:"sidebar"})],t)}(n),t.Sidebar=r}(feather||(feather={})),function(e){var t;(function(e){var n={months:"JanuaryFebruaryMarchAprilMayJuneJuliAugustSeptemberOctoberNovemberDecember".split(/(?=[A-Z])/),weekdays:"SundayMondayTuesdayWednesdayThursdayFridaySaturday".split(/(?=[A-Z])/)},o=function(e,t){return e.indexOf(e.filter(function(e){return~e.indexOf(t)})[0])},r=["th","st","nd","rd"],p={D:["Date"],M:["Month","addOne"],Y:["FullYear"],YY:["FullYear","year",-2],MMM:["Month","month",3],MMMM:["Month","month"],h:["Hours","hours"],H:["Hours"],m:["Minutes"],s:["Seconds"],S:["Milliseconds"],w:["Day"],d:["Date","marker"],a:["Hours","ampm"],www:["Day","days",3],wwww:["Day","days"],t:["Time"]};"DMhHmsw".split("").forEach(function(e){return p[e+e]=[p[e][0],p[e][1],p[e][2],"00"]});var t,i=/[A-Za-z]+/g,d=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,a=function(){function e(e,t){var n=this;this.month=function(e){return n.months[e]},this.monthRev=function(e){return o(n.months,e)},this.year=function(e){return e},this.yearRev=function(e){return+e+2e3},this.addOne=function(e){return e+1},this.addOneRev=function(e){return e-1},this.days=function(e){return n.weekdays[e]},this.daysRev=function(e){return o(n.weekdays,e)},this.ampm=function(e){return e/12|0?"PM":"AM"},this.ampmRev=function(e,t,n){return t.getHours()+("PM"===e?12:0)},this.hours=function(e){return e%12},this.marker=function(e){return e+r[3<e%10?0:(e%100-e%10==10?0:1)*e%10]},this.markerRev=function(e){return+e},this.months=e,this.weekdays=t}return e.prototype.format=function(a,e){var s=this;return e.replace(i,function(e){return p[e]?function(e,t,n,o){var r,i=a["get"+e]();return t&&(i=t.split(".").reduce(function(e,t){return e[t]},s)(i)),i+="",o&&(i=((r=o)+i).slice(-r.length)),n&&(i=n<0?i.slice(n):i.substr(0,n)),i}.apply(s,p[e]):e})},e.prototype.parse=function(e,t){var n,o,r,i=this,a=new Date,s=[],l=t.replace(d,"\\$&").replace(/[A-Za-z]+/g,function(e){return(n=p[e])?(o="set"+n[0],a[o]?(s.push(n),"(#)"):"#"):e}),c=new RegExp("^"+l.replace(new RegExp("#","g"),"\\w+")+"$"),u=c.exec(e);if(!u)throw Error("Date parsing failed for "+c);return u.forEach(function(e,t){0!==t&&(o=s[t-1],r=i[o[1]+"Rev"],a["set"+o[0]](r?r(e,a):e))}),a},e}();e.DateFormat=a,e.format=function(e,t){return new a(n.months,n.weekdays).format(e,t)},e.parse=function(e,t){return new a(n.months,n.weekdays).parse(e,t)},e.dayOffset=function(e,t){return new Date(+e+24*t*60*60*1e3)},e.monthOffset=function(e,t){var n=new Date(+e);return n.setMonth(n.getMonth()+t),n},e.yearOffset=function(e,t){var n=new Date(+e);return n.setFullYear(n.getFullYear()+t),n},(t=e.Weekday||(e.Weekday={}))[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",e.precedingDay=function(e,t){var n=new Date(+e);return n.setDate(n.getDate()-(e.getDay()+(7-t))%7),n}})((t=e.ui||(e.ui={})).date||(t.date={}))}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=t.date||(t.date={}),o=e.ui.events.GestureWidget,r=e.annotations.Template,i=e.observe.Bind,a=e.ui.date.format,s=e.event.On,l=function(n){function e(e){var t=n.call(this)||this;return t.asLongMonth=function(){return a(t.date,"MMM")},t.asYear=function(){return a(t.date,"Y")},t.date=e,t}return __extends(e,n),e.prototype.renderMonth=function(){return'<li class="month-of-year">{{date:asLongMonth}}</li>'},e.prototype.renderYear=function(){return'<li class="year">{{date:asYear}}</li>'},e.prototype.clickedMonth=function(){this.triggerUp("go-to-date",this.date)},__decorate([i()],e.prototype,"date",void 0),__decorate([r("month")],e.prototype,"renderMonth",null),__decorate([r("year")],e.prototype,"renderYear",null),__decorate([s({event:"tap"})],e.prototype,"clickedMonth",null),e}(o),n.MonthOrYear=l}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l;t=e.ui||(e.ui={}),n=t.date||(t.date={}),o=e.ui.events.GestureWidget,r=e.annotations.Template,i=e.observe.Bind,a=e.ui.date.format,s=e.event.On,l=function(o){function e(e,t){var n=o.call(this)||this;return n.offMonth=function(e){return e.getMonth()!==n.month?"off":void 0},n.asNumber=function(){return n.date.getDate()},n.asWeekday=function(){return a(n.date,"www").slice(0,2)},n.today=function(e,t){return void 0===t&&(t=new Date),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?"today":void 0},n.date=e,n.month=t,n}return __extends(e,o),e.prototype.weekdayMarkup=function(){return'<li class="column weekday">{{date:asWeekday}}</li>'},e.prototype.dateMarkup=function(){return'<li class="{{date:offMonth}} {{date:today}}">{{date:asNumber}}</li>'},e.prototype.clickedDay=function(){this.element.classList.contains("weekday")||this.triggerUp("select-to-date",this.date)},__decorate([i()],e.prototype,"date",void 0),__decorate([r("weekday")],e.prototype,"weekdayMarkup",null),__decorate([r("date")],e.prototype,"dateMarkup",null),__decorate([s({event:"tap",bubble:!0})],e.prototype,"clickedDay",null),e}(o),n.Day=l}(feather||(feather={})),function(c){var e;(function(i){var r,e,t=c.core.Widget,n=c.annotations.Template,a=c.observe.Bind,s=c.arrays.range,l=c.ui.date.Day;(e=r=i.Position||(i.Position={}))[e.Previous=0]="Previous",e[e.Normal=1]="Normal",e[e.Next=2]="Next";var o=function(o){function e(e,t){var n=o.call(this)||this;return n.dates=[],n.positionClass=function(e){return r[e].toLowerCase()},n.startDate=e,n.position=t,n}return __extends(e,o),e.prototype.init=function(e){var t,n=this,o=i.precedingDay(this.startDate,i.Weekday.Monday),r=s(0,41).map(function(e){return new l(i.dayOffset(o,e),n.startDate.getMonth())});(t=this.dates).push.apply(t,r)},e.prototype.monthMarkup=function(){return'<ul class="month is-marginless {{position:positionClass}}" {{dates}}></ul>'},__decorate([a({templateName:"date"})],e.prototype,"dates",void 0),__decorate([a()],e.prototype,"position",void 0),__decorate([n()],e.prototype,"monthMarkup",null),e}(t);i.Month=o})((e=c.ui||(c.ui={})).date||(e.date={}))}(feather||(feather={})),function(e){var r,a,t,o,i,s,l,c,u,p,d,h,f,v,g,n;r=e.ui||(e.ui={}),a=r.date||(r.date={}),t=e.annotations.Construct,o=e.annotations.Template,i=e.observe.Bind,s=e.ui.date.precedingDay,l=e.ui.date.Weekday,c=e.ui.date.Position,u=e.ui.date.Day,p=e.hub.Subscribe,d=e.event.On,h=e.ui.events.addMultipleEventListeners,f=e.ui.events.removeMultipleEventListeners,v=e.ui.events.tapEvents,g=e.arrays.range,n=function(n){function e(e){var t=n.call(this,e,{name:"",dateformat:"DD.MM.Y"})||this;return t.startDate=new Date,t.weekdays=[],t.monthsOfYear=[],t.years=[],t.months=[],t.showMonthsOfYear=!1,t.showYears=!1,t.hidden=!0,t.value="",t.month=function(e){return a.format(e,"MMMM")},t.year=function(e){return a.format(e,"Y")},t.openOrClosed=function(e){return e?"open":void 0},t.value=a.format(e.date,t.config.dateformat),t.startDate=e.date,t.currentDate=e.date,t.closeHandler=t.closeHandler.bind(t),t}return __extends(e,n),e.prototype.init=function(e){e.classList.add("form-field","label-on-top"),this.render();var t=new Date(+this.startDate);t.setDate(1);var n=new Date(+this.startDate);n.setDate(1),n.setMonth(0);var o,r=s(t,l.Monday),i=g(0,6).map(function(e){return new u(a.dayOffset(r,e),t.getMonth())});(o=this.weekdays).push.apply(o,i),this.months.push(new a.Month(a.monthOffset(t,-1),c.Previous),new a.Month(a.monthOffset(t,0),c.Normal),new a.Month(a.monthOffset(t,1),c.Next)),this.setCurrentMonthAndYear()},e.prototype.setCurrentMonthAndYear=function(){this.currentDate=new Date(+this.months[1].startDate),this.makeMonthAndYearPanel()},e.prototype.previousMonth=function(){this.triggerDown("snap-scroll-previous"),this.showMonthsOfYear=!1,this.showYears=!1},e.prototype.nextMonth=function(){this.triggerDown("snap-scroll-next"),this.showMonthsOfYear=!1,this.showYears=!1},e.prototype.monthClicked=function(){this.showMonthsOfYear=!this.showMonthsOfYear,this.showYears=!1},e.prototype.yearClicked=function(){this.showYears=!this.showYears,this.showMonthsOfYear=!1},e.prototype.iconClicked=function(){var e=this;this.hidden=!this.hidden,this.hidden?(f(v,document,this.closeHandler),this.closeInnerPanels()):setTimeout(function(){return h(v,document,e.closeHandler)},10)},e.prototype.selectDate=function(e){this.value=a.format(e,this.config.dateformat),this.hidden=!0,this.config.onChange(this.value),f(v,document,this.closeHandler)},e.prototype.goToDate=function(e){var t=new a.Month(a.monthOffset(e,-1),c.Previous),n=new a.Month(a.monthOffset(e,0),c.Normal),o=new a.Month(a.monthOffset(e,1),c.Next);this.months.splice(0,3,t,n,o),this.setCurrentMonthAndYear(),this.closeInnerPanels()},e.prototype.closeInnerPanels=function(){this.showYears=!1,this.showMonthsOfYear=!1,this.triggerDown("snap-scroll-reset")},e.prototype.panelSwitched=function(e){var t=this.months;if(e===r.Direction.Previous){var n=new a.Month(a.monthOffset(t[0].startDate,-1),c.Previous);t[0].position=c.Normal,t[1].position=c.Next,t.unshift(n),t.pop()}else{var o=new a.Month(a.monthOffset(t[2].startDate,1),c.Next);t[1].position=c.Previous,t[2].position=c.Normal,t.push(o),t.shift()}this.setCurrentMonthAndYear(),this.triggerDown("snap-scroll-reset")},e.prototype.makeMonthAndYearPanel=function(){var e,t,n=this.currentDate,o=g(0,11).map(function(e){return new a.MonthOrYear(a.monthOffset(n,-n.getMonth()+e))}),r=g(-4,7).map(function(e){return new a.MonthOrYear(a.yearOffset(n,e))});(e=this.monthsOfYear).splice.apply(e,[0,12].concat(o)),(t=this.years).splice.apply(t,[0,12].concat(r))},e.prototype.closeHandler=function(e){var t=this.element,n=e.target;this.hidden||t.querySelector(".open-in-view").contains(n)||t.querySelector(".icon").contains(n)||(this.hidden=!0,this.closeInnerPanels())},e.prototype.datePickerMarkup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control has-icons-right">\n                  <input class="input" type="text" name="{{config.name}}" value="{{value}}" placeholder="{{config.dateformat}}">\n                  <span class="icon is-small is-right"><i class="fa fa-calendar"></i></span>\n                </p>\n                <div class="calendar open-in-view" {{hidden}}>\n                    <nav class="nav">\n                      <span class="nav-left clickable is-small is-left"><i class="fa fa-angle-left"></i></span>\n                      <span class="nav-center is-marginless">\n                        <span class="month clickable">{{currentDate:month}}<i class="fa fa-angle-down"></i></span>\n                        <span class="year clickable">{{currentDate:year}}<i class="fa fa-angle-down"></i></span>\n                      </span>\n                      <span class="nav-right clickable is-small is-right"><i class="fa fa-angle-right"></i></span>\n                    </nav>\n                    <ul class="columns weekday is-mobile is-desktop is-gapless is-marginless" {{weekdays}}></ul>\n                    <div class="months is-gapless snap-scroll" width="200" {{months}}></div>\n                    <div class="month-selector is-marginless is-gapless {{showMonthsOfYear:openOrClosed}}" {{monthsOfYear}}></div>\n                    <div class="year-selector is-marginless is-gapless {{showYears:openOrClosed}}" {{years}}></div>\n                </div>\n            </div>\n            '},__decorate([i({templateName:"weekday"})],e.prototype,"weekdays",void 0),__decorate([i({templateName:"month"})],e.prototype,"monthsOfYear",void 0),__decorate([i({templateName:"year"})],e.prototype,"years",void 0),__decorate([i()],e.prototype,"months",void 0),__decorate([i()],e.prototype,"currentDate",void 0),__decorate([i()],e.prototype,"showMonthsOfYear",void 0),__decorate([i()],e.prototype,"showYears",void 0),__decorate([i()],e.prototype,"hidden",void 0),__decorate([i()],e.prototype,"value",void 0),__decorate([d({event:"tap",selector:".nav-left"})],e.prototype,"previousMonth",null),__decorate([d({event:"tap",selector:".nav-right"})],e.prototype,"nextMonth",null),__decorate([d({event:"tap",selector:".nav-center .month"})],e.prototype,"monthClicked",null),__decorate([d({event:"tap",selector:".nav-center .year"})],e.prototype,"yearClicked",null),__decorate([d({event:"tap",selector:"input + .icon",bubble:!0})],e.prototype,"iconClicked",null),__decorate([p("select-to-date")],e.prototype,"selectDate",null),__decorate([p("go-to-date")],e.prototype,"goToDate",null),__decorate([p("snap-scroll-moved")],e.prototype,"panelSwitched",null),__decorate([o()],e.prototype,"datePickerMarkup",null),e=__decorate([t({selector:"datepicker",attributes:["config"]})],e)}(e.ui.types.FormComponent),a.DatePicker=n}(feather||(feather={})),function(e){var t,o,r,n,i,a,s;t=e.ui||(e.ui={}),o=e.annotations.Construct,r=e.annotations.Template,n=e.ui.types.FormComponent,i=e.event.On,a=e.observe.Bind,s=function(n){function e(e){var t=n.call(this,e)||this;return t.asLabel=function(e){return e?t.config.labelOn:t.config.labelOff},t.checked=e.checked,t}return __extends(e,n),e.prototype.clicked=function(){this.checked=this.input.checked,this.config.onChange(this.checked)},e.prototype.init=function(e){this.render(),this.input=e.querySelector("input")},e.prototype.asCheckbox=function(){return'\n            <div class="field">\n                <label class="label">{{config.label}}</label>\n                <label>\n                  <input type="checkbox" checked="{{checked}}">\n                  <span class="clickable">{{checked:asLabel}}</span>\n                </label>\n            </div>'},__decorate([a()],e.prototype,"checked",void 0),__decorate([i({event:"change",selector:"label + label"})],e.prototype,"clicked",null),__decorate([r()],e.prototype,"asCheckbox",null),e=__decorate([o({selector:"checkbox",attributes:["config"]})],e)}(n),t.Checkbox=s}(feather||(feather={})),function(e){var t,n,o,r,i,a,s,l,c,u;t=e.ui||(e.ui={}),n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,i=e.ui.events.GestureWidget,a=e.event.On,s=e.hub.Subscribe,l=e.ui.utils.focusElement,c=["fontSize","fontFamily","fontWeight","letterSpacing","textTransform"],u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value="",e}return __extends(e,t),e.prototype.onTextChange=function(){this.value=this.input.value,this.input.style.width=this.span.getBoundingClientRect().width+5+"px"},e.prototype.init=function(e){var n=this;this.render(),this.input=e.querySelector("input"),this.span=e.querySelector("span"),setTimeout(function(){var t=window.getComputedStyle(n.input);c.forEach(function(e){return n.span.style[e]=t[e]})},50)},e.prototype.clear=function(e){this.value=this.input.value="",e&&l(this.input)},e.prototype.markup=function(){return'\n                <span>{{value}}</span>\n                <input type="text">'},__decorate([o({})],e.prototype,"value",void 0),__decorate([a({event:"textchange",selector:"input",bubble:!0})],e.prototype,"onTextChange",null),__decorate([s("autogrow-clear")],e.prototype,"clear",null),__decorate([r()],e.prototype,"markup",null),e=__decorate([n({selector:"auto-grow-input"})],e)}(i),t.AutoGrowInput=u}(feather||(feather={})),function(e){var t,n,o,r,i,a,s;t=e.ui||(e.ui={}),n=e.observe.Bind,o=e.annotations.Template,r=e.ui.events.GestureWidget,i=e.event.On,a=e.hub.Subscribe,s=function(r){function e(e,t,n){var o=r.call(this)||this;return o.selected=!1,o.selectedClass=function(e){return e?"selected":void 0},o.iconClass=function(e){return"fa-"+e},o.name=e,o.icon=t,o.value=n,o}return __extends(e,r),e.prototype.init=function(e){this.selectable=e.classList.contains("selectable")},e.prototype.copy=function(){return new e(this.name,this.icon,this.value)},e.prototype.selectedValue=function(){this.triggerUp("value-selected",this),this.selected=!0},e.prototype.clickedValue=function(){this.triggerUp("value-clicked",this),this.selected=!this.selected},e.prototype.deselect=function(e){this.selectable&&this!==e&&(this.selected=!1)},e.prototype.select=function(e){this.selectable&&this===e&&(this.selected=!0)},e.prototype.asValue=function(){return'<li class="clickable {{selected:selectedClass}}"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},e.prototype.asDropdownValue=function(){return'<li class="clickable"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},e.prototype.asSelectedValue=function(){return'<li class="selectable {{selected:selectedClass}}"><div class="icon-row"><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},__decorate([n()],e.prototype,"name",void 0),__decorate([n()],e.prototype,"selected",void 0),__decorate([n()],e.prototype,"icon",void 0),__decorate([i({event:"tap",selector:".selectable"})],e.prototype,"selectedValue",null),__decorate([i({event:"tap",selector:".clickable"})],e.prototype,"clickedValue",null),__decorate([a("deselect-other-values")],e.prototype,"deselect",null),__decorate([a("select-value")],e.prototype,"select",null),__decorate([o("value")],e.prototype,"asValue",null),__decorate([o("dropdown-value")],e.prototype,"asDropdownValue",null),__decorate([o("selectable-value")],e.prototype,"asSelectedValue",null),e}(r),t.ChooserValue=s}(feather||(feather={})),function(e){var t,n,o,i,a,s,l,c,u,r;t=e.ui||(e.ui={}),n=e.annotations.Construct,o=e.observe.Bind,i=e.annotations.Template,a=e.event.On,s=e.ui.events.addMultipleEventListeners,l=e.ui.events.removeMultipleEventListeners,c=e.ui.events.tapEvents,u=e.hub.Subscribe,r=function(r){function e(t){var e=r.call(this,t)||this;e.hidden=!0,e.selectedValue=[],e.values=[],e.selectedIndex=-1;var n,o=t.initialValue||t.values[0];return e.selectedValue.push(t.converter(o)),(n=e.values).push.apply(n,t.values.map(function(e){return t.converter(e)})),e.closeHandler=e.closeHandler.bind(e),e.keyHandler=e.keyHandler.bind(e),e}return __extends(e,r),e.prototype.init=function(e){e.classList.add("single-value"),this.render()},e.prototype.onSelected=function(e){this.selectedValue.splice(0,this.selectedValue.length,e.copy()),this.closeHandler(),this.config.onChange(e.value)},e.prototype.onClicked=function(){this.clicked()},e.prototype.clicked=function(){this.hidden?this.open():this.closeHandler()},e.prototype.keyHandler=function(e){27===e.keyCode&&this.closeHandler(),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var t=this.values.length;if(t&&(40===e.keyCode&&(e.preventDefault(),this.selectedIndex++,this.selectedIndex>t-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=t-1)),40===e.keyCode||38===e.keyCode)){e.preventDefault();var n=this.values[this.selectedIndex];this.triggerDown("select-value",n),this.triggerDown("deselect-other-values",n)}},e.prototype.open=function(){this.triggerDown("deselect-other-values"),this.hidden=!1,s(c,document,this.closeHandler),s(["keydown"],document,this.keyHandler)},e.prototype.closeHandler=function(e){this.hidden||e&&this.element.querySelector(".values").contains(e.target)||(l(c,document,this.closeHandler),l(["keydown"],document,this.keyHandler),this.hidden=!0,this.selectedIndex=-1)},e.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <div class="selected-values dropdown">\n                  <ul {{selectedValue}}></ul>\n                  <div class="buttons">\n                    <Icon class="clickable" name="angle-down"/>\n                  </div>\n                </div>\n                <ul class="values" {{hidden}} {{values}}></ul>\n            </div>'},__decorate([o()],e.prototype,"hidden",void 0),__decorate([o()],e.prototype,"value",void 0),__decorate([o({templateName:"dropdown-value"})],e.prototype,"selectedValue",void 0),__decorate([o({templateName:"selectable-value"})],e.prototype,"values",void 0),__decorate([u("value-selected")],e.prototype,"onSelected",null),__decorate([u("value-clicked")],e.prototype,"onClicked",null),__decorate([a({event:"tap",selector:".selected-values"})],e.prototype,"clicked",null),__decorate([i()],e.prototype,"markup",null),e=__decorate([n({selector:"dropdown",attributes:["config"]})],e)}(e.ui.types.FormComponent),t.Dropdown=r}(feather||(feather={})),function(e){var t,n,r,i,a,s,l,c,u,p,d,h,f,o;t=e.ui||(e.ui={}),n=e.annotations.Construct,r=e.observe.Bind,i=e.annotations.Template,a=e.event.On,s=e.event.Scope,l=e.xhr.Rest,c=e.ui.utils.focusElement,u=e.ui.events.addMultipleEventListeners,p=e.ui.events.removeMultipleEventListeners,d=e.ui.events.tapEvents,h=e.hub.Subscribe,f=e.arrays.removeFromArray,o=function(o){function e(t){var e,n=o.call(this,t,{maxItems:6})||this;return n.values=[],n.selectedValues=[],n.hidden=!0,n.fetching=!1,n.selectedIndex=-1,n.fetchingClass=function(e){return e?"fetching":void 0},n.selectedCount=function(e){return e.length},t.initialValue&&(Array.isArray(t.initialValue)?(e=n.selectedValues).push.apply(e,t.initialValue.map(function(e){return t.converter(e)})):n.selectedValues.push(t.converter(t.initialValue))),n.url=t.url,n.closeHandler=n.closeHandler.bind(n),n}return __extends(e,o),e.prototype.init=function(e){this.config.singleValue&&e.classList.add("single-value"),this.render()},e.prototype.textChanged=function(e){this.url&&(this.keyword=e.target.value,/^\s*$/.test(this.keyword)?this.values.splice(0,this.values.length):(this.fetching=!0,this.open(),this.lastFetch&&this.lastFetch.abort(),this.lastFetch=this.fetchData()))},e.prototype.fetchData=function(e){var t,n=this;this.fetching=!1,(t=this.values).splice.apply(t,[0,this.values.length].concat(e.slice(0,this.config.maxItems).map(function(e){return n.config.converter(e)})))},e.prototype.onValueClicked=function(e){this.config.singleValue&&(this.selectedValues.pop(),this.previous=e),c(this.element.querySelector("input"))},e.prototype.onSelected=function(e){this.previous=void 0,this.config.singleValue?this.selectedValues.splice(0,this.selectedValues.length,e.copy()):this.selectedValues.push(e.copy()),this.notifyChange(),this.closeHandler(),this.triggerDown("autogrow-clear",!0),this.triggerDown("deselect-other-values",e)},e.prototype.notifyChange=function(){var e=this.selectedValues.map(function(e){return e.value});this.config.onChange(this.config.singleValue?e[0]:e)},e.prototype.emptySpaceClicked=function(e,t){e.target===t&&c(this.element.querySelector("input"))},e.prototype.blurred=function(){this.hidden&&(this.closeHandler(),this.restorePrevious())},e.prototype.restorePrevious=function(){this.config.singleValue&&void 0!==this.previous&&this.selectedValues.splice(0,this.selectedValues.length,this.previous.copy())},e.prototype.focused=function(e){this.textChanged(e)},e.prototype.deleteClicked=function(){this.previous=void 0;var e=this.selectedValues,t=e.filter(function(e){return e.selected});0===t.length?e.splice(0,e.length):f(e,t),this.notifyChange()},e.prototype.controlKeyPressed=function(e,t){8===e.keyCode&&!e.target.value.length&&0<this.selectedValues.length&&this.selectedValues.pop(),27===e.keyCode&&(t.blur(),t.value="",this.closeHandler(),this.restorePrevious()),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var n=this.values.length;if(n&&(40===e.keyCode&&(e.preventDefault(),this.selectedIndex++,this.selectedIndex>n-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=n-1)),40===e.keyCode||38===e.keyCode)){var o=this.values[this.selectedIndex];this.triggerDown("select-value",o),this.triggerDown("deselect-other-values",o)}},e.prototype.open=function(){this.hidden=!1,u(d,document,this.closeHandler)},e.prototype.closeHandler=function(e){this.hidden||e&&this.element.contains(e.target)||(p(d,document,this.closeHandler),this.hidden=!0,this.selectedIndex=-1)},e.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <div class="selected-values">\n                  <ul count="{{selectedValues:selectedCount}}" {{selectedValues}}>\n                    <li><auto-grow-input/></li>\n                  </ul>\n                  <div class="buttons">\n                    <button class="delete is-small"></button>\n                  </div>\n                </div>\n                <ul class="values {{fetching:fetchingClass}}" {{hidden}} {{values}}></ul>\n            </div>'},__decorate([r({templateName:"selectable-value"})],e.prototype,"values",void 0),__decorate([r({templateName:"value"})],e.prototype,"selectedValues",void 0),__decorate([r()],e.prototype,"hidden",void 0),__decorate([r()],e.prototype,"fetching",void 0),__decorate([a({event:"textchange",selector:'input[type="text"]'})],e.prototype,"textChanged",null),__decorate([l({url:"{{config.url}}{{keyword}}"})],e.prototype,"fetchData",null),__decorate([h("value-clicked")],e.prototype,"onValueClicked",null),__decorate([h("value-selected")],e.prototype,"onSelected",null),__decorate([a({event:"tap",selector:".selected-values > ul",bubble:!0})],e.prototype,"emptySpaceClicked",null),__decorate([a({event:"blur",selector:'input[type="text"]',scope:s.Direct})],e.prototype,"blurred",null),__decorate([a({event:"focus",selector:'input[type="text"]',scope:s.Direct})],e.prototype,"focused",null),__decorate([a({event:"tap",selector:".delete"})],e.prototype,"deleteClicked",null),__decorate([a({event:"keydown",selector:"input"})],e.prototype,"controlKeyPressed",null),__decorate([i()],e.prototype,"markup",null),e=__decorate([n({selector:"chooser",attributes:["config"]})],e)}(e.ui.types.FormComponent),t.Chooser=o}(feather||(feather={})),function(e){var t,o,r,n,i,a;t=e.ui||(e.ui={}),o=e.annotations.Construct,r=e.annotations.Template,n=e.ui.types.FormComponent,i=e.event.On,a=function(n){function e(e){var t=n.call(this,e,{placeholder:"",type:"text",icon:null,value:"",autofocus:!1})||this;return t.iconClass=function(e){return"fa-"+e},t.errorClass=function(e){return e?"is-warning":void 0},t}return __extends(e,n),e.prototype.init=function(){this.config.icon?this.render("with-icon"):this.render("without-icon")},e.prototype.onTextChange=function(e,t){this.config.onChange(t.value)},e.prototype.withIcon=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control has-icons-left">\n                  <input type="{{config.type}}"\n                         class="input {{error:errorClass}}"\n                         value="{{config.value}}"\n                         placeholder="{{config.placeholder}}"\n                         autofocus="{{config.autofocus}}">\n                  <span class="icon is-small is-left">\n                    <i class="fa {{config.icon:iconClass}}"></i>\n                  </span>\n                </p>\n            </div>'},e.prototype.withoutIcon=function(){return'\n            <div class="field">\n                <label class="label">{{config.label:translate}}</label>\n                <p class="control">\n                  <input type="{{config.type}}"\n                         class="input"\n                         value="{{config.value}}"\n                         placeholder="{{config.placeholder}}"\n                         autofocus="{{config.autofocus}}">\n                </p>\n            </div>'},__decorate([i({event:"textchange",selector:"input"})],e.prototype,"onTextChange",null),__decorate([r("with-icon")],e.prototype,"withIcon",null),__decorate([r("without-icon")],e.prototype,"withoutIcon",null),e=__decorate([o({selector:"text",attributes:["config"]})],e)}(n),t.TextInput=a}(feather||(feather={})),function(e){var t;(t=e.Keys||(e.Keys={}))[t.ENTER=13]="ENTER"}(quill||(quill={})),function(n){var t=feather.ui.tree.TreeNodeIcon,o=feather.ui.findClippedParent,i={},e=function(){for(var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(t," "))},r=window.location.search.substring(1);e=n.exec(r);)i[o(e[1])]=o(e[2])};window.addEventListener("popstate",e),e(),n.getQueryStringParam=function(e){return i[e]},n.iconFor=function(e){switch(e){case"string":return t.text;case"number":return t.number;case"enum":return t.enum;case"list":return t.array;case"node":return t.object;case"boolean":return t.boolean}},n.flattenTree=function(e){return(t=[e]).concat.apply(t,e.children.map(n.flattenTree));var t},n.scrollElementIntoView=function(e){var t=o(e).getBoundingClientRect(),n=e.getBoundingClientRect();(n.top<=t.top||n.bottom>=t.bottom)&&e.scrollIntoView()}}(quill||(quill={})),function(t){var e,n="X-Auth-Token";t.headers=((e={"X-Api-Key":"AbCdEfGhIjK1","Content-Type":"application/json","Accept-Language":"en"})[n]=localStorage.getItem(n),e),t.setToken=function(e){localStorage.setItem(n,e.token),t.headers[n]=e.token},t.removeToken=function(){localStorage.removeItem(n),t.headers[n]=void 0}}(quill||(quill={}));var _this=this,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,quill,feather,quill,quill;window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(_this.document||_this.ownerDocument).querySelectorAll(e),o=_this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),function(e){!function(e){var n=feather.annotations.Template,o=feather.annotations.Construct,t=feather.ui.events.GestureWidget,r=feather.hub.Subscribe,i=feather.core.Widget,a=feather.observe.Bind,s=feather.event.On,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.successButton=function(){return"ui.modal.ok"},e.cancelButton=function(){return"ui.modal.cancel"},e}return __extends(e,t),e.prototype.escKey=function(e){/escape/i.test(e.key)&&this.triggerUp("close-modal")},__decorate([s({event:"keydown"})],e.prototype,"escKey",null),e}(i);e.ModalWidget=l;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modal=[],e.showing=!1,e.title="ui.modal.title",e.successButton="ui.modal.ok",e.cancelButton="ui.modal.cancel",e.toActive=function(e){return e?"is-active":void 0},e}return __extends(e,t),e.prototype.init=function(){this.render()},e.prototype.closeCall=function(){this.close()},e.prototype.show=function(e){this.lastFocussedElement=document.activeElement,this.modal.splice(0,this.modal.length,e),this.title=e.getTitle(),this.successButton=e.successButton(),this.cancelButton=e.cancelButton(),this.showing=!0,e.element.setAttribute("tabindex","-1"),e.element.focus()},e.prototype.close=function(){this.showing=!1,this.lastFocussedElement&&this.lastFocussedElement.focus()},e.prototype.closeButtons=function(){this.close()},e.prototype.markup=function(){return'<div class="modal {{showing:toActive}}">\n              <div class="modal-background"/>\n              <div class="modal-card is-small">\n                <header class="modal-card-head">\n                  <p class="modal-card-title">{{title:translate}}</p>\n                  <button class="delete" aria-label="close"/>\n                </header>\n                <section class="modal-card-body is-small" {{modal}}/>\n                <footer class="modal-card-foot">\n                  <button class="button is-inverted ok">{{successButton:translate}}</button>\n                  <button class="button is-inverted cancel">{{cancelButton:translate}}</button>\n                </footer>\n              </div>\n            </div>'},__decorate([a()],e.prototype,"modal",void 0),__decorate([a()],e.prototype,"showing",void 0),__decorate([a()],e.prototype,"title",void 0),__decorate([a()],e.prototype,"successButton",void 0),__decorate([a()],e.prototype,"cancelButton",void 0),__decorate([r("close-modal")],e.prototype,"closeCall",null),__decorate([r("show-modal")],e.prototype,"show",null),__decorate([s({event:"mousedown",selector:".modal-background"})],e.prototype,"close",null),__decorate([s({event:"click",selector:"button.cancel,button.delete"})],e.prototype,"closeButtons",null),__decorate([n()],e.prototype,"markup",null),e=__decorate([o({selector:"modal-manager",singleton:!0})],e)}(t);e.ModalManager=c}(e.modal||(e.modal={}))}(quill||(quill={})),function(e){var t,o,n;t=e.modal||(e.modal={}),o=feather.annotations.Template,n=function(n){function e(e){var t=n.call(this)||this;return t.project=e,t}return __extends(e,n),e.prototype.getTitle=function(){return"ui.modal.project-config.title"},e.prototype.markup=function(){return'<div class="">Project Config</div>'},__decorate([o()],e.prototype,"markup",null),e}(t.ModalWidget),t.ProjectConfig=n}(quill||(quill={})),function(e){var t,o,r,n;t=e.modal||(e.modal={}),o=feather.annotations.Template,r=feather.ui.tree.TreeNodeIcon,n=function(n){function e(e){var t=n.call(this)||this;return t.node=e,t}return __extends(e,n),e.prototype.getTitle=function(){return"ui.modal.node-config.title"},e.prototype.markup=function(){return'\n            <tabs tabs-class="is-boxed">\n                <div title="ui.modal.node-config.tabs.text"\n                     icon='+r.text+' active>\n                    <tabs class="vertical">\n                        <div title="ui.modal.node-config.text.single-line" icon="font" active>\n                            ABC\n                        </div>\n                        <div title="ui.modal.node-config.text.multi-line" icon="align-justify">\n                            <div class="field">\n                                <input class="is-checkradio" id="multiline-normal" type="radio" name="mutiline-format" checked="checked">\n                                <label for="multiline-normal">Normal</label>\n                            </div>\n                            <div class="field">\n                                <input class="is-checkradio" id="multiline-rtf" type="radio" name="mutiline-format">\n                                <label for=" id="multiline-rtf">Richtext</label>\n                            </div>\n                            <div class="field">\n                                <input class="is-checkradio" id="multiline-md" type="radio" name="mutiline-format">\n                                <label for=" id="multiline-md"">Markdown</label>\n                            </div>\n                        </div>\n                    </tabs>\n                </div>\n                <div title="ui.modal.node-config.tabs.number"\n                     icon='+r.number+'></div>\n                <div title="ui.modal.node-config.tabs.date"\n                     icon='+r.date+'></div>\n                <div title="ui.modal.node-config.tabs.boolean"\n                     icon='+r.boolean+'></div>\n                <div title="ui.modal.node-config.tabs.list"\n                     icon='+r.array+'></div>\n                <div title="ui.modal.node-config.tabs.file"\n                     icon='+r.file+"></div>\n            </tabs>"},__decorate([o()],e.prototype,"markup",null),e}(t.ModalWidget),t.NodeConfig=n}(quill||(quill={})),function(e){var t=feather.core.Widget,o=feather.annotations.Construct,r=feather.observe.Bind,i=feather.annotations.Template,n=function(n){function e(e){var t=n.call(this)||this;return t.key=e,t}return __extends(e,n),e.prototype.init=function(e){e.classList.remove("key"),this.render()},e.prototype.markup=function(){return"{{key:translate}}"},__decorate([r()],e.prototype,"key",void 0),__decorate([i()],e.prototype,"markup",null),e=__decorate([o({selector:"[key]",attributes:["key"]})],e)}(t);e.Translate=n}(quill||(quill={})),function(e){var t=feather.core.Widget,o=feather.annotations.Construct,r=feather.observe.Bind,i=feather.annotations.Template,n=function(t){function e(){var e=t.call(this)||this;return e.fetching=!1,e.runningClass=function(e){return e?"running":void 0},n.instance=e}return __extends(e,t),(n=e).prototype.init=function(){this.render()},e.prototype.markup=function(){return'<div class="progress-runner {{fetching:runningClass}}"></div>'},e.start=function(){n.instance.fetching=!0},e.stop=function(){n.instance.fetching=!1},__decorate([r()],e.prototype,"fetching",void 0),__decorate([i()],e.prototype,"markup",null),e=n=__decorate([o({selector:"progress-bar"})],e);var n}(t);e.Progress=n}(quill||(quill={})),function(e){var n=feather.annotations.Construct,t=feather.ui.ScrollPane,o=feather.event.On,r=feather.event.Scope,i=feather.hub.Subscribe,a=function(t){function e(){var e=t.call(this)||this;return e.receivers=[],e}return __extends(e,t),e.prototype.registerReceiver=function(e){this.receivers.push(e),this.onScroll()},e.prototype.onScroll=function(){var t=this.element.scrollTop;this.receivers.forEach(function(e){return e.scrollTo(t)})},__decorate([i("register-scroll-receiver")],e.prototype,"registerReceiver",null),__decorate([o({event:"scroll",scope:r.Direct})],e.prototype,"onScroll",null),e=__decorate([n({selector:"scroll-spy",attributes:["sync"],singleton:!0})],e)}(t);e.ScrollSpy=a}(quill||(quill={})),function(e){var n=feather.annotations.Construct,t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(e){this.triggerSingleton("register-scroll-receiver",this)},t.prototype.scrollTo=function(e){this.element.scrollTop=e},t=__decorate([n({selector:"scroll-receiver"})],t)}(feather.ui.ScrollPane);e.ScrollReceiver=t}(quill||(quill={})),function(e){var t,n,o,r,i,a;t=e.components||(e.components={}),n=feather.core.Widget,o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.observe.Bind,a=function(n){function e(e){var t=n.call(this)||this;return t.key=e,t}return __extends(e,n),e.prototype.init=function(e){e.classList.remove("html-key"),this.render()},e.prototype.text=function(){return"{{key:translate}}"},__decorate([i({html:!0})],e.prototype,"key",void 0),__decorate([r()],e.prototype,"text",null),e=__decorate([o({selector:"html-fragment",attributes:["html-key"]})],e)}(n),t.HtmlFragment=a}(quill||(quill={})),function(n){var e,t,o,r,i,a,s;e=n.components||(n.components={}),t=feather.ui.events.GestureWidget,o=feather.ui.toast.Theme,r=feather.ui.toast.ToastManager,i=feather.ui.toast.Toast,a=feather.hub.Subscribe,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.requestFailed=function(e){n.Progress.stop(),r.showToast(new i("ui.error.server",e.errors[0].message,o.Error))},t.prototype.requestForbidden=function(){n.Progress.stop(),r.showToast(new i("ui.errors.forbidden.title","ui.errors.forbidden.message",o.Error))},t.prototype.requestUnauthorized=function(e){n.Progress.stop(),r.showToast(new i("ui.errors.unauthorized.title","ui.errors.unauthorized.message",o.Error))},t.prototype.requestMethodNotAllowed=function(){n.Progress.stop(),r.showToast(new i("ui.errors.notallowed.title","ui.errors.notallowed.message",o.Error))},t.prototype.timeout=function(){n.Progress.stop(),r.showToast(new i("ui.error.timeout.title","ui.error.timeout.message",o.Error))},t.prototype.genericError=function(){n.Progress.stop(),r.showToast(new i("ui.error.generic.title","ui.error.generic.message",o.Error))},__decorate([a("xhr-failure-500")],t.prototype,"requestFailed",null),__decorate([a("xhr-failure-403")],t.prototype,"requestForbidden",null),__decorate([a("xhr-failure-401")],t.prototype,"requestUnauthorized",null),__decorate([a("xhr-failure-405")],t.prototype,"requestMethodNotAllowed",null),__decorate([a("xhr-failure-timeout")],t.prototype,"timeout",null),__decorate([a("xhr-failure-error")],t.prototype,"genericError",null),t}(t),e.AjaxWidget=s}(quill||(quill={})),function(r){var e,i,a,s,n,t;e=r.components||(r.components={}),i=feather.ui.toast.Theme,a=feather.ui.toast.ToastManager,s=feather.ui.toast.Toast,n=feather.hub.Subscribe,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.validationFailed=function(e){var t=this;r.Progress.stop();var n=e.errors.map(function(e){return"validation"===e.type&&t.triggerDown("field-error",e.title),e.message});if(e.errors.length){var o=e.errors[0].title.split(".").shift();a.showToast(new s("ui."+o+".failed",n,i.Warning))}},__decorate([n("xhr-failure-400")],t.prototype,"validationFailed",null),t}(e.AjaxWidget),e.AjaxForm=t}(quill||(quill={})),function(e){var t=feather.ui.tree.TreeNode,n=feather.annotations.Template,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.markup=function(){return"<li></li>"},__decorate([n()],t.prototype,"markup",null),t}(t);e.ValueNode=o}(quill||(quill={})),function(t){var e=feather.core.Widget,o=feather.annotations.Template,r=feather.xhr.Rest,i=feather.observe.Bind,n=function(n){function e(e){var t=n.call(this)||this;return t.version=e,t}return __extends(e,n),e.prototype.init=function(e){this.loadVersionValues()},e.prototype.loadVersionValues=function(){},e.prototype.markup=function(){return'\n             <li class="v-flex">\n                <div class="level version-header no-grow">\n                    <div class="level-left">\n                        <span class="level-item">\n                            <span class="icon is-small"><Icon name="book"/></span>\n                            <span class="version-name">{{version.name}}</span>\n                        </span>\n                    </div>\n                    <div class="level-right">\n                        <a class="button is-small tooltip"\n                           action="version-github"\n                           tooltip="ui.tooltip.version.github">\n                            <Icon name="github" icon-class="is-small"/>\n                        </a>\n                        <a class="button is-small tooltip"\n                           action="version-download"\n                           tooltip="ui.tooltip.version.json-download">\n                            <Icon name="download" icon-class="is-small"/>\n                        </a>\n                        <a class="button is-small tooltip"\n                           action="version-configure"\n                           tooltip="ui.tooltip.version.configure">\n                            <Icon name="cog" icon-class="is-small"/>\n                        </a>\n                    </div>\n                </div>\n                <scroll-receiver class="grow">\n                    Nu Bass  <br>Nichol Cumbie  <br>Lenna Piercy  <br>See Aispuro  <br>\n                    Sophie Troyer  <br>Bryan Cool  <br>Sylvia Mabe  <br>Hue Keele  <br>\n                    Kaylee Speaks  <br>Milda Costin  <br>Jennie Dietrich  <br>Reanna Leanos  <br>\n                    Ruby Dehn  <br>Asa Estes  <br>Tennie Steverson  <br>Despina Schnur  <br>\n                    Lakeisha Getman  <br>Mara Heng  <br>Carroll Down  <br>Florencio Fazzino  <br>\n                    Hailey Causey  <br>Babara Friscia  <br>Chanell Stgermain  <br>Annette Deangelis  <br>\n                    Sulema Pulley  <br>Kylee Penman  <br>Ariel Pridgen  <br>Mitch Granado  <br>\n                    Vernia Dates  <br>Darnell Pablo  <br>Anneliese Alderman  <br>Brad Dahl  <br>\n                    Valentin Amburgey  <br>Kemberly Pelzer  <br>Ronald Boney  <br>Adah Boateng  <br>\n                    Marcelina Alls  <br>Felicia Guss  <br>Linn Mershon  <br>Chere Scioneaux  <br>\n                    Madalyn Glisson  <br>Kimberely Hagwood  <br>Roxanne Ouimet  <br>Annalisa Armagost  <br>\n                    Doris Troy  <br>Angeline Shelor  <br>Zada Manjarrez  <br>Marvella Ritch  <br>\n                    Larisa Burruel  <br>Margrett Canino  <br><br>\n                </scroll-receiver>\n            </li>'},__decorate([i()],e.prototype,"version",void 0),__decorate([r({url:"/values/version/{{version.id}}",headers:t.headers})],e.prototype,"loadVersionValues",null),__decorate([o()],e.prototype,"markup",null),e}(e);t.VersionValues=n}(quill||(quill={})),function(n){var e=feather.core.Widget,o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.hub.Subscribe,a=feather.observe.Bind,t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.versionValues=[],e}return __extends(e,t),e.prototype.init=function(e){this.render()},e.prototype.markup=function(){return'<ul class="grow h-flex" {{versionValues}}></ul>'},e.prototype.projectLoaded=function(e){var t;(t=this.versionValues).splice.apply(t,[0,this.versionValues.length].concat(e.versions.map(function(e){return new n.VersionValues(e)})))},__decorate([a({})],e.prototype,"versionValues",void 0),__decorate([r()],e.prototype,"markup",null),__decorate([i("project-loaded")],e.prototype,"projectLoaded",null),e=__decorate([o({selector:"value-editor"})],e)}(e);n.ValueEditor=t}(quill||(quill={})),function(e){var t,n,o,a,s,l,c,u,r;t=e.components||(e.components={}),n=feather.ui.events.GestureWidget,o=feather.annotations.Construct,a=feather.hub.Subscribe,s=feather.event.On,l=feather.observe.Bind,c=feather.annotations.Template,u=feather.arrays.removeFromArray,r=function(r){function e(e,t,n){var o=r.call(this)||this;return o.label=e,o.selected=t,o.type=n,i.labels.push(o),o}return __extends(e,r),(i=e).prototype.init=function(){this.render()},e.prototype.click=function(){var t=this;this.selected=!0,this.triggerUp("root-type-selected",this.type),i.labels.forEach(function(e){e!==t&&(e.selected=!1)})},e.prototype.nodeSelected=function(e){e&&(this.selected=!1)},e.prototype.markup=function(){return'<p class="menu-label clickable" {{selected}}>\n                <span class="icon is-small">\n                    <i class="fa fa-angle-double-right"></i>\n                </span>\n                {{label}}\n            </p>'},e.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),u(i.labels,[this])},e.labels=[],__decorate([l()],e.prototype,"selected",void 0),__decorate([l()],e.prototype,"label",void 0),__decorate([s({event:"tap"})],e.prototype,"click",null),__decorate([a("defocus-other-nodes")],e.prototype,"nodeSelected",null),__decorate([c()],e.prototype,"markup",null),e=i=__decorate([o({selector:"selectable-tree-label",attributes:["label","selected","type"]})],e);var i}(n),t.SelectableTreeLabel=r}(quill||(quill={})),function(r){var n,e,t=feather.ui.tree.TreeNode,i=feather.event.On,a=feather.event.Scope,s=feather.functions.isDef;(e=n=r.DropPostion||(r.DropPostion={})).inside="inside",e.above="above",e.below="below";var l="quill/node-id",o=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=function(){return""+e.value.id},e}return __extends(o,t),o.prototype.init=function(e){e.setAttribute("draggable","true"),e.setAttribute("tabindex","-1")},o.prototype.dragstart=function(e){e.dataTransfer.setData(l,this.id())},o.prototype.dragover=function(e){var t=e.clientY-this.element.getBoundingClientRect().top;t<6?this.element.setAttribute("data-dragover",n.above):18<t?this.element.setAttribute("data-dragover",n.below):this.element.setAttribute("data-dragover",n.inside)},o.prototype.dragleave=function(){var e=this;setTimeout(function(){return e.element.removeAttribute("data-dragover")},30)},o.prototype.blur=function(e){this.element.focus()},o.prototype.drop=function(e){var t=e.dataTransfer.getData(l);this.dragleave(),t&&this.triggerUp("node-drop",{from:parseInt(t,10),to:parseInt(this.id(),10),position:this.element.getAttribute("data-dragover"),open:0<this.children.length&&this.open})},o.prototype.add=function(e,t){s(t)?this.children.splice(t,0,e):this.children.push(e),e.parent=this},o.prototype.hasChildren=function(){return 0<this.children.length},o.prototype.allParentsOpen=function(){for(var e=this.parent;e;){if(!e.open)return!1;e=e.parent}return!0},o.toTreeNode=function(e){var t,n=new o(e.name,e,r.iconFor(e.type));return(t=n.children).push.apply(t,e.children.map(function(e){var t=o.toTreeNode(e);return t.parent=n,t})),n},__decorate([i({event:"dragstart",scope:a.Direct})],o.prototype,"dragstart",null),__decorate([i({event:"dragover",scope:a.Direct,preventDefault:!0})],o.prototype,"dragover",null),__decorate([i({event:"dragleave",scope:a.Direct})],o.prototype,"dragleave",null),__decorate([i({event:"blur",selector:"input",scope:a.Direct})],o.prototype,"blur",null),__decorate([i({event:"drop",scope:a.Direct})],o.prototype,"drop",null),o}(t);r.CustomTreeNode=o}(quill||(quill={})),function(e){var n=feather.annotations.Template,o=feather.event.On,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.backButtonClicked=function(){this.route("/")},t.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="small-info-page">\n                  <h1 key="ui.page.notfound.title"/>\n                  <p key="ui.page.notfound.body"/>\n                  <div class="form-components">\n                    <div class="block has-text-right">\n                        <a class="button is-primary back-action" key="ui.page.notfound.button"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            '},__decorate([o({event:"tap",selector:".back-action",preventDefault:!0})],t.prototype,"backButtonClicked",null),__decorate([n("default")],t.prototype,"loginPage",null),t}(feather.ui.events.GestureWidget);e.NotFoundPage=t}(quill||(quill={})),function(n){var o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.event.On,e=feather.ui.events.GestureWidget,a=feather.hub.Subscribe,s=feather.xhr.Rest,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.logoutClicked=function(){this.doLogout()},t.prototype.doLogout=function(){n.removeToken(),this.route("/login")},t.prototype.logoutFailed=function(){n.removeToken(),this.route("/login")},t.prototype.projectSettings=function(){this.triggerUp("open-project-settings")},t.prototype.markup=function(){return'\n            <nav class="navbar" role="navigation" aria-label="main navigation">\n              <div class="navbar-brand">\n                <a class="navbar-item" href="/" id="logo">\n                    <img src="/assets/images/quill.svg" alt="Quill Logo">\n                    <span>Quill</span>\n                    <span>{{project.name}}</span>\n                </a>\n              </div>\n              <div class="navbar-end">\n                <a class="navbar-item settings"><Icon name="cog"/>Settings</span></a>\n                <a class="navbar-item logout"><Icon name="sign-out"/>Logout <span class="username">{{user.firstname}}</span></a>\n                <div  class="navbar-item">\n                <p class="control has-icons-right" id="search">\n                  <input class="input" type="text" placeholder="Search...">\n                  <Icon name="search" align-right="right"/>\n                </p>\n                </div>\n              </div>\n            </nav>\n            '},__decorate([i({event:"tap",selector:"a.logout"})],t.prototype,"logoutClicked",null),__decorate([s({url:"/signout",headers:n.headers})],t.prototype,"doLogout",null),__decorate([a("xhr-failure-401")],t.prototype,"logoutFailed",null),__decorate([i({event:"click",selector:"a.settings",preventDefault:!0})],t.prototype,"projectSettings",null),__decorate([r()],t.prototype,"markup",null),t=__decorate([o({selector:"navigation",singleton:!0})],t)}(e);n.Navigation=t}(quill||(quill={})),function(l){var t=feather.annotations.Template,o=feather.observe.Bind,r=feather.hub.Subscribe,i=feather.xhr.Rest,a=feather.xhr.Method,s=feather.event.On,c=feather.dom.selectorMatches,u=feather.functions.isDef,p=feather.arrays.removeFromArray,e=l.components.AjaxWidget,d=l.modal.NodeConfig,h=l.modal.ProjectConfig,f={id:0,name:"",structure:[],schema:[],versions:[]},n=function(n){function e(e){var t=n.call(this)||this;return t.nodes=[],t.schemaNodes=[],t.project=f,t.loading=!0,t.currentRootType="structure",t.newNode={name:"New node",sort:0},t.id=function(){return t.projectId},t.projectId=e,t}return __extends(e,n),e.prototype.init=function(){this.fetchProject()},e.prototype.fetchProject=function(e){var t;this.project=e,(t=this.nodes).splice.apply(t,[0,this.nodes.length].concat(e.structure.map(l.CustomTreeNode.toTreeNode))),this.triggerDown("project-loaded",e),this.loading=!1},e.prototype.openProjectSettings=function(){this.triggerSingleton("show-modal",new h(this.project))},e.prototype.nodeDeselected=function(){this.currentTreeNode=void 0,this.triggerDown("defocus-other-nodes")},e.prototype.nodeSelected=function(e){e.element.focus(),this.currentTreeNode=e,this.currentTreeNode.selected=!0,this.triggerDown("defocus-other-nodes",e)},e.prototype.rootTypeSelected=function(e){this.currentRootType=e,this.currentTreeNode=void 0,this.triggerDown("defocus-other-nodes")},e.prototype.nodeAction=function(e){switch(e){case"node-add":this.addNode();break;case"node-edit":this.currentTreeNode.focusAndEdit();break;case"node-configure":this.configureNode();break;case"node-delete":this.deleteNode()}},e.prototype.createChildNode=function(e){l.Progress.stop();var t=l.CustomTreeNode.toTreeNode(e);this.currentTreeNode.add(t),this.currentTreeNode.open=!0,this.currentTreeNode.selected=!1,t.focusAndEdit()},e.prototype.createNode=function(e){l.Progress.stop();var t=l.CustomTreeNode.toTreeNode(e);this.nodes.push(t),t.focusAndEdit()},e.prototype.deleteNode=function(){var e=this.currentTreeNode,t=u(e.parent)?e.parent.children:this.nodes;p(t,[e]),this.currentTreeNode=void 0,this.triggerDown("defocus-other-nodes")},e.prototype.renameNodeCall=function(){l.Progress.stop()},e.prototype.editNode=function(e){l.Progress.start(),this.renameNode={name:e.text},this.renameNodeCall()},e.prototype.moveNodeCall=function(){l.Progress.stop();var t=this.moveNode,e=this.allNodes(this.nodes),n=e.find(function(e){return e.id()===t.from}),o=e.find(function(e){return e.id()===t.to}),r=u(n.parent)?n.parent.children:this.nodes,i=u(o.parent)?o.parent.children:this.nodes;if(p(r,[n]),t.position===l.DropPostion.inside){var a=r.indexOf(o);o.add(n,a+1)}else{var s=i.indexOf(o)+(t.position===l.DropPostion.below?1:0);i.splice(s,0,n)}},e.prototype.dragNode=function(e){l.Progress.start(),this.moveNode=__assign({},e),this.moveNodeCall()},e.prototype.configureNode=function(){this.triggerSingleton("show-modal",new d(this.currentTreeNode))},e.prototype.addNode=function(){l.Progress.start(),u(this.currentTreeNode)?this.createChildNode():this.createNode()},e.prototype.keyEvent=function(e){var t=this;if(/[+c]|(left|right|up|down|enter)$/i.test(e.key)&&c(document.activeElement,"li.tree-node")){if(e.preventDefault(),"+"===e.key&&this.addNode(),"c"===e.key&&this.configureNode(),/left$/i.test(e.key)&&(this.currentTreeNode.open=!1),/right$/i.test(e.key)&&(this.currentTreeNode.open=!0),/(down|up)$/i.test(e.key)){var n=this.allNodes(this.nodes).filter(function(e){return!e.parent||e.allParentsOpen()}),o=/down$/i.test(e.key)?1:-1,r=n[n.findIndex(function(e){return e===t.currentTreeNode})+o];if(r){this.nodeSelected(r);var i=this.element.querySelector(".tree-node > .selected");l.scrollElementIntoView(i)}}/enter$/i.test(e.key)&&this.currentTreeNode.focusAndEdit()}},e.prototype.projectPage=function(){return'\n            <panel class="fullscreen v-flex">\n                <navigation class="no-grow"></navigation>\n                    <horizontal-split class="grow" id="app-split">\n                      <sidebar class="v-flex">\n                        <tree-actions></tree-actions>\n                        <scroll-spy class="grow" {{loading}}>\n                          <aside class="menu">\n                            <selectable-tree-label label="Structure" selected={true} type="structure"></selectable-tree-label>\n                            <ul class="tree-view is-marginless" {{nodes}}></ul>\n                            <selectable-tree-label label="Schemas" selected={false} type="schema"></selectable-tree-label>\n                            <ul class="tree-view is-marginless" {{schemaNodes}}></ul>\n                          </aside>\n                        </scroll-spy>\n                      </sidebar>\n                      <section class="v-flex value-section">\n                         <value-editor class="grow v-flex"/>\n                      </section>\n                    </horizontal-split>\n                </scroll-pane>\n                <footer class="no-grow app-footer"/>\n            </panel>'},e.prototype.allNodes=function(e){return[].concat.apply([],e.map(l.flattenTree))},__decorate([o()],e.prototype,"nodes",void 0),__decorate([o()],e.prototype,"schemaNodes",void 0),__decorate([o({bequeath:!0})],e.prototype,"project",void 0),__decorate([o()],e.prototype,"loading",void 0),__decorate([i({url:"/projects/{{projectId}}",headers:l.headers})],e.prototype,"fetchProject",null),__decorate([r("open-project-settings")],e.prototype,"openProjectSettings",null),__decorate([r("node-defocused")],e.prototype,"nodeDeselected",null),__decorate([r("node-focused")],e.prototype,"nodeSelected",null),__decorate([r("root-type-selected")],e.prototype,"rootTypeSelected",null),__decorate([r("node-action")],e.prototype,"nodeAction",null),__decorate([i({url:"/node/{{currentTreeNode.id}}",method:a.POST,body:"newNode",headers:l.headers})],e.prototype,"createChildNode",null),__decorate([i({url:"/projects/{{projectId}}/{{currentRootType}}",method:a.POST,body:"newNode",headers:l.headers})],e.prototype,"createNode",null),__decorate([i({url:"/node/{{currentTreeNode.id}}",method:a.DELETE,headers:l.headers})],e.prototype,"deleteNode",null),__decorate([i({url:"/node/{{currentTreeNode.id}}/rename",method:a.PUT,body:"renameNode",headers:l.headers})],e.prototype,"renameNodeCall",null),__decorate([r("node-edited")],e.prototype,"editNode",null),__decorate([i({url:"/node/{{moveNode.from}}/move",method:a.PUT,body:"moveNode",headers:l.headers})],e.prototype,"moveNodeCall",null),__decorate([r("node-drop")],e.prototype,"dragNode",null),__decorate([s({event:"keydown",selector:".tree-view"})],e.prototype,"keyEvent",null),__decorate([t()],e.prototype,"projectPage",null),e}(e);l.ProjectPage=n}(quill||(quill={})),function(n){var o=feather.annotations.Template,r=feather.observe.Bind,i=feather.hub.Subscribe,a=feather.event.On,s=feather.xhr.Rest,l=feather.xhr.Method,c=feather.ui.toast.Theme,e=n.components.AjaxForm,u=feather.ui.toast.Toast,p=feather.ui.toast.ToastManager,d=feather.event.Scope,t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.credentials={},t.signup={},t.forgotPassword={},t.forgotPasswordInfo="forgot-password.info",t.identifierConfig={label:"ui.signin.identifier",name:"signin.identifier",placeholder:"john@freemail.com",icon:"envelope-o",autofocus:!0,onChange:function(e){return t.credentials.identifier=e}},t.passwordConfig={label:"ui.signin.password",name:"signin.password",icon:"lock",type:"password",onChange:function(e){return t.credentials.password=e}},t.firstnameConfig={label:"ui.signup.firstname",icon:"user-o",name:"signup.firstname",placeholder:"John",onChange:function(e){return t.signup.firstname=e}},t.lastnameConfig={label:"ui.signup.lastname",icon:"user-o",name:"signup.lastname",placeholder:"Smith",onChange:function(e){return t.signup.lastname=e}},t.emailConfig={label:"ui.signup.email",name:"signup.email",icon:"envelope-o",placeholder:"john@mail.com",onChange:function(e){return t.signup.email=e}},t.signupPasswordConfig={label:"ui.signup.password",name:"signup.password",icon:"lock",onChange:function(e){return t.signup.password=e}},t.forgotPasswordConfig={label:"ui.forgot-password.email",name:"forgot-password.identifier",icon:"envelope-o",onChange:function(e){return t.forgotPassword.identifier=e}},t}return __extends(t,e),t.prototype.loginClicked=function(){n.Progress.start(),this.doLogin()},t.prototype.pressedEnter=function(e){e.keyCode===n.Keys.ENTER&&(n.Progress.start(),this.doLogin())},t.prototype.doLogin=function(e){n.setToken(e),this.route("/ "),n.Progress.stop()},t.prototype.requestUnauthorized=function(e){n.Progress.stop(),p.showToast(new u(e.errors[0].title,e.errors[0].message,c.Error))},t.prototype.signupClicked=function(){this.triggerDown("field-error-clear"),n.Progress.start(),this.doSignup()},t.prototype.doSignup=function(e){n.setToken(e),n.Progress.stop(),this.route("/")},t.prototype.forgotPasswordClicked=function(){n.Progress.start(),this.requestPasswordChange()},t.prototype.requestPasswordChange=function(){n.Progress.stop(),p.showToast(new u("ui.forgot-password.email-sent.title","ui.forgot-password.email-sent.message",c.Info)),this.route("/login")},t.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="login">\n                    <tabs>\n                      <div class="form-components" title="ui.login.tabs.login" icon="key" active>\n                        <Text config="{identifierConfig}"/>\n                        <Text config="{passwordConfig}"/>\n                        <div class="block has-text-right">\n                            <a class="button is-primary login-action" key="ui.signin.button"/>\n                        </div>\n                      </div>\n                      <div class="form-components" title="ui.login.tabs.signup" icon="pencil-square-o">\n                        <Text config="{firstnameConfig}"/>\n                        <Text config="{lastnameConfig}"/>\n                        <Text config="{emailConfig}"/>\n                        <Text config="{signupPasswordConfig}"/>\n                        <div class="block has-text-right">\n                             <a class="button is-primary signup-action" key="ui.signup.button"/>\n                        </div>\n                      </div>\n                      <div class="form-components" title="ui.login.tabs.forgot-password" icon="unlock">\n                        <html-fragment html-key="ui.forgot-password.info"></html-fragment>\n                        <Text config="{forgotPasswordConfig}"/>\n                        <div class="block has-text-right">\n                             <a class="button is-primary forgot-password-action" key="ui.forgot-password.button"/>\n                        </div>\n                      </div>\n                  </tabs>\n                </div>\n            </scroll-pane>\n            '},__decorate([r()],t.prototype,"forgotPasswordInfo",void 0),__decorate([a({event:"tap",selector:".login-action"})],t.prototype,"loginClicked",null),__decorate([a({event:"keypress",selector:'input[type="password"]',scope:d.Direct})],t.prototype,"pressedEnter",null),__decorate([s({url:"/signin",method:l.POST,body:"credentials",headers:n.headers})],t.prototype,"doLogin",null),__decorate([i("xhr-failure-401")],t.prototype,"requestUnauthorized",null),__decorate([a({event:"tap",selector:".signup-action"})],t.prototype,"signupClicked",null),__decorate([s({url:"/signup",method:l.POST,body:"signup",headers:n.headers})],t.prototype,"doSignup",null),__decorate([a({event:"tap",selector:".forgot-password-action"})],t.prototype,"forgotPasswordClicked",null),__decorate([s({url:"/account",method:l.PUT,body:"forgotPassword",headers:n.headers})],t.prototype,"requestPasswordChange",null),__decorate([o("default")],t.prototype,"loginPage",null),t}(e);n.LoginPage=t}(quill||(quill={})),function(n){var o=feather.annotations.Template,r=feather.observe.Bind,i=feather.hub.Subscribe,a=feather.event.On,s=feather.xhr.Rest,l=feather.xhr.Method,c=feather.ui.toast.Theme,e=n.components.AjaxForm,u=feather.ui.toast.Toast,p=feather.ui.toast.ToastManager,t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.newPassword={id:n.getQueryStringParam("id")},t.changePasswordInfo="ui.change-password.info",t.passwordConfig={label:"ui.change-password.password",name:"new-password.password",icon:"lock",type:"password",onChange:function(e){return t.newPassword.password=e}},t.passwordRepeatConfig={label:"ui.change-password.password-repeat",name:"new-password.passwordRepeat",icon:"lock",type:"password",onChange:function(e){return t.newPassword.passwordRepeat=e}},t}return __extends(t,e),t.prototype.init=function(){n.removeToken()},t.prototype.submitClicked=function(){n.Progress.start(),this.doPasswordChange()},t.prototype.doPasswordChange=function(){n.Progress.stop(),this.route("/login"),p.showToast(new u("ui.change-password.success.title","ui.change-password.success.message",c.Error))},t.prototype.unauthorized=function(e,t){n.Progress.stop(),p.showToast(new u("ui.change-password.fail.title","ui.change-password.fail.message",c.Error)),this.route("/login")},t.prototype.loginPage=function(){return'\n            <scroll-pane class="grow">\n                <div class="change-password">\n                  <p key="ui.change-password.info"/>\n                  <div class="form-components">\n                    <Text config="{passwordConfig}"/>\n                    <Text config="{passwordRepeatConfig}"/>\n                    <div class="block has-text-right">\n                        <a class="button is-primary change-action" key="ui.change-password.button"/>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            '},__decorate([r()],t.prototype,"changePasswordInfo",void 0),__decorate([a({event:"tap",selector:".change-action"})],t.prototype,"submitClicked",null),__decorate([s({url:"/account/new-password",method:l.PUT,body:"newPassword",headers:n.headers})],t.prototype,"doPasswordChange",null),__decorate([i("xhr-failure-401")],t.prototype,"unauthorized",null),__decorate([o("default")],t.prototype,"loginPage",null),t}(e);n.PassordChangePage=t}(quill||(quill={})),function(e){var t,n,o,r,i,a,s;t=e.ui||(e.ui={}),n=e.annotations.Construct,o=e.annotations.Template,r=e.observe.Bind,i=e.event.On,a=e.hub.Subscribe,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!0,e}return __extends(e,t),e.prototype.init=function(){this.render()},e.prototype.nodeSelected=function(e){this.disabled=void 0===e},e.prototype.buttonClicked=function(e,t){this.triggerUp("node-action",t.getAttribute("action"))},e.prototype.markup=function(){return'\n            <div class="level is-mobile is-marginless tree-actions">\n              <div class="level-left">\n                 <a class="button is-small tooltip"\n                    action="node-add"\n                    tooltip="ui.tooltip.tree-actions.add">\n                    <Icon name="plus" icon-class="is-small"/>\n                 </a>\n                 <a class="button is-small tooltip"\n                    action="node-edit"\n                    tooltip="ui.tooltip.tree-actions.rename" {{disabled}}>\n                    <Icon name="pencil" icon-class="is-small"/>\n                 </a>\n                 <a class="button is-small tooltip"\n                    action="node-configure"\n                    tooltip="ui.tooltip.tree-actions.configure" {{disabled}}>\n                    <Icon name="cog" icon-class="is-small"/>\n                 </a>\n              </div>\n              <div class="level-right">\n                 <a class="button is-small tooltip"\n                    action="node-delete"\n                    tooltip="ui.tooltip.tree-actions.delete" {{disabled}}>\n                    <Icon name="trash-o" icon-class="is-small"/>\n                 </a>\n              </div>\n            </div>'},__decorate([r()],e.prototype,"disabled",void 0),__decorate([a("defocus-other-nodes")],e.prototype,"nodeSelected",null),__decorate([i({event:"tap",selector:"a[action]:not([disabled])"})],e.prototype,"buttonClicked",null),__decorate([o()],e.prototype,"markup",null),e=__decorate([n({selector:"tree-actions"})],e)}(e.ui.events.GestureWidget),t.TreeActions=s}(feather||(feather={})),function(e){var n=feather.annotations.Construct,o=feather.annotations.Template,t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return""},__decorate([o()],t.prototype,"markup",null),t=__decorate([n({selector:"content"})],t)}(feather.ui.events.GestureWidget);e.Content=t}(quill||(quill={})),function(n){var e=feather.core.Widget,o=feather.annotations.Construct,r=feather.annotations.Template,i=feather.observe.Bind,a=feather.routing.Route,s=feather.hub.Subscribe,l=feather.xhr.Rest,c=feather.ui.toast.ToastManager,u=feather.ui.toast.Toast,p=feather.ui.toast.Theme,d=feather.objects.setDeepValue,t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.user=null,e.translations={},e}return __extends(e,t),e.prototype.init=function(){this.fetchTranslations()},e.prototype.fetchTranslations=function(e){var t=this;e.messages.forEach(function(e){return d(t.translations,e.key,e.value)}),this.render()},e.prototype.checkLogin=function(e){this.user=e,this.route("/project/"+this.user.lastProject)},e.prototype.unauthorized=function(){this.route("/login")},e.prototype.genericFetchError=function(e,t){c.showToast(new u("API request has failed",e,p.Error))},e.prototype.projectPage=function(e){this.user?this.goToPage(new n.ProjectPage(e.id)):this.checkLogin()},e.prototype.loginPage=function(){this.goToPage(new n.LoginPage)},e.prototype.notFoundPage=function(){this.goToPage(new n.NotFoundPage)},e.prototype.changePasswordPage=function(){this.goToPage(new n.PassordChangePage)},e.prototype.goToPage=function(e){this.pages.splice(0,1,e)},e.prototype.homePage=function(){this.checkLogin()},e.prototype.applicationHTML=function(){return'<progress-bar></progress-bar>\n                    <panel class="fullscreen v-flex" {{pages}}></panel>\n                    <localization translations={translations}/>\n                    <modal-manager/>\n            '},__decorate([i()],e.prototype,"pages",void 0),__decorate([i({bequeath:!0})],e.prototype,"user",void 0),__decorate([l({url:"/translations",headers:n.headers})],e.prototype,"fetchTranslations",null),__decorate([l({url:"/account",headers:n.headers})],e.prototype,"checkLogin",null),__decorate([s("xhr-failure-401")],e.prototype,"unauthorized",null),__decorate([a("/project/:id")],e.prototype,"projectPage",null),__decorate([a("/login")],e.prototype,"loginPage",null),__decorate([a("/404")],e.prototype,"notFoundPage",null),__decorate([a("/changepassword")],e.prototype,"changePasswordPage",null),__decorate([a("/")],e.prototype,"homePage",null),__decorate([r()],e.prototype,"applicationHTML",null),e=__decorate([o({selector:"body.quill-app"})],e)}(e);n.QuillApplication=t}(quill||(quill={})),feather.start();