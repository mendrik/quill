window.console||(window.console={}),console.log||(console.log=function(){});var __extends=function(e,t){function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__rest=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]]);return n},__decorate=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},feather;!function(e){!function(e){function t(e){var t={};return e&&"[object Function]"===t.toString.call(e)}e.compose=function(e){return function(t){for(var n=0,o=e;n<o.length;n++)t=(0,o[n])(t);return t}},e.isFunction=t;var n=new WeakMap;e.getInheritedMethods=function(e){if(n.has(e))return n.get(e);var o=[],r=e;do{o=o.concat(Object.getOwnPropertyNames(e))}while(e=Object.getPrototypeOf(e));var a=o.filter(function(e){return t(r[e])});return n.set(r,a),a}}(e.functions||(e.functions={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e,n){if(void 0===n)return[];var o=Object.getPrototypeOf(n),r=e.get(o)||[];return o&&r.push.apply(r,t(e,o)),r}function n(t,o){if(void 0===o)return{};var r=Object.getPrototypeOf(o),a=t.get(r)||{};return r&&(a=e.mergeArrayTypedMap(a,n(t,r))),a}e.isObject=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)},e.values=function(e){return"values"in Object?Object.values(e):Array.apply(null,Object.keys(e).map(function(t){return e[t]}))},e.deepValue=function(e,t){var n,o,r;for(n=0,o=(r=t.split(".")).length;n<o;n++)if(void 0===(e=e[r[n]]))return;return e},e.setDeepValue=function(e,t,n){var o,r,a;for(o=0,r=(a=t.split(".")).length-1;o<r;o++)e=e[a[o]]||(e[a[o]]={});return e[a.pop()]=n},e.collectAnnotationsFromArray=t,e.mergeArrayTypedMap=function(e,t){var n={};return Object.keys(e).forEach(function(t){return n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]&&Array.isArray(t[e])?(o=n[e]).push.apply(o,t[e]):n[e]=t[e];var o}),n},e.collectAnnotationsFromTypeMap=n}(e.objects||(e.objects={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e,t){var n=t[e],a=r.get(t),i=function(e,t,n){for(var o=0,r=a;o<r.length;o++)r[o][t].apply(e,n)};"splice"===e?t.splice=function(o,r){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var l=n.call.apply(n,[t,o,r].concat(a));return i(t,e,[o,r,a,l]),l}:"sort"===e&&(t.sort=function(r){var a=o(0,t.length-1),s=r?[t.map(function(e,t){return t}).sort(function(e,n){return r(t[e],t[n])}).map(function(e){return a[e]})]:a,l=n.call(t,r);return i(t,e,s),l})}function n(e,t){return e.filter(function(e){return!~t.indexOf(e)})}function o(e,t){for(var n=t-e+1,o=new Array(n),r=0,a=o.length;r<a;r++)o[r]=r+e;return o}var r=new WeakMap;e.from=function(e){return[].slice.call(e)},e.flatten=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},e.removeFromArray=function(e,t){for(var n=e.length;n--;)~t.indexOf(e[n])&&e.splice(n,1)},e.notifyListeners=function(e){var t=r.get(e);if(t)for(var n=0,o=t;n<o.length;n++)o[n].splice(0,0,[],[])},e.diff=n,e.patch=function(e,t){return{add:n(e,t),remove:n(t,e)}},e.range=o,e.observeArray=function(e,n){r.get(e)||(r.set(e,[]),e.pop=function(){return e.splice(e.length-1,1)[0]},e.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.splice.apply(e,[e.length,0].concat(t)),e.length},e.fill=function(){throw Error("observed arrays cannot be filled. items must be unique, use Array.splice instead!")},e.reverse=function(){var t=e.slice();return e.sort(function(e,n){return t.indexOf(n)-t.indexOf(e)}),e},e.shift=function(){return e.splice(0,1)[0]},e.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.splice.apply(e,[0,0].concat(t)),e.length},t("splice",e),t("sort",e)),r.get(e).push(n)},e.changeArrayListener=function(e){return{sort:e,splice:e}},e.lis=function(e){for(var t=e.length,n=new Array(t),o=new Array(t),r=0,a=t+1;r<a;r++)n[r]=1,o[r]=-1;for(r=1;r<t;r++)for(var i=0;i<r;i++)e[i]<e[r]&&n[r]<n[i]+1&&(n[r]=n[i]+1,o[r]=i);for(var s=0,r=1;r<t;r++)n[s]<n[r]&&(s=r);for(var l=n[s],c=new Array(l),r=s;-1!==r;r=o[r])c[--l]=e[r];return c}}(e.arrays||(e.arrays={}))}(feather||(feather={}));var feather;!function(e){!function(e){function t(e,t){return o.call(e,t)}var n=function(e){var t=e.nodeType;return t===Node.ELEMENT_NODE||t!==Node.DOCUMENT_FRAGMENT_NODE&&(t!==Node.TEXT_NODE||!/^\s*$/.test(e.textContent))},o=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","matchesSelector"].reduce(function(e,t){return Element.prototype[t]||e});e.querySelectorWithRoot=function(e,n){var o=e.nodeType===Node.ELEMENT_NODE&&t(e,n)?[e]:[];return o.push.apply(o,e.querySelectorAll(n)),o},e.selectorMatches=t,e.allChildNodes=function(e){this.acceptNode=n;var t=document.createTreeWalker(e,NodeFilter.SHOW_ALL,n,!1),o=[];do{o.push(t.currentNode)}while(t.nextNode());return o},e.insertBefore=function(e,t,n){void 0===n&&(n=null),e.insertBefore(t,n)}}(e.dom||(e.dom={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.objects.deepValue,o=e.functions.isFunction;t.format=function(e,t,r){for(var a,i=e.split(/{{|}}/),s=i.length,l=new Array(s),c=0;c<s;c++)if(a=i[c],c%2){for(var u=a.split(/:/),p=u.shift(),d=~p.indexOf(".")?n(t,p):t[p],h=0,f=u;h<f.length;h++)d=r[f[h]].call(t,d);if(void 0===d)return l[c]="{{"+a+"}}";l[c]=o(d)?d.call(t):d}else l[c]=a;return l.join("")},t.namedRegexMatch=function(e,t,n){var o=t.exec(e);if(o)return o.reduce(function(e,t,o){return o>0&&(e[n[o-1]]=t),e},{})}}(e.strings||(e.strings={}))}(feather||(feather={}));var feather;!function(feather){var boot;!function(boot){var querySelectorWithRoot=feather.dom.querySelectorWithRoot,ComponentInfo=function(){return function(e,t,n,o){this.selector=e,this.singleton=t,this.attributes=n,this.component=o}}();boot.ComponentInfo=ComponentInfo;var WidgetFactory=function(){function WidgetFactory(){}return WidgetFactory.start=function(e,t){void 0===e&&(e=document);for(var n=WidgetFactory.widgetRegistry,o=0,r=n.length;o<r;o++)for(var a=n[o],i=querySelectorWithRoot(e,a.selector),s=0,l=i.length;s<l;s++){var c=i[s],u=a.attributes.map(WidgetFactory.attributeParser(c,t||window)),p=new(Function.prototype.bind.apply(a.component,[null].concat(u)));a.singleton&&WidgetFactory.singletonRegistry.push(p),c.hasAttribute("id")&&(p.id=c.getAttribute("id")),t&&(p.parentWidget=t,t.childWidgets.push(p)),p.bindToElement(c)}e===document&&feather.routing.runRoutes()},WidgetFactory.register=function(e,t){this.widgetRegistry.push(new ComponentInfo(e.selector,e.singleton,e.attributes||[],t))},WidgetFactory.widgetRegistry=[],WidgetFactory.singletonRegistry=[],WidgetFactory.attributeParser=function(node,context){return function(key){var value=node.getAttribute(key),m=(value||"").match(/^{(.+?)}\/?$/i);if(m){var js=m[1];void 0!==(value=context[js]||function(str){return eval(str)}.bind(context)(js))&&node.removeAttribute(key)}return value}},WidgetFactory}();boot.WidgetFactory=WidgetFactory}(boot=feather.boot||(feather.boot={}))}(feather||(feather={})),function(e){e.start=function(){return e.boot.WidgetFactory.start()}}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.objects.collectAnnotationsFromArray,o=new WeakMap,r=new WeakMap,a=function(){function e(){}return e.prototype.attachMediaListeners=function(){var e=this;n(o,this).forEach(function(t){var n=window.matchMedia(t.query),o=function(n){n.matches&&e[t.method].call(e,n)};n.addListener(o);var a=r.get(e);a||r.set(e,a=[]),a.push({mediaQuery:n,listener:o}),o(n)})},e.prototype.cleanUp=function(){(r.get(this)||[]).forEach(function(e){return e.mediaQuery.removeListener(e.listener)})},e}();t.MediaQueryAware=a,t.Media=function(e){return function(t,n){var r=o.get(t);r||o.set(t,r=[]),r.push({method:n,query:e})}}}(e.media||(e.media={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e){var n;if(d.innerHTML=e.replace(t.selfClosingTags,t.openTags),s)n=document.importNode(d.content,!0);else for(n=document.createDocumentFragment();d.firstChild;)n.appendChild(d.firstChild);var r=a(n);return new v(n,o(r))}function o(e){var t,n=[];return e.forEach(function(e,o){if(e.nodeType===Node.TEXT_NODE)for(var a=e.textContent;null!==(t=c.exec(a));)n.push(new f(o,3,t[1],a));else if(e.nodeType===Node.ELEMENT_NODE)for(var i=0,s=r(e.attributes);i<s.length;i++){var u=s[i],p=u.nodeName;if(t=p.match(l))n.push(new f(o,1,t[1]));else if("class"===p)for(var d=0,h=r(e.classList);d<h.length;d++){var v=h[d];(t=v.match(l))&&n.push(new f(o,0,t[1]))}else{var y=u.value;(t=y.match(l))&&n.push(new f(o,2,t[1],p))}}}),n}var r=e.arrays.from,a=e.dom.allChildNodes,i=e.objects.collectAnnotationsFromTypeMap,s="content"in document.createElement("template")&&"firstElementChild"in document.createDocumentFragment(),l=/{{(.*?)}}/,c=/{{(.*?)}}/g,u=new WeakMap,p={},d=s?document.createElement("template"):document.createElement("div");t.selfClosingTags=/<(\w+)((\s+([^=\s\/<>]+|\w+=('[^']*'|"[^"]*"|[^"']\S*)))*)\s*\/>/gi,t.openTags="<$1$2></$1>";var h=function(){return function(e,t,n,o){this.node=e,this.type=t,this.curly=n,this.text=o}}();t.Hook=h;var f=function(){return function(e,t,n,o){this.nodePosition=e,this.type=t,this.curly=n,this.text=o}}();t.HookInfo=f;var v=function(){function e(e,t){this.node=e,this.hookInfos=t}return e.prototype.asParsedTemplate=function(){var e=this.node.cloneNode(!0),t=a(e),n=this.hookInfos.map(function(e){return new h(t[e.nodePosition],e.type,e.curly,e.text)});return{doc:e,first:t[1],hooks:n}},e}();t.PreparsedTemplate=v,t.getPreparsedTemplate=n;var y=function(){function e(){}return e.getTemplate=function(e,t){var o=i(u,e)[t].call(e),r=p[o];return r||(r=n(o),p[o]=r),r.asParsedTemplate()},e}();t.TemplateFactory=y,t.Template=function(e,t){return void 0===e&&(e="default"),void 0===t&&(t=!0),function(o,r){var a=u.get(o);if(a||u.set(o,a={}),a[e]=o[r],t)try{var i=o[r].call({});p[i]=n(i)}catch(e){console.warn("Template method "+r+" in "+o.constructor+" is not a pure function.")}}}}(e.annotations||(e.annotations={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,n,o){var a=e.element;t.addListener(a,n,function(t){var n=t.target;do{for(var i=0,s=o;i<s.length;i++){var l=s[i];n.nodeType!==Node.ELEMENT_NODE||l.selector&&!r(n,l.selector)||(l.preventDefault&&t.preventDefault(),e[l.method].call(e,t,n))}if(n===a)break}while(n=n.parentElement)})}var o,r=e.dom.selectorMatches,a=e.objects.collectAnnotationsFromArray,i=e.media.MediaQueryAware;!function(e){e[e.Direct=0]="Direct",e[e.Delegate=1]="Delegate"}(o=t.Scope||(t.Scope={}));var s=(u={},u[o.Direct]=new WeakMap,u[o.Delegate]=new WeakMap,u),l=new WeakMap;t.addListener=function(e,t,n){e.addEventListener(t,n);var o=l.get(e);o||(o=[],l.set(e,o)),o.push({event:t,fn:n})};var c=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.attachEvents=function(){this.attachDelegates(this.handlers(o.Delegate)),this.attachDirect(this.handlers(o.Direct))},r.prototype.handlers=function(e){var t={};return a(s[e],this).reduce(function(e,t){var n=t.event;return e[n]||(e[n]=[]),e[n].push(t),e},t),t},r.prototype.attachDirect=function(e){var n=this,r=this.element;Object.keys(e).forEach(function(a){for(var i=e[a],s=0,l=i;s<l.length;s++)!function(e){var o=e.selector?r.querySelector(e.selector):r;o?t.addListener(o,a,function(t){return e.preventDefault&&t.preventDefault(),e.bubble||t.stopImmediatePropagation(),n[e.method].call(n,t,o)}):console.warn(e.selector+" didn't match anything inside the template")}(l[s]);n.eventRegistered(n,a,i,o.Direct)})},r.prototype.attachDelegates=function(e){var t=this;Object.keys(e).forEach(function(r){var a=e[r];n(t,r,a),t.eventRegistered(t,r,a,o.Delegate)})},r.prototype.eventRegistered=function(e,t,n,o){},r.prototype.cleanUp=function(){var t=this;e.prototype.cleanUp.call(this);var n=l.get(this.element);n&&(n.forEach(function(e){return t.element.removeEventListener(e.event,e.fn)}),l.delete(this.element))},r}(i);t.EventAware=c,t.On=function(e){return function(t,n){var r=void 0===e.scope?o.Delegate:e.scope,a=s[r].get(t);a||s[r].set(t,a=[]),e.event.split(/\s+/).forEach(function(t){return a.push({event:t,method:n,preventDefault:e.preventDefault,bubble:e.bubble,scope:r,selector:e.selector})})}};var u}(e.event||(e.event={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.event.EventAware,o=e.arrays.flatten,r=e.objects.collectAnnotationsFromTypeMap,a=e.boot.WidgetFactory,i=new WeakMap,s=function(){return function(e,t){this.event=e,this.method=t}}();t.Subscriber=s;var l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.childWidgets=[],e}return __extends(n,t),n.prototype.triggerUp=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.hub.Subscribable.trigger(t,this,n),this.parentWidget&&(r=this.parentWidget).triggerUp.apply(r,[t].concat(n));var r},n.prototype.triggerSingleton=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];a.singletonRegistry.forEach(function(o){return e.hub.Subscribable.trigger(t,o,n)})},n.prototype.triggerDown=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.hub.Subscribable.trigger(t,this,n),this.childWidgets&&this.childWidgets.forEach(function(e){return e.triggerDown.apply(e,[t].concat(n))})},n.trigger=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var s=r(i,t);if(s[e])for(var l=0,c=s[e];l<c.length;l++)t[c[l].method].apply(t,o(n))},n.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),i.delete(this)},n}(n);t.Subscribable=l,t.Subscribe=function(e){return function(t,n){var o=i.get(t);o||i.set(t,o={}),o[e]||(o[e]=[]),o[e].push(new s(e,n))}}}(e.hub||(e.hub={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.hub.Subscribable,o=e.strings.namedRegexMatch,r=e.objects.collectAnnotationsFromArray,a=new WeakMap,i=[],s=/[:*]\w+/gi,l=window.history&&window.history.pushState&&null===document.querySelector('[routing="hash"]'),c=[[/:\w+/gi,"([\\w\\d-]+)"],[/\*\w+/gi,"(.+)"]];t.namedMatch=function(e,t){var n=e.match(s);if(n&&n.length){n=n.map(function(e){return e.substr(1)});var r=c.reduce(function(e,t){return e.replace(t[0],t[1])},e),a=new RegExp("^"+r+"$","gi");return o(t,a,n)}if(new RegExp("^"+e+"$","gi").exec(t))return{}};var u=function(){var e=location.pathname;return l||("/"!==e?location.replace("/#"+e):e=location.hash?location.hash.replace(/^#/,""):"/"),e},p=function(e){for(var n=0,o=i;n<o.length;n++)for(var s=o[n],l=0,c=r(a,s);l<c.length;l++){var u=c[l],p=t.namedMatch(u.route,e);p&&s[u.handler].call(s,p)}};window.addEventListener(l?"popstate":"hashchange",function(){return p(u())},!1);var d=function(e){l?(history.pushState(null,"",e),p(u())):location.hash=e},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentRoute=u,t.route=function(e){return d(e)},t}return __extends(t,e),t.prototype.initRoutes=function(){!~i.indexOf(this)&&a.has(Object.getPrototypeOf(this))&&i.push(this)},t}(n);t.RouteAware=h,t.runRoutes=function(){window.blockRouting||p(u())},t.Route=function(e){return function(t,n){var o=a.get(t);o||a.set(t,o=[]),o.push({route:e,handler:n})}}}(e.routing||(e.routing={}))}(feather||(feather={}));var feather;!function(e){!function(t){function n(e,t,n,o){n?e.setAttribute(t,o):e.removeAttribute(t)}function o(e){if(e.parentWidget)for(var t=e.parentWidget,n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];x(t[r])}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(e){e.cleanUp(),O.delete(e)})}function a(e,t,n,o){if(n&&n.localStorage){if(Array.isArray(o)){var r=D(A,e)[t];o=o.map(e[r.write])}localStorage.setItem(W(e,t),JSON.stringify({value:o}))}}function i(e,t,n,r){var i=e[n];if(Array.isArray(i))v(i,k(function(){r(i),o(e),a(e,n,t,i)}));else{var s=O.get(e);s?s[n]||(s[n]=[]):O.set(e,(l={},l[n]=[],s=l)),Object.defineProperty(e,n,{get:function(){return i},set:function(r){if(r!==i){a(e,n,t,r);var l=i;i=r;for(var c=0,u=s[n];c<u.length;c++)(0,u[c])(r,l);o(e)}return r}}),s[n].push(r)}var l}function s(e,t,o,r){if(2!==t.type&&1!==t.type)throw Error('Bool value can only be bound to attributes ie. hidden="{{myBool}}. Consider using filters to convert them to strings (true|false|yes|no etc)"');var a=t.node,s=t.text||e;t.text?a.setAttribute(t.text,""):a.removeAttribute("{{"+t.curly+"}}"),i(this,r,e,function e(t){return"boolean"==typeof a[s]?a[s]=!!o(t):n(a,s,!!o(t),""),e}(this[e]))}function l(e,t,o,r){var a=this,s=t.node;if(3===t.type)i(this,r,e,function e(){var n=T(t.text,a,a);return r.html?s.parentElement.innerHTML=n:s.textContent=n,e}());else if(0===t.type)i(this,r,e,function e(t,n){if(void 0!==n){var r=o(n);r&&s.classList.remove(r)}if(void 0!==t){var a=o(t);a&&s.classList.add(a)}return e}(this[e])),s.classList.remove("{{"+t.curly+"}}");else if(2===t.type||1===t.type){var l=t.text||e;i(this,r,e,function e(t){var r=o(t);return n(s,l,void 0!==r,r),e}(this[e])),t.text||s.removeAttribute("{{"+t.curly+"}}")}}function c(t,n,o){var a=t.node;return{sort:function(e){var t=y(a.children);e.forEach(function(e){return a.appendChild(t[e])})},splice:function(t,i,s,l){if(void 0===l&&(l=[]),0!==t||0!==i||0!==s.length){y(a.children).slice(t,t+i).forEach(function(e){return a.removeChild(e)});var c=o.childWidgets;if(e.arrays.removeFromArray(c,l),r.apply(void 0,l),s&&s.length){for(var u=document.createDocumentFragment(),p=0,d=s;p<d.length;p++){var h=d[p];h.parentWidget=o,h.appendTemplateRoot(u,n.templateName)}c.push.apply(c,s),g(a,u,a.children[t])}}}}}function u(e,t,n){var o=e.splice(0,e.length),r=t.node;v(e,c(t,n,this)),r.removeAttribute("{{"+t.curly+"}}"),e.push.apply(e,o)}function p(e,t,n,o,r){var a;a=void 0===t?"string":(Array.isArray(t)?"array":typeof t).toLowerCase(),/boolean/.test(a)?s.call(this,e,n,r,o):/string|number/.test(a)?l.call(this,e,n,r,o):/array/.test(a)?u.call(this,this[e],n,o):console.log("Bindings are only supported on arrays, booleans, strings and numbers")}function d(e,t,n,o){var a=this,s=[],l=this[e],c=t.node,u=function(){var e,t,r,i,u,p=l.filter(o()),d=M(p,s);if(d.remove.length&&(P(s,d.remove),d.remove.forEach(function(e){c.removeChild(e.element)})),u=d.add.length){var h=1!==u?document.createDocumentFragment():c;d.add.forEach(function(e){e.parentWidget=a,e.appendTemplateRoot(h,n.templateName)}),(y=a.childWidgets).push.apply(y,d.add),1!==u&&c.appendChild(h),s.push.apply(s,d.add)}r=s.map(function(e){return p.indexOf(e)});for(var f=0,v=(i=E(r,C(r)).sort(function(e,t){return t-e})).length;f<v;f++)e=p[i[f]],t=p[i[f]+1],c.insertBefore(e.element,t?t.element:null);s.splice.apply(s,[0,s.length].concat(p));var y};u(),v(l,{sort:u,splice:function(e,t,n,o){void 0===o&&(o=[]),r.apply(void 0,o),u()}});for(var p=0,d=n.changeOn;p<d.length;p++){var h=d[p];i(this,n,h,function(){return x(l)})}c.removeAttribute("{{"+t.curly+"}}")}function h(e,t,n){if(e){n=e.findProperty(n);var o=D(S,e)[n];o&&o.bequeath?e.attachHooks([t],!0):h(e.parentWidget,t,n)}else console.log("@Bind() "+n+" annotation missing or 'bequeath' not set?",t,n,S)}var f=e.objects.isObject,v=e.arrays.observeArray,y=e.arrays.from,g=e.dom.insertBefore,m=e.functions.getInheritedMethods,_=e.functions.isFunction,b=e.functions.compose,w=e.routing.RouteAware,x=e.arrays.notifyListeners,k=e.arrays.changeArrayListener,T=e.strings.format,C=e.arrays.lis,E=e.arrays.diff,M=e.arrays.patch,P=e.arrays.removeFromArray,D=e.objects.collectAnnotationsFromTypeMap,O=new WeakMap,S=new WeakMap,A=new WeakMap,N={},L=function(e){var t=e.id||e.name||e.title||e.constructor.name;return _(t)?t():t},W=function(e,t){var n=[t],o=e;do{n.unshift(L(o))}while(o=o.parentWidget);return n.join(".")},j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachHooks=function(e,t){var n=this;void 0===t&&(t=!1);for(var o=0,r=e;o<r.length;o++){var a=r[o],i=a.curly.split(/:/),s=this.findProperty(i.shift()),l=D(S,this)[s],c=this[s],u=void 0,v=this.findMethod.bind(this),y=b(i.map(v).map(function(e){return n[e].bind(n)}));if(void 0!==l){if(!t&&l.localStorage){try{var g=localStorage.getItem(W(this,s));g&&(u=JSON.parse(g).value)}catch(e){console.warn(e)}void 0===u||Array.isArray(u)||(this[s]=c=u)}if(f(c))console.log("Binding to objects is not supported. Use new widgets.");else if(_(c))console.log("Binding to functions is not supported. Use new filters.");else if(c=y(c),Array.isArray(this[s])&&_(c)){if(d.call(this,s,a,l,y),u){var m=D(A,this)[s];(w=this[s]).push.apply(w,u.map(this[m.read]))}}else p.call(this,s,c,a,l,y)}else h(this.parentWidget,a,s)}var w},t.prototype.findProperty=function(e){var t=N[e];return t||(t=Object.getOwnPropertyNames(this).find(function(t){return t.toLowerCase()===e.toLowerCase()})||e,N[e]=t),t},t.prototype.findMethod=function(e){var t=N[e];if(t||(t=m(this).find(function(t){return t.toLowerCase()===e.toLowerCase()})||e,N[e]=t),!this[t])throw Error("Couldn't find method '"+e+"'");return t},t}(w);t.Observable=j,t.Bind=function(e){return function(t,n){var o={templateName:"default",localStorage:!1,changeOn:[],html:!1},r=e?__assign({},o,e):__assign({},o),a=S.get(t);a?a[n]=r:S.set(t,(i={},i[n]=r,i));var i}};var F=function(e,t){var n=A.get(e);return n||A.set(e,n={}),n[t]||(n[t]={}),n[t]};t.Write=function(e){return function(t,n){F(t,e).write=n}},t.Read=function(e){return function(t,n){F(t,e).read=n}}}(e.observe||(e.observe={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.boot.WidgetFactory;t.Construct=function(e){return function(t){return n.register(e,t)}}}(e.annotations||(e.annotations={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.strings.format,o=e.objects.deepValue,r=e.functions.isFunction;t.Method={GET:"GET",POST:"POST",DELETE:"DELETE",PUT:"PUT"};var a={url:null,method:t.Method.GET,timeout:5e3,async:!0,withCredentials:!0,responseFilter:function(e){return e?JSON.parse(e):null},requestFilter:function(e){return e?JSON.stringify(e):null},headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}};t.sendRequest=function(e,t,n){var o=new XMLHttpRequest;if(e=__assign({},a,e),o.open(e.method,e.url,e.async),o.timeout=e.timeout,o.setRequestHeader)for(var r=0,i=Object.keys(e.headers);r<i.length;r++){var s=i[r];o.setRequestHeader(s,e.headers[s])}o.addEventListener("readystatechange",function(){if(4===o.readyState){var r=~~(o.status/100);2===r||3===r?t(e.responseFilter(o.responseText)):n(e.responseFilter(o.responseText),o)}});for(var l=0,c=["timeout","error","abort"];l<c.length;l++){var u=c[l];o.addEventListener(u,function(e){n(e)})}return e.progress&&o.addEventListener("progress",e.progress,!1),o.send(e.requestFilter(e.body)),o},t.Rest=function(e){return function(a,i,s){var l=s.value;s.value=function(){var a=this,i=__assign({},e,{progress:function(e){return a.triggerDown("xhr-progress",e)}});if(i.body&&(i=__assign({},i,{body:o(this,e.body)})),e.headers){var l=Object.keys(e.headers).reduce(function(t,n){var o=e.headers[n];return t[n]=r(o)?o():o,t},{});i=__assign({},i,{headers:l})}var c=__assign({},i,{url:n(e.url,this,this)});return t.sendRequest(c,s.value.original.bind(this),function(e,t){if(t&&t.status)a.triggerDown("xhr-failure-"+t.status,e,t);else{if(!e)throw new Error(""+e);var n=e.type;a.triggerDown("xhr-failure-"+n)}})},s.value.original=l}}}(e.xhr||(e.xhr={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.TemplateFactory,o=e.observe.Observable,r=e.boot.WidgetFactory,a=e.arrays.from,i=e.arrays.removeFromArray,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.bindToElement=function(e){this.element=e,this.init(e),this.attachEvents(),this.initRoutes(),this.attachMediaListeners()},t.prototype.render=function(e){void 0===e&&(e="default");var t=this.getParsed(e);this.element.appendChild(t.doc)},t.prototype.getParsed=function(e){var t=this,o=n.getTemplate(this,e);return a(o.doc.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).forEach(function(e){return r.start(e,t)}),this.attachHooks(o.hooks),o},t.prototype.init=function(e){},t.prototype.appendTemplateRoot=function(e,t){if(!t)throw Error("Bound lists must specify template name in @Bind()");if(this.element)e.appendChild(this.element);else{var n=this.getParsed(t);this.bindToElement(n.first),e.appendChild(n.first)}},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),i(r.singletonRegistry,[this])},t}(o);t.Widget=s}(e.core||(e.core={}))}(feather||(feather={}));var feather;!function(e){!function(e){!function(e){e.focusElement=function(e){var t=function(){return e.focus()};/Android/.test(navigator.appVersion)?setTimeout(function(){return t()},10):t()};var t=function(e,t){var n=null;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,r)},t)}};e.Debounce=function(e){return function(n,o,r){var a=n[o];n[o]=t(a,e)}}}(e.utils||(e.utils={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.core.Widget,o=e.dom.selectorMatches,r=e.event.addListener;/Android/.test(navigator.appVersion)&&window.addEventListener("resize",function(){var e=document.activeElement;/input|textarea/i.test(e.tagName)&&e.scrollIntoView()}),/ios/.test(navigator.userAgent)&&(document.ontouchmove=function(e){e.preventDefault()});var a=function(e){return{passive:/mouse|touch/.test(e.type),capture:!1}};t.tapDistance=10,t.addMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.addEventListener(e,n,o)})},t.removeMultipleEventListeners=function(e,t,n,o){return e.forEach(function(e){return t.removeEventListener(e,n,o)})};var i,s=["clientX","clientY","pageX","pageY"];!function(e){e[e.start=0]="start",e[e.move=1]="move",e[e.stop=2]="stop"}(i=t.PanPhase||(t.PanPhase={}));var l={touchstart:{move:["touchmove"],stop:["touchend"]},mousedown:{move:["mousemove"],stop:["mouseup"]},pointerdown:{move:["pointermove"],stop:["pointerup"]}};t.normalizePointer=function(e){return{x:e.clientX||(e.touches?e.touches[0].pageX:0),y:e.clientY||(e.touches?e.touches[0].pageY:0)}};var c=document.documentElement,u=function(e,t,n){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return s.forEach(function(e){return o[e]=t[e]}),o},p=function(e){return function(e){if(!/mouse|pointer/.test(e.type)||1===e.which){var n=a(e);n.passive&&e.preventDefault();var o=t.normalizePointer(e),r=o,i=function(e){r=t.normalizePointer(e)},s=function(a){Math.abs(r.x-o.x)<t.tapDistance&&Math.abs(r.y-o.y)<t.tapDistance&&e.target.dispatchEvent(u("tap",a)),t.removeMultipleEventListeners(l[e.type].stop,c,s,n),t.removeMultipleEventListeners(l[e.type].move,c,i,n)};t.addMultipleEventListeners(l[e.type].move,c,i,n),t.addMultipleEventListeners(l[e.type].stop,c,s,n)}}},d=function(e){return function(e){var n=a(e);if(!/mouse/.test(e.type)||1===e.which){n.passive&&e.preventDefault();var o=t.normalizePointer(e),r=Date.now(),s=document.documentElement,c=o,p=0,d=function(n,a){void 0===a&&(a=i.move);var s=+Date.now()-+r;a===i.move&&("touchmove"===n.type&&n.preventDefault(),c=t.normalizePointer(n),p=c.x-o.x),e.target.dispatchEvent(u("panX",n,{diffX:p,time:s,phase:a}))},h=function(o){d(o,i.stop),t.removeMultipleEventListeners(l[e.type].move,s,d,n),t.removeMultipleEventListeners(l[e.type].stop,s,h,n)};d(e,i.start),t.addMultipleEventListeners(l[e.type].move,s,d,n),t.addMultipleEventListeners(l[e.type].stop,s,h,n)}}},h=function(e){var t=e.value;return function(e){e.target.value!==t&&(t=e.target.value,e.target.dispatchEvent(u("textchange",e)))}},f="onpointerdown"in document.documentElement,v=/android|iphone|webos|ipad|ipod|blackberry/i.test(navigator.userAgent);t.tapEvents=f?["pointerdown"]:v?["touchstart"]:["touchstart","mousedown"];var y={tap:{events:t.tapEvents,handlerFactory:p,options:a({})},panX:{events:t.tapEvents,handlerFactory:d,options:a({})},textchange:{events:"keyup input focus blur focusin focusout cut paste change".split(" "),handlerFactory:h,options:a({})}},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.attachDelegates=function(t){var n=this;e.prototype.attachDelegates.call(this,t),Object.keys(t).forEach(function(e){var a=y[e];if(a){var i=t[e],s=n,l=n.element,c=a.handlerFactory(l);a.events.forEach(function(e){return r(l,e,function(e){var t=e.target;do{for(var n=0,r=i;n<r.length;n++){var a=r[n];if(1===t.nodeType&&(!a.selector||o(t,a.selector)))return a.preventDefault&&e.preventDefault(),a.bubble||e.stopImmediatePropagation(),c.call(s,e)}if(t===l)break}while(t=t.parentElement)})})}})},t}(n);t.GestureWidget=g}(t.events||(t.events={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.observe.Bind,a=e.annotations.Template,i=function(e){function t(t,n){var o=e.call(this)||this;return o.fontAwesomeClass=function(e){return"fa-"+e},o.alignRightClass=function(e){return e?"is-right":void 0},o.name=t,o.alignRight=void 0!==n,o}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return'<span class="icon is-small {{alignRight:alignRightClass}}"><i class="fa {{name:fontAwesomeClass}}"></i></span>'},t}(n);__decorate([r()],i.prototype,"name",void 0),__decorate([r()],i.prototype,"alignRight",void 0),__decorate([a()],i.prototype,"markup",null),i=__decorate([o({selector:"icon",attributes:["name","align-right"]})],i),t.Icon=i}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n,o=e.core.Widget,r=e.annotations.Construct,a=function(e){return"body"===e.tagName||"hidden"===getComputedStyle(e,null).getPropertyValue("overflow")?e:a(e.parentElement)};!function(e){e[e.None=0]="None",e[e.Right=2]="Right",e[e.Left=4]="Left",e[e.Bottom=8]="Bottom",e[e.Top=16]="Top"}(n||(n={}));var i,s=function(e,t,n,o){var r=(t.x-e.x)*(o.y-n.y)-(t.y-e.y)*(o.x-n.x);if(0===r)return!1;var a=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),i=a/r,s=(a=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/r;return!(i<0||i>1||s<0||s>1)},l=function(e,t){var o=0;return(s({x:e.left,y:e.top},{x:e.right,y:e.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom})||s({x:e.left,y:e.bottom},{x:e.right,y:e.bottom},{x:t.right,y:t.top},{x:t.right,y:t.bottom}))&&(o|=n.Right),(s({x:e.left,y:e.top},{x:e.right,y:e.top},{x:t.left,y:t.top},{x:t.left,y:t.bottom})||s({x:e.left,y:e.bottom},{x:e.right,y:e.bottom},{x:t.left,y:t.top},{x:t.left,y:t.bottom}))&&(o|=n.Left),(s({x:e.left,y:e.top},{x:e.left,y:e.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top})||s({x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top}))&&(o|=n.Top),(s({x:e.left,y:e.top},{x:e.left,y:e.bottom},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom})||s({x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}))&&(o|=n.Bottom),o},c=function(e,t,n){var o="transform: translate("+t+"px, "+n+"px)";e.setAttribute("style",o)};"MutationObserver"in window&&(i=new MutationObserver(function(e){e.forEach(function(e){var t=e.target;if("hidden"===e.attributeName)if(t.hasAttribute(e.attributeName))t.removeAttribute("style");else{var o=a(t.parentElement),r=t.getBoundingClientRect(),i=o.getBoundingClientRect(),s=l(r,i);s&n.Right&&c(t,i.right-r.right,0),s&n.Left&&c(t,i.left-r.left,0),s&n.Top&&c(t,0,i.top-r.top),s&n.Bottom&&c(t,0,i.bottom-r.bottom)}})}));var u={attributes:!0,childList:!1,characterData:!1},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){i&&setTimeout(function(){return i.observe(e,u)},1)},t}(o);p=__decorate([r({selector:".open-in-view"})],p),t.OpenInView=p}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n,o=e.ui.events.GestureWidget,r=e.annotations.Template,a=e.observe.Bind,i=e.event.On,s=e.event.Scope,l=e.hub.Subscribe,c=e.dom.selectorMatches;!function(e){e[e.file="fa-file-o"]="file",e[e.text="fa-font"]="text",e[e.object="fa-sitemap"]="object",e[e.date="fa-calendar"]="date",e[e.number="fa-table"]="number",e[e.enum="fa-ellipsis"]="enum",e[e.html="fa-code"]="html",e[e.config="fa-gear"]="config",e[e.boolean="fa-toggle-on"]="boolean",e[e.array="fa-database"]="array",e[e.folderOpen="fa-folder-open-o"]="folderOpen",e[e.folderClosed="fa-folder-o"]="folderClosed"}(n=t.TreeNodeIcon||(t.TreeNodeIcon={}));var u=function(e){function t(t,o,r){void 0===r&&(r=n.file);var a=e.call(this)||this;return a.children=[],a.selected=!1,a.open=!1,a.editing=!1,a.id=function(){return a.text},a.iconClass=function(e){return 0===a.children.length?a.icon:e?n.folderOpen:n.folderClosed},a.openClass=function(e){return 0===a.children.length?"":e?"open":void 0},a.hasChildrenClass=function(e){return e.length>0?"fa-caret-right":void 0},a.openIconClass=function(e){return e?"down":""},a.selectedClass=function(e){return e?"selected":void 0},a.icon=r,a.text=t,a.value=o,a}return __extends(t,e),t.prototype.openNode=function(e,t){e.stopImmediatePropagation(),this.open=!this.open,this.open?this.triggerUp("node-opened",this.value):this.triggerUp("node-closed",this.value)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(n=this.children).push.apply(n,e);var n},t.prototype.selectNode=function(e,t){c(e.target,"i")||(e.stopImmediatePropagation(),this.selected?(this.selected=!1,this.triggerUp("node-defocused",this)):(this.selected=!0,this.triggerUp("node-focused",this)))},t.prototype.settingsClicked=function(e,t){e.stopImmediatePropagation(),this.triggerUp("node-settings",this)},t.prototype.deselect=function(e){e!==this&&(this.selected&&(this.selected=!1),this.editing&&(this.editing=!1))},t.prototype.startEditing=function(e,t){if(!c(e.target,"i")){var n=this.element.querySelector("input");n.value=this.text,e.stopImmediatePropagation(),this.triggerUp("node-focused",this),this.editing=!0,this.selected=!0,n.focus()}},t.prototype.stopEditing=function(e){this.editing&&(13===e.keyCode?(this.text=e.target.value,this.editing=!1,this.triggerUp("node-edited",this)):27===e.keyCode&&(this.editing=!1))},t.prototype.cancelEditing=function(e){this.editing&&(this.editing=!1)},t.prototype.markup=function(){return'<li class="tree-node">\n              <div class="{{selected:selectedClass}} {{open:openClass}} clickable" {{editing}}>\n                <i class="icon fa node-handle {{children:hasChildrenClass}} {{open:openIconClass}}"></i>\n                <i class="icon fa node-icon {{open:iconClass}}"></i>\n                <span class="node-text">{{text}}</span>\n                <input class="node-editor">\n              </div>\n              <ul {{children}}></ul>\n            </li>'},t}(o);__decorate([a()],u.prototype,"children",void 0),__decorate([a()],u.prototype,"selected",void 0),__decorate([a({localStorage:!0})],u.prototype,"open",void 0),__decorate([a()],u.prototype,"icon",void 0),__decorate([a()],u.prototype,"text",void 0),__decorate([a()],u.prototype,"editing",void 0),__decorate([i({event:"tap",selector:".node-handle"})],u.prototype,"openNode",null),__decorate([i({event:"tap",selector:".clickable"})],u.prototype,"selectNode",null),__decorate([i({event:"tap",selector:".node-settings"})],u.prototype,"settingsClicked",null),__decorate([l("defocus-other-nodes")],u.prototype,"deselect",null),__decorate([i({event:"dblclick",selector:".clickable"})],u.prototype,"startEditing",null),__decorate([i({event:"keydown",selector:"input",scope:s.Direct})],u.prototype,"stopEditing",null),__decorate([i({event:"blur",selector:"input",scope:s.Direct})],u.prototype,"cancelEditing",null),__decorate([r()],u.prototype,"markup",null),t.TreeNode=u}(t.tree||(t.tree={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,a=e.ui.events.removeMultipleEventListeners,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.tapEvents,l=function(e){function t(){var t=e.call(this)||this;return t.closeHandler=t.closeHandler.bind(t),t}return __extends(t,e),t.prototype.clicked=function(){this.toggle.hasAttribute("hidden")?this.open():this.close()},t.prototype.close=function(){this.toggle.setAttribute("hidden",""),this.element.removeAttribute("open"),a(s,document,this.closeHandler)},t.prototype.open=function(){this.toggle.removeAttribute("hidden"),this.element.setAttribute("open",""),i(s,document,this.closeHandler)},t.prototype.init=function(e){this.toggle=e.querySelector(".toggle"),this.toggle.setAttribute("hidden","")},t.prototype.closeHandler=function(e){this.toggle.hasAttribute("hidden")||this.toggle.contains(e.target)||this.close()},t}(n);__decorate([r({event:"tap",selector:".button"})],l.prototype,"clicked",null),l=__decorate([o({selector:".toggler"})],l),t.Toggler=l}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.core.Widget,o=e.annotations.Template,r=e.observe.Bind,a=function(e){function t(t){var n=e.call(this)||this;return n.message=t,n}return __extends(t,e),t.prototype.messageItemMarkup=function(){return'<li>\n                  <span class="icon is-small">\n                    <i class="fa fa-caret-right"></i>\n                  </span>\n                  <span>{{message}}</span>\n                </li>'},t}(n);__decorate([r()],a.prototype,"message",void 0),__decorate([o()],a.prototype,"messageItemMarkup",null),t.ToastItem=a}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On;!function(e){e[e.Info="info"]="Info",e[e.Error="error"]="Error",e[e.Warning="warning"]="Warning"}(t.Theme||(t.Theme={}));var i=function(e){function n(n,o,r,a,i){var s=e.call(this)||this;return s.message="",s.messages=[],s.added=!1,Array.isArray(o)?(l=s.messages).push.apply(l,o.map(function(e){return new t.ToastItem(e)})):s.message=o,s.title=n,s.action=i,s.actionName=a,s.theme=r,s;var l}return __extends(n,e),n.prototype.actionClicked=function(){this.action()},n.prototype.animationEnded=function(){t.ToastManager.removeToast(this)},n.prototype.deleteClicked=function(){t.ToastManager.removeToast(this)},n.prototype.toastMarkup=function(){return'<li {{added}} class="{{theme}}">\n              <h4 class="message-header"><p>{{title}}</p><button class="delete is-small"></button></h4>\n              <div class="toast-message">\n                <p>{{message}}</p>\n                <ul {{messages}}></ul>\n                '+(this.actionName?'<span class="action-link clickable">{{actionName}}</span>':"")+"\n              </div>\n            </li>"},n}(n);__decorate([r()],i.prototype,"message",void 0),__decorate([r()],i.prototype,"messages",void 0),__decorate([r()],i.prototype,"title",void 0),__decorate([r()],i.prototype,"actionName",void 0),__decorate([r()],i.prototype,"theme",void 0),__decorate([r()],i.prototype,"added",void 0),__decorate([a({event:"tap",selector:".action-link"})],i.prototype,"actionClicked",null),__decorate([a({event:"animationend"})],i.prototype,"animationEnded",null),__decorate([a({event:"tap",selector:".delete"})],i.prototype,"deleteClicked",null),__decorate([o()],i.prototype,"toastMarkup",null),t.Toast=i}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.annotations.Template,a=e.observe.Bind,i=e.arrays.removeFromArray,s=l=function(e){function t(){var t=e.call(this)||this;return t.toasts=[],l.instance=t,t}return __extends(t,e),t.prototype.init=function(){this.render()},t.showToast=function(e){var t=l.instance.toasts.filter(function(t){return t.title===e.title});i(l.instance.toasts,t),l.instance.toasts.push(e),setTimeout(function(){return e.added=!0},10)},t.removeToast=function(e){var t=l.instance.toasts.indexOf(e);~t&&l.instance.toasts.splice(t,1)},t.prototype.datePickerMarkup=function(){return'<ul class="toasts" {{toasts}}></ul>'},t}(n);__decorate([a()],s.prototype,"toasts",void 0),__decorate([r()],s.prototype,"datePickerMarkup",null),s=l=__decorate([o({selector:".toast-manager"})],s),t.ToastManager=s;var l}(t.toast||(t.toast={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(t){var n=e.call(this)||this;return n.active=!1,n.activeClass=function(e){return e?"is-active":void 0},n.iconClass=function(e){return"fa-"+e},n.text=t.getAttribute("title"),n.icon=t.getAttribute("icon"),n.el=t,n.setActive(t.hasAttribute("active")),n}return __extends(t,e),t.prototype.setActive=function(e){this.active=e,e?this.el.removeAttribute("hidden"):this.el.setAttribute("hidden","")},t.prototype.clicked=function(){this.triggerUp("activate-tab",this)},t.prototype.deactivate=function(e){this.setActive(e===this)},t.prototype.markup=function(){return'\n            <li class="{{active:activeClass}}">\n              <a>\n                <span class="icon is-small"><i class="fa {{icon:iconClass}}"></i></span>\n                <span>{{text}}</span>\n              </a>\n            </li>\n            '},t}(n);__decorate([r()],s.prototype,"active",void 0),__decorate([r()],s.prototype,"text",void 0),__decorate([r()],s.prototype,"icon",void 0),__decorate([a({event:"tap"})],s.prototype,"clicked",null),__decorate([i("tabs-activate")],s.prototype,"deactivate",null),__decorate([o()],s.prototype,"markup",null),t.Tab=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.observe.Bind,a=e.arrays.from,i=e.annotations.Template,s=e.hub.Subscribe,l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabs=[],t}return __extends(n,e),n.prototype.init=function(e){(n=this.tabs).push.apply(n,a(e.children).map(function(e){return new t.Tab(e)})),this.render(),this.element.insertBefore(this.element.lastElementChild,this.element.firstElementChild);var n},n.prototype.deactivate=function(e){this.triggerDown("tabs-activate",e)},n.prototype.markup=function(){return'\n              <div class="tabs is-center">\n                  <ul {{tabs}}></ul>\n              </div>\n            '},n}(n);__decorate([r()],l.prototype,"tabs",void 0),__decorate([s("activate-tab")],l.prototype,"deactivate",null),__decorate([i()],l.prototype,"markup",null),l=__decorate([o({selector:"tabs"})],l),t.Tabs=l}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n,o=e.ui.events.GestureWidget,r=e.annotations.Construct,a=e.event.On,i=e.hub.Subscribe,s=e.ui.events.tapDistance,l=e.ui.events.PanPhase;!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next",e[e.None=2]="None"}(n=t.Direction||(t.Direction={}));var c=function(e){function t(t){var n=e.call(this)||this;return n.width=+t,n}return __extends(t,e),t.prototype.onPan=function(e){var t=this.element;if(!t.classList.contains("animate")){var o=__assign({},e.detail),r=o.diffX,a=o.time;switch(o.phase){case l.start:this.direction=n.None,this.transitionEnd();break;case l.move:t.style.transform="translateX("+r+"px)";break;case l.stop:Math.abs(r)>s&&(t.classList.add("animate"),a<200?this.navigate(r):this.width-Math.abs(r)<.5*this.width?this.navigate(r):t.style.transform="translateX(0)")}}},t.prototype.navigate=function(e){var t=this.element;e>0?(this.direction=n.Previous,t.style.transform="translateX("+this.width+"px)"):(this.direction=n.Next,t.style.transform="translateX("+-this.width+"px)")},t.prototype.transitionEnd=function(){this.element.classList.remove("animate"),this.direction!==n.None&&this.triggerUp("snap-scroll-moved",this.direction)},t.prototype.snapScrollReset=function(){this.element.style.transform="translateX(0)"},t.prototype.snapScrollPrevious=function(){this.element.classList.add("animate"),this.navigate(1)},t.prototype.snapScrollNext=function(){this.element.classList.add("animate"),this.navigate(-1)},t}(o);__decorate([a({event:"panX",selector:".snap-scroll"})],c.prototype,"onPan",null),__decorate([a({event:"transitionend"})],c.prototype,"transitionEnd",null),__decorate([i("snap-scroll-reset")],c.prototype,"snapScrollReset",null),__decorate([i("snap-scroll-previous")],c.prototype,"snapScrollPrevious",null),__decorate([i("snap-scroll-next")],c.prototype,"snapScrollNext",null),c=__decorate([r({selector:".snap-scroll",attributes:["width"]})],c),t.SnapScroll=c}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Construct,r=e.event.On,a=e.ui.events.PanPhase,i=e.ui.events.addMultipleEventListeners,s=e.ui.events.removeMultipleEventListeners,l=e.ui.events.tapEvents,c=e.observe.Bind,u=e.annotations.Template,p=function(e){function t(){var t=e.call(this)||this;return t.width=200,t.draggingClass=function(e){return e?"dragging":void 0},t.closeHandler=t.closeHandler.bind(t),t}return __extends(t,e),t.prototype.init=function(e){this.render(),e.firstElementChild.insertAdjacentElement("afterend",e.querySelector(".dragger")),this.applyWidth(this.width)},t.prototype.clicked=function(e,t){var n=this.element.firstElementChild;if(e.target===n){var o=n.classList;o.toggle("open"),o.contains("open")?i(l,document,this.closeHandler):s(l,document,this.closeHandler)}},t.prototype.closeHandler=function(e){var t=this.element.firstElementChild;e.target===t||t.contains(e.target)||(t.classList.remove("open"),s(l,document,this.closeHandler))},t.prototype.onPanX=function(e){switch(__assign({},e.detail).phase){case a.start:this.dragging=!0;break;case a.move:this.applyWidth(this.width=e.clientX);break;case a.stop:this.dragging=!1}},t.prototype.applyWidth=function(e){this.element.firstElementChild.style.width=this.width+"px"},t.prototype.markup=function(){return'<div class="dragger {{dragging:draggingClass}}" width="{{width}}"></div>'},t}(n);__decorate([c()],p.prototype,"dragging",void 0),__decorate([c({localStorage:!0})],p.prototype,"width",void 0),__decorate([r({event:l.join(" "),selector:"sidebar"})],p.prototype,"clicked",null),__decorate([r({event:"panX",selector:".dragger"})],p.prototype,"onPanX",null),__decorate([u()],p.prototype,"markup",null),p=__decorate([o({selector:"horizontal-split"})],p),t.HorizontalSplit=p}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=e.arrays.from,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(e){var t=document.createElement("div");t.classList.add("inner-scroll-pane"),r(e.childNodes).forEach(function(e){return t.appendChild(e)}),e.appendChild(t)},t}(n);a=__decorate([o({selector:"scroll-pane"})],a),t.ScrollPane=a}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(n);r=__decorate([o({selector:"panel"})],r),t.Panel=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.core.Widget,o=e.annotations.Construct,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(n);r=__decorate([o({selector:"sidebar"})],r),t.Sidebar=r}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(e){!function(e){var t={months:"JanuaryFebruaryMarchAprilMayJuneJuliAugustSeptemberOctoberNovemberDecember".split(/(?=[A-Z])/),weekdays:"SundayMondayTuesdayWednesdayThursdayFridaySaturday".split(/(?=[A-Z])/)},n=function(e,t){return e.indexOf(e.filter(function(e){return~e.indexOf(t)})[0])},o=["th","st","nd","rd"],r=function(e,t){return(e+t).slice(-e.length)},a={D:["Date"],M:["Month","addOne"],Y:["FullYear"],YY:["FullYear","year",-2],MMM:["Month","month",3],MMMM:["Month","month"],h:["Hours","hours"],H:["Hours"],m:["Minutes"],s:["Seconds"],S:["Milliseconds"],w:["Day"],d:["Date","marker"],a:["Hours","ampm"],www:["Day","days",3],wwww:["Day","days"],t:["Time"]};"DMhHmsw".split("").forEach(function(e){return a[e+e]=[a[e][0],a[e][1],a[e][2],"00"]});var i=/[A-Za-z]+/g,s=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,l=function(){function e(e,t){var r=this;this.month=function(e){return r.months[e]},this.monthRev=function(e){return n(r.months,e)},this.year=function(e){return e},this.yearRev=function(e){return+e+2e3},this.addOne=function(e){return e+1},this.addOneRev=function(e){return e-1},this.days=function(e){return r.weekdays[e]},this.daysRev=function(e){return n(r.weekdays,e)},this.ampm=function(e){return e/12|0?"PM":"AM"},this.ampmRev=function(e,t,n){return t.getHours()+("PM"===e?12:0)},this.hours=function(e){return e%12},this.marker=function(e){return e+o[e%10>3?0:(e%100-e%10==10?0:1)*e%10]},this.markerRev=function(e){return+e},this.months=e,this.weekdays=t}return e.prototype.format=function(e,t){var n=this,o=function(t,o,a,i){var s=e["get"+t]();return o&&(s=o.split(".").reduce(function(e,t){return e[t]},n)(s)),s+="",i&&(s=r(i,s)),a&&(s=a<0?s.slice(a):s.substr(0,a)),s};return t.replace(i,function(e){return a[e]?o.apply(n,a[e]):e})},e.prototype.parse=function(e,t){var n,o,r,i=this,l=new Date,c=[],u=t.replace(s,"\\$&").replace(/[A-Za-z]+/g,function(e){return(n=a[e])?(o="set"+n[0],l[o]?(c.push(n),"(#)"):"#"):e}),p=new RegExp("^"+u.replace(new RegExp("#","g"),"\\w+")+"$"),d=p.exec(e);if(!d)throw Error("Date parsing failed for "+p);return d.forEach(function(e,t){0!==t&&(o=c[t-1],r=i[o[1]+"Rev"],l["set"+o[0]](r?r(e,l):e))}),l},e}();e.DateFormat=l,e.format=function(e,n){return new l(t.months,t.weekdays).format(e,n)},e.parse=function(e,n){return new l(t.months,t.weekdays).parse(e,n)},e.dayOffset=function(e,t){return new Date(+e+24*t*60*60*1e3)},e.monthOffset=function(e,t){var n=new Date(+e);return n.setMonth(n.getMonth()+t),n},e.yearOffset=function(e,t){var n=new Date(+e);return n.setFullYear(n.getFullYear()+t),n};!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(e.Weekday||(e.Weekday={})),e.precedingDay=function(e,t){var n=new Date(+e);return n.setDate(n.getDate()-(e.getDay()+(7-t))%7),n}}(e.date||(e.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.ui.date.format,i=e.event.On,s=function(e){function t(t){var n=e.call(this)||this;return n.asLongMonth=function(){return a(n.date,"MMM")},n.asYear=function(){return a(n.date,"Y")},n.date=t,n}return __extends(t,e),t.prototype.renderMonth=function(){return'<li class="month-of-year">{{date:asLongMonth}}</li>'},t.prototype.renderYear=function(){return'<li class="year">{{date:asYear}}</li>'},t.prototype.clickedMonth=function(){this.triggerUp("go-to-date",this.date)},t}(n);__decorate([r()],s.prototype,"date",void 0),__decorate([o("month")],s.prototype,"renderMonth",null),__decorate([o("year")],s.prototype,"renderYear",null),__decorate([i({event:"tap"})],s.prototype,"clickedMonth",null),t.MonthOrYear=s}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n=e.ui.events.GestureWidget,o=e.annotations.Template,r=e.observe.Bind,a=e.ui.date.format,i=e.event.On,s=function(e){function t(t,n){var o=e.call(this)||this;return o.offMonth=function(e){return e.getMonth()!==o.month?"off":void 0},o.asNumber=function(){return o.date.getDate()},o.asWeekday=function(){return a(o.date,"www").slice(0,2)},o.today=function(e,t){return void 0===t&&(t=new Date),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?"today":void 0},o.date=t,o.month=n,o}return __extends(t,e),t.prototype.weekdayMarkup=function(){return'<li class="column weekday">{{date:asWeekday}}</li>'},t.prototype.dateMarkup=function(){return'<li class="{{date:offMonth}} {{date:today}}">{{date:asNumber}}</li>'},t.prototype.clickedDay=function(){this.element.classList.contains("weekday")||this.triggerUp("select-to-date",this.date)},t}(n);__decorate([r()],s.prototype,"date",void 0),__decorate([o("weekday")],s.prototype,"weekdayMarkup",null),__decorate([o("date")],s.prototype,"dateMarkup",null),__decorate([i({event:"tap",bubble:!0})],s.prototype,"clickedDay",null),t.Day=s}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(t){var n,o=e.core.Widget,r=e.annotations.Template,a=e.observe.Bind,i=e.arrays.range,s=e.ui.date.Day;!function(e){e[e.Previous=0]="Previous",e[e.Normal=1]="Normal",e[e.Next=2]="Next"}(n=t.Position||(t.Position={}));var l=function(e){function o(t,o){var r=e.call(this)||this;return r.dates=[],r.positionClass=function(e){return n[e].toLowerCase()},r.startDate=t,r.position=o,r}return __extends(o,e),o.prototype.init=function(e){var n=this,o=t.precedingDay(this.startDate,t.Weekday.Monday),r=i(0,41).map(function(e){return new s(t.dayOffset(o,e),n.startDate.getMonth())});(a=this.dates).push.apply(a,r);var a},o.prototype.monthMarkup=function(){return'<ul class="month is-marginless {{position:positionClass}}" {{dates}}></ul>'},o}(o);__decorate([a({templateName:"date"})],l.prototype,"dates",void 0),__decorate([a()],l.prototype,"position",void 0),__decorate([r()],l.prototype,"monthMarkup",null),t.Month=l}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){!function(n){var o=e.ui.events.GestureWidget,r=e.annotations.Construct,a=e.annotations.Template,i=e.observe.Bind,s=e.ui.date.precedingDay,l=e.ui.date.Weekday,c=e.ui.date.Position,u=e.ui.date.Day,p=e.hub.Subscribe,d=e.event.On,h=e.ui.events.addMultipleEventListeners,f=e.ui.events.removeMultipleEventListeners,v=e.ui.events.tapEvents,y=e.arrays.range,g=function(e){function o(t,o,r,a){var i=e.call(this)||this;return i.startDate=new Date,i.weekdays=[],i.months=[],i.monthsOfYear=[],i.years=[],i.showMonthsOfYear=!1,i.showYears=!1,i.hidden=!0,i.value="",i.dateformat="mm/dd/yyyy",i.month=function(e){return n.format(e,"MMMM")},i.year=function(e){return n.format(e,"Y")},i.openOrClosed=function(e){return e?"open":void 0},i.name=t,i.label=o,i.startDate=r,i.currentDate=r,i.dateformat=a,i.closeHandler=i.closeHandler.bind(i),i}return __extends(o,e),o.prototype.init=function(e){this.render();var t=new Date(+this.startDate);t.setDate(1);var o=new Date(+this.startDate);o.setDate(1),o.setMonth(0);var r=s(t,l.Monday),a=y(0,6).map(function(e){return new u(n.dayOffset(r,e),t.getMonth())});(i=this.weekdays).push.apply(i,a),this.months.push(new n.Month(n.monthOffset(t,-1),c.Previous),new n.Month(n.monthOffset(t,0),c.Normal),new n.Month(n.monthOffset(t,1),c.Next)),this.setCurrentMonthAndYear();var i},o.prototype.setCurrentMonthAndYear=function(){this.currentDate=new Date(+this.months[1].startDate),this.makeMonthAndYearPanel()},o.prototype.previousMonth=function(){this.triggerDown("snap-scroll-previous"),this.showMonthsOfYear=!1,this.showYears=!1},o.prototype.nextMonth=function(){this.triggerDown("snap-scroll-next"),this.showMonthsOfYear=!1,this.showYears=!1},o.prototype.monthClicked=function(){this.showMonthsOfYear=!this.showMonthsOfYear,this.showYears=!1},o.prototype.yearClicked=function(){this.showYears=!this.showYears,this.showMonthsOfYear=!1},o.prototype.iconClicked=function(){var e=this;this.hidden=!this.hidden,this.hidden?(f(v,document,this.closeHandler),this.closeInnerPanels()):setTimeout(function(){return h(v,document,e.closeHandler)},10)},o.prototype.selectDate=function(e){this.value=n.format(e,"DD.MM.Y"),this.hidden=!0,f(v,document,this.closeHandler)},o.prototype.goToDate=function(e){var t=new n.Month(n.monthOffset(e,-1),c.Previous),o=new n.Month(n.monthOffset(e,0),c.Normal),r=new n.Month(n.monthOffset(e,1),c.Next);this.months.splice(0,3,t,o,r),this.setCurrentMonthAndYear(),this.closeInnerPanels()},o.prototype.closeInnerPanels=function(){this.showYears=!1,this.showMonthsOfYear=!1},o.prototype.panelSwitched=function(e){var o=this.months;if(e===t.Direction.Previous){var r=new n.Month(n.monthOffset(o[0].startDate,-1),c.Previous);o[0].position=c.Normal,o[1].position=c.Next,o.unshift(r),o.pop()}else{var a=new n.Month(n.monthOffset(o[2].startDate,1),c.Next);o[1].position=c.Previous,o[2].position=c.Normal,o.push(a),o.shift()}this.setCurrentMonthAndYear(),this.triggerDown("snap-scroll-reset")},o.prototype.makeMonthAndYearPanel=function(){var e=this.currentDate,t=y(0,11).map(function(t){return new n.MonthOrYear(n.monthOffset(e,-e.getMonth()+t))}),o=y(-4,7).map(function(t){return new n.MonthOrYear(n.yearOffset(e,t))});(r=this.monthsOfYear).splice.apply(r,[0,12].concat(t)),(a=this.years).splice.apply(a,[0,12].concat(o));var r,a},o.prototype.closeHandler=function(e){var t=this.element,n=e.target;this.hidden||t.querySelector(".open-in-view").contains(n)||t.querySelector(".icon").contains(n)||(this.hidden=!0,this.closeInnerPanels())},o.prototype.datePickerMarkup=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <p class="control has-icons-right">\n                  <input class="input" type="text" name="{{name}}" value="{{value}}" placeholder="{{dateformat}}">\n                  <span class="icon is-small is-right"><i class="fa fa-calendar"></i></span>\n                </p>\n                <div class="calendar open-in-view" {{hidden}}>\n                    <nav class="nav">\n                      <span class="nav-left clickable is-small is-left"><i class="fa fa-angle-left"></i></span>\n                      <span class="nav-center is-marginless">\n                        <span class="month clickable">{{currentDate:month}}<i class="fa fa-angle-down"></i></span>\n                        <span class="year clickable">{{currentDate:year}}<i class="fa fa-angle-down"></i></span>\n                      </span>\n                      <span class="nav-right clickable is-small is-right"><i class="fa fa-angle-right"></i></span>\n                    </nav>\n                    <ul class="columns weekday is-mobile is-desktop is-gapless is-marginless" {{weekdays}}></ul>\n                    <div class="months is-gapless snap-scroll" width="200" {{months}}></div>\n                    <div class="month-selector is-marginless is-gapless {{showMonthsOfYear:openOrClosed}}" {{monthsOfYear}}></div>\n                    <div class="year-selector is-marginless is-gapless {{showYears:openOrClosed}}" {{years}}></div>\n                </div>\n            </div>\n            '},o}(o);__decorate([i()],g.prototype,"name",void 0),__decorate([i()],g.prototype,"label",void 0),__decorate([i({templateName:"weekday"})],g.prototype,"weekdays",void 0),__decorate([i()],g.prototype,"months",void 0),__decorate([i()],g.prototype,"currentDate",void 0),__decorate([i({templateName:"month"})],g.prototype,"monthsOfYear",void 0),__decorate([i({templateName:"year"})],g.prototype,"years",void 0),__decorate([i()],g.prototype,"showMonthsOfYear",void 0),__decorate([i()],g.prototype,"showYears",void 0),__decorate([i()],g.prototype,"hidden",void 0),__decorate([i()],g.prototype,"value",void 0),__decorate([i()],g.prototype,"dateformat",void 0),__decorate([d({event:"tap",selector:".nav-left"})],g.prototype,"previousMonth",null),__decorate([d({event:"tap",selector:".nav-right"})],g.prototype,"nextMonth",null),__decorate([d({event:"tap",selector:".nav-center .month"})],g.prototype,"monthClicked",null),__decorate([d({event:"tap",selector:".nav-center .year"})],g.prototype,"yearClicked",null),__decorate([d({event:"tap",selector:"input + .icon",bubble:!0})],g.prototype,"iconClicked",null),__decorate([p("select-to-date")],g.prototype,"selectDate",null),__decorate([p("go-to-date")],g.prototype,"goToDate",null),__decorate([p("snap-scroll-moved")],g.prototype,"panelSwitched",null),__decorate([a()],g.prototype,"datePickerMarkup",null),g=__decorate([r({selector:"datepicker",attributes:["name","label","date","format"]})],g),n.DatePicker=g}(t.date||(t.date={}))}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.core.Widget,i=e.hub.Subscribe,s=function(e){function t(t,n,o,r,a,i,s){var l=e.call(this)||this;return l.iconClass=function(e){return"fa-"+e},l.errorClass=function(e){return e?"is-warning":void 0},l.label=t,l.placeholder=o||"",l.value=r||"",l.type=i||"text",l.autofocus=null!==s,l.icon=a,l.name=n,l.error=!1,l}return __extends(t,e),t.prototype.init=function(){this.icon?this.render("with-icon"):this.render("without-icon")},t.prototype.fieldError=function(e){this.name===e&&(this.error=!0)},t.prototype.fieldErrorCleared=function(){this.error=!1},t.prototype.withIcon=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <p class="control has-icons-left">\n                  <input type="{{type}}" class="input {{error:errorClass}}" value="{{value}}" placeholder="{{placeholder}}" {{autofocus}}>\n                  <span class="icon is-small is-left">\n                    <i class="fa {{icon:iconClass}}"></i>\n                  </span>\n                </p>\n            </div>'},t.prototype.withoutIcon=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <p class="control">\n                  <input type="{{type}}" class="input" value="{{value}}" placeholder="{{placeholder}}" {{autofocus}}>\n                </p>\n            </div>'},t}(a);__decorate([o()],s.prototype,"label",void 0),__decorate([o()],s.prototype,"name",void 0),__decorate([o()],s.prototype,"placeholder",void 0),__decorate([o()],s.prototype,"value",void 0),__decorate([o()],s.prototype,"type",void 0),__decorate([o()],s.prototype,"icon",void 0),__decorate([o()],s.prototype,"autofocus",void 0),__decorate([o()],s.prototype,"error",void 0),__decorate([i("field-error")],s.prototype,"fieldError",null),__decorate([i("field-error-clear")],s.prototype,"fieldErrorCleared",null),__decorate([r("with-icon")],s.prototype,"withIcon",null),__decorate([r("without-icon")],s.prototype,"withoutIcon",null),s=__decorate([n({selector:"text",attributes:["label","name","placeholder","value","icon","type","autofocus"]})],s),t.Text=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=function(e){function t(t,n,o,r){var a=e.call(this)||this;return a.asLabel=function(e){return e?a.on:a.off},a.label=t,a.checked=n||!1,a.on=o||"Enabled",a.off=r||"Disabled",a}return __extends(t,e),t.prototype.clicked=function(){this.checked=this.element.querySelector("input").checked},t.prototype.init=function(){this.render()},t.prototype.asCheckbox=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <label>\n                  <input type="checkbox" {{checked}}>\n                  <span class="clickable">{{checked:asLabel}}</span>\n                </label>\n            </div>'},t}(a);__decorate([o()],s.prototype,"checked",void 0),__decorate([o()],s.prototype,"label",void 0),__decorate([o()],s.prototype,"on",void 0),__decorate([o()],s.prototype,"off",void 0),__decorate([i({event:"click",selector:"label + label"})],s.prototype,"clicked",null),__decorate([r()],s.prototype,"asCheckbox",null),s=__decorate([n({selector:"checkbox",attributes:["label","checked","on","off"]})],s),t.Checkbox=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.hub.Subscribe,l=e.ui.utils.focusElement,c=["fontSize","fontFamily","fontWeight","letterSpacing","textTransform"],u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value="",t}return __extends(t,e),t.prototype.onTextChange=function(){this.value=this.input.value,this.input.style.width=this.span.getBoundingClientRect().width+5+"px"},t.prototype.init=function(e){var t=this;this.render(),this.input=e.querySelector("input"),this.span=e.querySelector("span"),setTimeout(function(){var e=window.getComputedStyle(t.input);c.forEach(function(n){return t.span.style[n]=e[n]})},50)},t.prototype.clear=function(e){this.value=this.input.value="",e&&l(this.input)},t.prototype.markup=function(){return'\n                <span>{{value}}</span>\n                <input type="text">'},t}(a);__decorate([o({})],u.prototype,"value",void 0),__decorate([i({event:"textchange",selector:"input"})],u.prototype,"onTextChange",null),__decorate([s("autogrow-clear")],u.prototype,"clear",null),__decorate([r()],u.prototype,"markup",null),u=__decorate([n({selector:"auto-grow-input"})],u),t.AutoGrowInput=u}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.observe.Bind,o=e.annotations.Template,r=e.ui.events.GestureWidget,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(t,n,o){var r=e.call(this)||this;return r.selected=!1,r.selectedClass=function(e){return e?"selected":void 0},r.iconClass=function(e){return"fa-"+e},r.name=t,r.icon=n,r.value=o,r}return __extends(t,e),t.from=function(e){return new t(e.name,e.icon,e.value)},t.prototype.init=function(e){this.selectable=e.classList.contains("selectable")},t.prototype.selectedValue=function(){this.triggerUp("value-selected",this),this.selected=!0},t.prototype.clickedValue=function(){this.triggerUp("value-clicked",this),this.selected=!this.selected},t.prototype.deselect=function(e){this.selectable&&this!==e&&(this.selected=!1)},t.prototype.select=function(e){this.selectable&&this===e&&(this.selected=!0)},t.prototype.asValue=function(){return'<li class="clickable {{selected:selectedClass}}"><div><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t.prototype.asDropwdownValue=function(){return'<li class="clickable"><div><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t.prototype.asSelectedValue=function(){return'<li class="selectable {{selected:selectedClass}}"><div><span class="icon fa {{icon:iconClass}}"></span><span>{{name}}</span></div></li>'},t}(r);__decorate([n()],s.prototype,"name",void 0),__decorate([n()],s.prototype,"selected",void 0),__decorate([n()],s.prototype,"icon",void 0),__decorate([a({event:"tap",selector:".selectable"})],s.prototype,"selectedValue",null),__decorate([a({event:"tap",selector:".clickable"})],s.prototype,"clickedValue",null),__decorate([i("deselect-other-values")],s.prototype,"deselect",null),__decorate([i("select-value")],s.prototype,"select",null),__decorate([o("value")],s.prototype,"asValue",null),__decorate([o("dropdown-value")],s.prototype,"asDropwdownValue",null),__decorate([o("selectable-value")],s.prototype,"asSelectedValue",null),t.ChooserValue=s}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.ui.events.addMultipleEventListeners,l=e.ui.events.removeMultipleEventListeners,c=e.ui.events.tapEvents,u=e.hub.Subscribe,p=function(e){function n(n,o){var r=e.call(this)||this;return r.selectedValues=[],r.hidden=!0,r.values=[],r.selectedIndex=-1,r.label=n,r.converter=o.dataConverter,r.selectedValues.push(o.initialValue||t.ChooserValue.from(o.values[0])),o.value=function(){return r.selectedValues[0].value},r.closeHandler=r.closeHandler.bind(r),r.keyHandler=r.keyHandler.bind(r),(a=r.values).push.apply(a,o.values),r;var a}return __extends(n,e),n.prototype.init=function(e){e.classList.add("single-value"),this.render()},n.prototype.onSelected=function(e){this.selectedValues.splice(0,this.selectedValues.length,t.ChooserValue.from(t.ChooserValue.from(e))),this.closeHandler(),this.triggerDown("deselect-other-values",e)},n.prototype.clicked=function(e,t){this.open()},n.prototype.keyHandler=function(e){27===e.keyCode&&this.closeHandler(),13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var t=this.values.length;if(t&&(40===e.keyCode&&(e.preventDefault(),++this.selectedIndex>t-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),--this.selectedIndex<0&&(this.selectedIndex=t-1)),40===e.keyCode||38===e.keyCode)){e.preventDefault();var n=this.values[this.selectedIndex];this.triggerDown("select-value",n),this.triggerDown("deselect-other-values",n)}},n.prototype.open=function(){this.hidden=!1,s(c,document,this.closeHandler),s(["keydown"],document,this.keyHandler)},n.prototype.closeHandler=function(e){this.hidden||e&&this.element.querySelector(".values").contains(e.target)||(l(c,document,this.closeHandler),l(["keydown"],document,this.keyHandler),this.hidden=!0,this.selectedIndex=-1)},n.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <div class="selected-values">\n                  <ul {{selectedValues}}></ul>\n                  <div class="buttons">\n                    <Icon class="clickable" name="angle-down"/>\n                  </div>\n                </div>\n                <ul class="values" {{hidden}} {{values}}></ul>\n            </div>'},n}(a);__decorate([o({templateName:"dropdown-value"})],p.prototype,"selectedValues",void 0),__decorate([o()],p.prototype,"label",void 0),__decorate([o()],p.prototype,"hidden",void 0),__decorate([o({templateName:"selectable-value"})],p.prototype,"values",void 0),__decorate([o()],p.prototype,"value",void 0),__decorate([u("value-selected")],p.prototype,"onSelected",null),__decorate([i({event:"tap",selector:".selected-values > ul, .buttons",bubble:!0})],p.prototype,"clicked",null),__decorate([r()],p.prototype,"markup",null),p=__decorate([n({selector:"dropdown",attributes:["label","config"]})],p),t.Dropdown=p}(e.ui||(e.ui={}))}(feather||(feather={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.observe.Bind,r=e.annotations.Template,a=e.ui.events.GestureWidget,i=e.event.On,s=e.event.Scope,l=e.xhr.Rest,c=e.ui.utils.focusElement,u=e.ui.events.addMultipleEventListeners,p=e.ui.events.removeMultipleEventListeners,d=e.ui.events.tapEvents,h=e.hub.Subscribe,f=e.arrays.removeFromArray,v=6,y=function(e){function n(t,n){var o=e.call(this)||this;return o.values=[],o.selectedValues=[],o.hidden=!0,o.fetching=!1,o.selectedIndex=-1,o.fetchingClass=function(e){return e?"fetching":void 0},o.selectedCount=function(e){return e.length},o.label=t,o.url=n.fetchUrl,o.singleValue=n.singleValue,o.maxItems=n.maxItems||v,o.converter=n.dataConverter,n.initialValues&&(r=o.selectedValues).push.apply(r,n.initialValues.map(o.converter)),n.values=function(){return o.selectedValues.map(function(e){return e.value})},o.closeHandler=o.closeHandler.bind(o),o;var r}return __extends(n,e),n.prototype.init=function(e){this.singleValue&&e.classList.add("single-value"),this.render()},n.prototype.textChanged=function(e){this.url&&(this.keyword=e.target.value,/^\s*$/.test(this.keyword)?this.values.splice(0,this.values.length):(this.fetching=!0,this.open(),this.lastFetch&&this.lastFetch.abort(),this.lastFetch=this.fetchData()))},n.prototype.fetchData=function(e){this.fetching=!1,(t=this.values).splice.apply(t,[0,this.values.length].concat(e.slice(0,this.maxItems).map(this.converter)));var t},n.prototype.onValueClicked=function(e){this.singleValue&&(this.selectedValues.pop(),this.previous=e),c(this.element.querySelector("input"))},n.prototype.onSelected=function(e){this.previous=void 0,this.singleValue?this.selectedValues.splice(0,this.selectedValues.length,t.ChooserValue.from(t.ChooserValue.from(e))):this.selectedValues.push(t.ChooserValue.from(e)),this.closeHandler(),this.triggerDown("autogrow-clear",!0),this.triggerDown("deselect-other-values",e)},n.prototype.emptySpaceClicked=function(e,t){e.target===t&&c(this.element.querySelector("input"))},n.prototype.blured=function(e){this.hidden&&(this.closeHandler(),this.restorePrevious())},n.prototype.restorePrevious=function(){this.singleValue&&void 0!==this.previous&&this.selectedValues.splice(0,this.selectedValues.length,t.ChooserValue.from(this.previous))},n.prototype.focused=function(e){this.textChanged(e)},n.prototype.deleteClicked=function(){this.previous=void 0;var e=this.selectedValues,t=e.filter(function(e){return e.selected});0===t.length?e.splice(0,e.length):f(e,t)},n.prototype.controlKeyPressed=function(e){if(8===e.keyCode&&!e.target.value.length&&this.selectedValues.length>0&&this.selectedValues.pop(),27===e.keyCode){var t=this.element.querySelector("input");t.blur(),t.value="",this.closeHandler(),this.restorePrevious()}13===e.keyCode&&-1!==this.selectedIndex&&this.onSelected(this.values[this.selectedIndex]);var n=this.values.length;if(n&&(40===e.keyCode&&(e.preventDefault(),++this.selectedIndex>n-1&&(this.selectedIndex=0)),38===e.keyCode&&(e.preventDefault(),--this.selectedIndex<0&&(this.selectedIndex=n-1)),40===e.keyCode||38===e.keyCode)){var o=this.values[this.selectedIndex];this.triggerDown("select-value",o),this.triggerDown("deselect-other-values",o)}},n.prototype.open=function(){this.hidden=!1,u(d,document,this.closeHandler)},n.prototype.closeHandler=function(e){this.hidden||e&&this.element.contains(e.target)||(p(d,document,this.closeHandler),this.hidden=!0,this.selectedIndex=-1)},n.prototype.markup=function(){return'\n            <div class="field">\n                <label class="label">{{label}}</label>\n                <div class="selected-values">\n                  <ul count="{{selectedValues:selectedCount}}" {{selectedValues}}>\n                    <li><auto-grow-input/></li>\n                  </ul>\n                  <div class="buttons">\n                    <button class="delete is-small"></button>\n                  </div>\n                </div>\n                <ul class="values {{fetching:fetchingClass}}" {{hidden}} {{values}}></ul>\n            </div>'},n}(a);__decorate([o({templateName:"selectable-value"})],y.prototype,"values",void 0),__decorate([o({templateName:"value"})],y.prototype,"selectedValues",void 0),__decorate([o()],y.prototype,"label",void 0),__decorate([o()],y.prototype,"hidden",void 0),__decorate([o()],y.prototype,"fetching",void 0),__decorate([i({event:"textchange",selector:'input[type="text"]'})],y.prototype,"textChanged",null),__decorate([l({url:"{{url}}{{keyword}}"})],y.prototype,"fetchData",null),__decorate([h("value-clicked")],y.prototype,"onValueClicked",null),__decorate([h("value-selected")],y.prototype,"onSelected",null),__decorate([i({event:"tap",selector:".selected-values > ul",bubble:!0})],y.prototype,"emptySpaceClicked",null),__decorate([i({event:"blur",selector:'input[type="text"]',scope:s.Direct})],y.prototype,"blured",null),__decorate([i({event:"focus",selector:'input[type="text"]',scope:s.Direct})],y.prototype,"focused",null),__decorate([i({event:"tap",selector:".delete"})],y.prototype,"deleteClicked",null),__decorate([i({event:"keydown",selector:"input"})],y.prototype,"controlKeyPressed",null),__decorate([r()],y.prototype,"markup",null),y=__decorate([n({selector:"chooser",attributes:["label","config"]})],y),t.Chooser=y}(e.ui||(e.ui={}))}(feather||(feather={}));var quill;!function(e){!function(e){e[e.ENTER=13]="ENTER"}(e.Keys||(e.Keys={}))}(quill||(quill={}));var quill;!function(e){var t=feather.ui.tree.TreeNodeIcon,n={},o=function(){for(var e,t=/\+/g,o=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},a=window.location.search.substring(1);e=o.exec(a);)n[r(e[1])]=r(e[2])};window.addEventListener("popstate",o),o(),e.getQueryStringParam=function(e){return n[e]},e.iconFor=function(e){switch(e){case"string":return t.text;case"number":return t.number;case"enum":return t.enum;case"list":return t.array;case"node":return t.object;case"boolean":return t.boolean}}}(quill||(quill={}));var quill;!function(e){e.headers=(t={"X-Api-Key":"AbCdEfGhIjK1","Content-Type":"application/json","Accept-Language":"en_IE.UTF-8"},t["X-Auth-Token"]=localStorage.getItem("X-Auth-Token"),t),e.setToken=function(t){localStorage.setItem("X-Auth-Token",t.token),e.headers["X-Auth-Token"]=t.token},e.removeToken=function(){localStorage.removeItem("X-Auth-Token"),e.headers["X-Auth-Token"]=void 0};var t}(quill||(quill={}));var _this=this;window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(_this.document||_this.ownerDocument).querySelectorAll(e),o=_this;do{for(t=n.length;--t>=0&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o});var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.observe.Bind,r=feather.annotations.Template,a=i=function(e){function t(){var t=e.call(this)||this;return t.fetching=!1,t.runningClass=function(e){return e?"running":void 0},i.instance=t,t}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return'<div class="progress-runner {{fetching:runningClass}}"></div>'},t.start=function(){i.instance.fetching=!0},t.stop=function(){i.instance.fetching=!1},t}(t);__decorate([o()],a.prototype,"fetching",void 0),__decorate([r()],a.prototype,"markup",null),a=i=__decorate([n({selector:"progress-bar"})],a),e.Progress=a;var i}(quill||(quill={}));var quill;!function(e){!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.annotations.Template,r=feather.observe.Bind,a=i=function(e){function t(t){var n=e.call(this)||this;return n.translated=function(e){return i.translations[e]},n.key=t,n}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.text=function(){return"<span>{{key:translated}}</span>"},t}(t);a.translate=function(e){return e.replace(/•([A-Z\.\-_]+)/gi,function(e,t){return(i.translations||{})[t]||t})},__decorate([r({html:!0})],a.prototype,"key",void 0),__decorate([o()],a.prototype,"text",null),a=i=__decorate([n({selector:"translate",attributes:["key"]})],a),e.Translate=a;var i}(e.components||(e.components={}))}(quill||(quill={}));var quill;!function(e){!function(t){var n=feather.ui.events.GestureWidget,o=feather.ui.toast.Theme,r=feather.objects.setDeepValue,a=feather.ui.toast.ToastManager,i=feather.ui.toast.Toast,s=feather.hub.Subscribe,l=feather.event.On,c=function(n){function s(){var e=null!==n&&n.apply(this,arguments)||this;return e.translated=function(e){return t.Translate.translations[e]},e}return __extends(s,n),s.prototype.validationFailed=function(n){var r=this;e.Progress.stop();var s=n.errors.map(function(e){return"validation"===e.type&&r.triggerDown("field-error",e.title),e.message});if(n.errors.length){var l=n.errors[0].title.split(".").shift();a.showToast(new i(t.Translate.translations["ui."+l+".failed"],s,o.Warning))}},s.prototype.requestFailed=function(n,r){e.Progress.stop(),a.showToast(new i(t.Translate.translations["ui.error.server"],n.errors[0].message,o.Error))},s.prototype.timeout=function(n,r){e.Progress.stop(),a.showToast(new i(t.Translate.translations["ui.error.timeout"],t.Translate.translations["ui.error.timeout.message"],o.Error))},s.prototype.textChanged=function(e,t){var n=e.target.closest("[bind]");n&&r(this,n.getAttribute("bind"),t.value)},s}(n);__decorate([s("xhr-failure-400")],c.prototype,"validationFailed",null),__decorate([s("xhr-failure-500")],c.prototype,"requestFailed",null),__decorate([s("xhr-failure-timeout")],c.prototype,"timeout",null),__decorate([l({event:"textchange",selector:"input"})],c.prototype,"textChanged",null),t.AjaxForm=c}(e.components||(e.components={}))}(quill||(quill={}));var quill;!function(e){!function(e){var t=feather.ui.events.GestureWidget,n=feather.annotations.Construct,o=feather.hub.Subscribe,r=feather.event.On,a=feather.observe.Bind,i=feather.annotations.Template,s=feather.arrays.removeFromArray,l=c=function(e){function t(t,n,o){var r=e.call(this)||this;return r.label=t,r.selected=n,r.type=o,c.labels.push(r),r}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.click=function(){var e=this;this.selected=!0,this.triggerUp("root-type-selected",this.type),c.labels.forEach(function(t){t!==e&&(t.selected=!1)})},t.prototype.nodeSelected=function(e){e&&(this.selected=!1)},t.prototype.markup=function(){return'<p class="menu-label clickable" {{selected}}>\n                <span class="icon is-small">\n                    <i class="fa fa-angle-double-right"></i>\n                </span>\n                {{label}}\n            </p>'},t.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),s(c.labels,[this])},t}(t);l.labels=[],__decorate([a()],l.prototype,"selected",void 0),__decorate([a()],l.prototype,"label",void 0),__decorate([r({event:"tap"})],l.prototype,"click",null),__decorate([o("defocus-other-nodes")],l.prototype,"nodeSelected",null),__decorate([i()],l.prototype,"markup",null),l=c=__decorate([n({selector:"selectable-tree-label",attributes:["label","selected","type"]})],l),e.SelectableTreeLabel=l;var c}(e.components||(e.components={}))}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Template,n=e.components.Translate,o=feather.event.On,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.backButtonClicked=function(){this.route("/")},t.prototype.loginPage=function(){return n.translate('\n            <scroll-pane class="grow">\n                <div class="small-info-page">\n                  <h1>•ui.page.notfound.title</h1>\n                  <p>•ui.page.notfound.body</p>\n                  <div class="form-components">\n                    <div class="block has-text-right">\n                        <a class="button is-primary back-action">•ui.page.notfound.button</a>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            ')},t}(feather.ui.events.GestureWidget);__decorate([o({event:"tap",selector:".back-action",preventDefault:!0})],r.prototype,"backButtonClicked",null),__decorate([t("default",!1)],r.prototype,"loginPage",null),e.NotFoundPage=r}(quill||(quill={}));var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Template,o=feather.observe.Bind,r=feather.hub.Subscribe,a=feather.ui.tree.TreeNode,i=feather.xhr.Rest,s=feather.xhr.Method,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=function(){return""+t.value.id},t}return __extends(t,e),t}(a),c=function(t){var n=new l(t.name,t,e.iconFor(t.type));return(o=n.children).push.apply(o,t.children.map(c)),n;var o},u={id:0,name:"",structure:[],schema:[]},p=function(e){function t(t){var n=e.call(this)||this;return n.nodes=[],n.schemaNodes=[],n.project=u,n.currentRootType="structure",n.id=function(){return n.projectId},n.newNode={name:"New node",sort:0},n.projectId=t,n}return __extends(t,e),t.prototype.init=function(){this.fetchProject()},t.prototype.fetchProject=function(e){this.project=e,(t=this.nodes).push.apply(t,e.structure.map(c));var t},t.prototype.nodeDeselected=function(e){this.currentTreeNode=void 0},t.prototype.nodeSelected=function(e){this.currentTreeNode=e,this.triggerDown("defocus-other-nodes",e)},t.prototype.rootTypeSelected=function(e){this.currentRootType=e,this.triggerDown("defocus-other-nodes")},t.prototype.nodeAction=function(e){switch(e){case"node-add":this.currentTreeNode?this.createChildNode():this.createNode();break;case"node-delete":this.deleteNode()}},t.prototype.createChildNode=function(){},t.prototype.deleteNode=function(){},t.prototype.createNode=function(){},t.prototype.projectPage=function(){return'\n              <panel class="fullscreen v-flex">  \n                  <navigation class="no-grow"></navigation>\n                  <horizontal-split class="grow" id="app-split">\n                    <sidebar class="v-flex">\n                      <tree-actions></tree-actions>\n                      <scroll-pane class="grow">\n                        <aside class="menu">\n                          <selectable-tree-label label="Structure" selected={true} type="structure"></selectable-tree-label>\n                          <ul class="tree-view is-marginless" {{nodes}}></ul>\n                          <selectable-tree-label label="Schemas" selected={false} type="schema"></selectable-tree-label>\n                          <ul class="tree-view is-marginless" {{schemaNodes}}></ul>\n                        </aside>\n                      </scroll-pane>\n                    </sidebar>\n                    <section class="v-flex">\n                      <scroll-pane class="grow">\n                      </scroll-pane>\n                    </section>\n                  </horizontal-split>\n                  <footer class="no-grow"/>\n              </panel>\n            '},t}(t);__decorate([o()],p.prototype,"nodes",void 0),__decorate([o()],p.prototype,"schemaNodes",void 0),__decorate([o({bequeath:!0})],p.prototype,"project",void 0),__decorate([i({url:"/projects/{{projectId}}",headers:e.headers})],p.prototype,"fetchProject",null),__decorate([r("node-defocused")],p.prototype,"nodeDeselected",null),__decorate([r("node-focused")],p.prototype,"nodeSelected",null),__decorate([r("root-type-selected")],p.prototype,"rootTypeSelected",null),__decorate([r("node-action")],p.prototype,"nodeAction",null),__decorate([i({url:"/projects/{{projectId}}/node/{{currentNode.id}}",method:s.POST,headers:e.headers})],p.prototype,"createChildNode",null),__decorate([i({url:"/projects/{{projectId}}/node/{{currentNode.id}}",method:s.DELETE,headers:e.headers})],p.prototype,"deleteNode",null),__decorate([i({url:"/projects/{{projectId}}/{{currentRootType}}",method:s.POST,body:"newNode",headers:e.headers})],p.prototype,"createNode",null),__decorate([n()],p.prototype,"projectPage",null),e.ProjectPage=p}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Template,n=feather.observe.Bind,o=feather.hub.Subscribe,r=feather.event.On,a=feather.xhr.Rest,i=feather.xhr.Method,s=feather.ui.toast.Theme,l=e.components.AjaxForm,c=e.components.Translate,u=feather.ui.toast.Toast,p=feather.ui.toast.ToastManager,d=feather.event.Scope,h=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.credentials={},e.signup={},e.forgotPassword={},e.forgotPasswordInfo="forgot-password.info",e}return __extends(n,t),n.prototype.loginClicked=function(){e.Progress.start(),this.doLogin()},n.prototype.pressedEnter=function(t){t.keyCode===e.Keys.ENTER&&(e.Progress.start(),this.doLogin())},n.prototype.doLogin=function(t){e.setToken(t),this.route("/ "),e.Progress.stop()},n.prototype.unauthorized=function(t,n){e.Progress.stop(),p.showToast(new u(t.errors[0].title,t.errors[0].message,s.Error))},n.prototype.signupClicked=function(){this.triggerDown("field-error-clear"),e.Progress.start(),this.doSignup()},n.prototype.doSignup=function(t){e.setToken(t),e.Progress.stop(),this.route("/")},n.prototype.forgotPasswordClicked=function(){e.Progress.start(),this.requestPasswordChange()},n.prototype.requestPasswordChange=function(){e.Progress.stop();var t=c.translations["ui.forgot-password.email-sent"],n=c.translations["ui.forgot-password.email-sent.message"];p.showToast(new u(t,n,s.Info)),this.route("/login")},n.prototype.loginPage=function(){return c.translate('\n            <scroll-pane class="grow">\n            <div class="login">\n                <tabs>\n                  <div class="form-components" title="•ui.login.tabs.login" icon="key" active>\n                    <Text label="•ui.signin.identifier" name="signin.identifier"\n                          placeholder="john@freemail.com" icon="envelope-o" autofocus bind="credentials.identifier"></Text>\n                    <Text label="•ui.signin.password" name="signin.password" type="password" icon="lock" bind="credentials.password"></Text>\n                    <div class="block has-text-right">\n                         <a class="button is-primary login-action">•ui.signin.button</a>\n                    </div>\n                  </div>\n                  <div class="form-components" title="•ui.login.tabs.signup" icon="pencil-square-o">\n                    <Text label="•ui.signup.firstname" name="signup.firstname" placeholder="John" type="text" icon="user-o" bind="signup.firstname"></Text>\n                    <Text label="•ui.signup.lastname" name="signup.lastname" placeholder="Smith" type="text" icon="user-o" bind="signup.lastname"></Text>\n                    <Text label="•ui.signup.email" name="signup.email" placeholder="john@freemail.com" icon="envelope-o" bind="signup.email"></Text>\n                    <Text label="•ui.signup.password" name="signup.password" type="text" icon="lock" bind="signup.password"></Text>\n                    <div class="block has-text-right">\n                         <a class="button is-primary signup-action">•ui.signup.button</a>\n                    </div>\n                  </div>\n                  <div class="form-components" title="•ui.login.tabs.forgot-password" icon="unlock">\n                    <p><Translate key="ui.forgot-password.info"/></p>\n                    <Text label="•ui.forgot-password.email" name="forgot-password.email"\n                          placeholder="•ui.forgot-password.email.placeholder" icon="envelope-o" bind="forgotPassword.identifier"></Text>\n                    <div class="block has-text-right">\n                         <a class="button is-primary forgot-password-action">•ui.forgot-password.button</a>\n                    </div>\n                  </div>\n              </tabs>\n            </div>\n            </scroll-pane>\n            ')},n}(l);__decorate([n()],h.prototype,"forgotPasswordInfo",void 0),__decorate([r({event:"tap",selector:".login-action"})],h.prototype,"loginClicked",null),__decorate([r({event:"keypress",selector:'input[type="password"]',scope:d.Direct})],h.prototype,"pressedEnter",null),__decorate([a({url:"/signin",method:i.POST,body:"credentials",headers:e.headers})],h.prototype,"doLogin",null),__decorate([o("xhr-failure-401")],h.prototype,"unauthorized",null),__decorate([r({event:"tap",selector:".signup-action"})],h.prototype,"signupClicked",null),__decorate([a({url:"/signup",method:i.POST,body:"signup",headers:e.headers})],h.prototype,"doSignup",null),__decorate([r({event:"tap",selector:".forgot-password-action"})],h.prototype,"forgotPasswordClicked",null),__decorate([a({url:"/account",method:i.PUT,body:"forgotPassword",headers:e.headers})],h.prototype,"requestPasswordChange",null),__decorate([t("default",!1)],h.prototype,"loginPage",null),e.LoginPage=h}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Template,n=feather.observe.Bind,o=feather.hub.Subscribe,r=feather.event.On,a=feather.xhr.Rest,i=feather.xhr.Method,s=feather.ui.toast.Theme,l=e.components.AjaxForm,c=e.components.Translate,u=feather.ui.toast.Toast,p=feather.ui.toast.ToastManager,d=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.newPassword={id:e.getQueryStringParam("id")},n.changePasswordInfo="ui.change-password.info",n}return __extends(n,t),n.prototype.init=function(){e.removeToken()},n.prototype.submitClicked=function(){e.Progress.start(),this.doPasswordChange()},n.prototype.doPasswordChange=function(){e.Progress.stop(),this.route("/login");var t=c.translations["ui.change-password.success.title"],n=c.translations["ui.change-password.success.message"];p.showToast(new u(t,n,s.Error))},n.prototype.unauthorized=function(t,n){e.Progress.stop();var o=c.translations["ui.change-password.fail.title"],r=c.translations["ui.change-password.fail.message"];p.showToast(new u(o,r,s.Error)),this.route("/login")},n.prototype.loginPage=function(){return c.translate('\n            <scroll-pane class="grow">\n                <div class="change-password">\n                  <p><Translate key="ui.change-password.info"/></p>\n                  <div class="form-components">\n                    <Text label="•ui.change-password.password"\n                          name="change-password.password"\n                          placeholder="•ui.change-password.placeholder"\n                          type="password"\n                          icon="lock"\n                          autofocus\n                          bind="newPassword.password"></Text>\n                    <Text label="•ui.change-password.password-repeat"\n                          name="change-password.password-repeat"\n                          type="password"\n                          icon="lock"\n                          bind="newPassword.passwordRepeat"></Text>\n                    <div class="block has-text-right">\n                         <a class="button is-primary change-action">•ui.change-password.button</a>\n                    </div>\n                  </div>\n                </div>\n            </scroll-pane>\n            ')},n}(l);__decorate([n()],d.prototype,"changePasswordInfo",void 0),__decorate([r({event:"tap",selector:".change-action"})],d.prototype,"submitClicked",null),__decorate([a({url:"/account/password",method:i.PUT,body:"newPassword",headers:e.headers})],d.prototype,"doPasswordChange",null),__decorate([o("xhr-failure-401")],d.prototype,"unauthorized",null),__decorate([t("default",!1)],d.prototype,"loginPage",null),e.PassordChangePage=d}(quill||(quill={}));var feather;!function(e){!function(t){var n=e.annotations.Construct,o=e.annotations.Template,r=e.observe.Bind,a=e.event.On,i=e.hub.Subscribe,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!0,t}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.nodeSelected=function(e){this.disabled=!1},t.prototype.buttonClicked=function(e,t){this.triggerUp("node-action",t.getAttribute("action"))},t.prototype.markup=function(){return'\n              <div class="level is-mobile is-marginless">\n                <div class="level-left">\n                   <a class="button is-small" action="node-add"><Icon name="plus"></Icon></a>\n                   <a class="button is-small" action="node-edit" {{disabled}}><Icon name="pencil"></Icon></a>\n                </div>\n                <div class="level-right">\n                   <a class="button is-small" action="node-delete" {{disabled}}><Icon name="trash-o"/></a>\n                </div>\n              </div>\n            '},t}(e.ui.events.GestureWidget);__decorate([r()],s.prototype,"disabled",void 0),__decorate([i("defocus-other-nodes")],s.prototype,"nodeSelected",null),__decorate([a({event:"tap",selector:"a[action]:not([disabled])"})],s.prototype,"buttonClicked",null),__decorate([o()],s.prototype,"markup",null),s=__decorate([n({selector:"tree-actions"})],s),t.TreeActions=s}(e.ui||(e.ui={}))}(feather||(feather={}));var quill;!function(e){var t=feather.annotations.Construct,n=feather.annotations.Template,o=feather.event.On,r=feather.ui.events.GestureWidget,a=feather.hub.Subscribe,i=feather.ui.events.addMultipleEventListeners,s=feather.ui.events.removeMultipleEventListeners,l=feather.ui.events.tapEvents,c=feather.xhr.Rest,u=function(t){function n(){var e=t.call(this)||this;return e.closeHandler=e.closeHandler.bind(e),e}return __extends(n,t),n.prototype.init=function(){this.render()},n.prototype.toggle=function(e,t){this.toggleActiveState(),t.classList.contains("is-active")?i(l,document,this.closeHandler):s(l,document,this.closeHandler)},n.prototype.closeHandler=function(e){this.element.contains(e.target)||(this.toggleActiveState(),s(l,document,this.closeHandler))},n.prototype.toggleActiveState=function(){var e=this.element.querySelector(".nav-toggle");e.classList.toggle("is-active"),e.nextElementSibling.classList.toggle("is-active")},n.prototype.logoutClicked=function(){this.doLogout()},n.prototype.doLogout=function(){e.removeToken(),this.route("/login")},n.prototype.logoutFailed=function(){e.removeToken(),this.route("/login")},n.prototype.markup=function(){return'\n            <nav class="nav">\n              <div class="nav-left">\n                <a class="nav-item" href="/" id="logo">\n                    <img src="/assets/images/quill.svg" alt="Quill Logo">\n                    <span>Quill</span><span>{{project.name}}</span>\n                </a>\n              </div>\n              <span class="nav-toggle">\n                <span></span>\n                <span></span>\n                <span></span>\n              </span>\n              <div class="nav-right nav-menu">\n                <a class="nav-item logout">Logout <span class="username">{{user.firstname}}</span></a>\n                <a class="nav-item">Documentation</a>\n                <div  class="nav-item">\n                    <p class="control has-icons-right" id="search">\n                      <input class="input" type="text" placeholder="Search...">\n                      <Icon name="search" align-right="right"></Icon>\n                    </p>\n                </div>\n              </div>\n            </nav>\n            '},n}(r);__decorate([o({event:"tap",selector:".nav-toggle"})],u.prototype,"toggle",null),__decorate([o({event:"tap",selector:"a.logout"})],u.prototype,"logoutClicked",null),__decorate([c({url:"/signout",headers:e.headers})],u.prototype,"doLogout",null),__decorate([a("xhr-failure")],u.prototype,"logoutFailed",null),__decorate([n()],u.prototype,"markup",null),u=__decorate([t({selector:"navigation",singleton:!0})],u),e.Navigation=u}(quill||(quill={}));var quill;!function(e){var t=feather.annotations.Construct,n=feather.annotations.Template,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.render()},t.prototype.markup=function(){return""},t}(feather.ui.events.GestureWidget);__decorate([n()],o.prototype,"markup",null),o=__decorate([t({selector:"content"})],o),e.Content=o}(quill||(quill={}));var quill;!function(e){var t=feather.core.Widget,n=feather.annotations.Construct,o=feather.annotations.Template,r=feather.observe.Bind,a=feather.routing.Route,i=feather.hub.Subscribe,s=feather.xhr.Rest,l=feather.ui.toast.ToastManager,c=feather.ui.toast.Toast,u=feather.ui.toast.Theme,p=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.user=null,e}return __extends(n,t),n.prototype.init=function(){this.fetchTranslations()},n.prototype.fetchTranslations=function(t){e.components.Translate.translations=t.messages.reduce(function(e,t){return __assign({},e,(n={},n[t.key]=t.value,n));var n},{}),this.render()},n.prototype.checkLogin=function(e){this.user=e,this.route("/project/"+this.user.lastProject)},n.prototype.unauthorized=function(){this.route("/login")},n.prototype.genericFetchError=function(e,t){l.showToast(new c("API request has failed",e,u.Error))},n.prototype.projectPage=function(t){this.user?this.pages.splice(0,1,new e.ProjectPage(t.id)):this.checkLogin()},n.prototype.loginPage=function(){this.pages.splice(0,1,new e.LoginPage)},n.prototype.notFoundPage=function(){this.pages.splice(0,1,new e.NotFoundPage)},n.prototype.changePasswordPage=function(){this.pages.splice(0,1,new e.PassordChangePage)},n.prototype.homePage=function(){this.checkLogin()},n.prototype.applicationHTML=function(){return'<progress-bar></progress-bar><panel class="fullscreen v-flex" {{pages}}></panel>'},n}(t);__decorate([r()],p.prototype,"pages",void 0),__decorate([r({bequeath:!0})],p.prototype,"user",void 0),__decorate([s({url:"/translations",headers:e.headers})],p.prototype,"fetchTranslations",null),__decorate([s({url:"/account",headers:e.headers})],p.prototype,"checkLogin",null),__decorate([i("xhr-failure-401")],p.prototype,"unauthorized",null),__decorate([a("/project/:id")],p.prototype,"projectPage",null),__decorate([a("/login")],p.prototype,"loginPage",null),__decorate([a("/404")],p.prototype,"notFoundPage",null),__decorate([a("/changepassword")],p.prototype,"changePasswordPage",null),__decorate([a("/")],p.prototype,"homePage",null),__decorate([o()],p.prototype,"applicationHTML",null),p=__decorate([n({selector:"body.quill-app"})],p),e.QuillApplication=p}(quill||(quill={})),feather.start();